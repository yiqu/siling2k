<h1 mat-dialog-title class="mfont my-2 big">
  <ng-container *ngIf="this.data.company; else newEntry">
    Editing Existing Entry
  </ng-container>
  <ng-template #newEntry>
    New Siling1k Entry
  </ng-template>
</h1>
<hr>
<ng-container *ngIf="((this.data.companyLoading | async) === false); else isLoading">
  <div mat-dialog-content>
    <div fxLayout="row" fxLayoutGap="5px" fxLayoutAlign="space-between start" class="w-100">
      <form [formGroup]="this.entryFg" fxFlex="50">
        <ng-container *ngFor="let control of entryFgStruct">
          <div>
            <mat-form-field class="example-full-width" appearance="standard">
              <mat-label>{{control.controlName | titlecase}}</mat-label>
              <ng-container [ngSwitch]="control.inputType">
                <ng-container *ngSwitchCase="'TEXT_INPUT'">
                  <input type="text" matInput [formControlName]="control.controlName" (focus)="onFocus(control.controlName)"
                  [placeholder]="control.controlName | titlecase">
                </ng-container>
                <ng-container *ngSwitchCase="'SELECT_INPUT'">
                  <ng-container *ngIf="(this.data.companies | async) as companyOptions">
                    <mat-select [formControlName]="control.controlName">
                      <mat-option *ngFor="let opt of companyOptions" [value]="opt">
                        {{ opt.name }}
                      </mat-option>
                    </mat-select>
                  </ng-container>

                </ng-container>
              </ng-container>

              <mat-hint [id]="$any(null)">{{control.controlName}}</mat-hint>

              <!-- <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                Please enter a valid email address
              </mat-error>
              <mat-error *ngIf="emailFormControl.hasError('required')">
                Email is <strong>required</strong>
              </mat-error> -->
            </mat-form-field>
          </div>
        </ng-container>
      </form>
      <div fxFlex="50" fxLayout="column" fxLayoutGap="10px" fxLayoutAlign="center center" fxHide fxShow.gt-sm>
        <div class="font-weight-bold subtitle">
          {{currentFocusControl | titlecase}}
        </div>
        <div>
          {{currentFocusControl}}
        </div>
      </div>
    </div>
  </div>
</ng-container>

<hr>
<div fxLayout="row" fxLayoutGap="1rem" fxLayoutAlign="end center" >
  <button mat-flat-button (click)="onSave()">Save</button>
  <button mat-flat-button (click)="onNoClick()">Cancel</button>
</div>

<ng-template #isLoading>
  <div>
    Loading...
  </div>
</ng-template>
