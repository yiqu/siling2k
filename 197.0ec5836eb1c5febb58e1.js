(self.webpackChunksiling2k=self.webpackChunksiling2k||[]).push([[197],{2197:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CoreModule:()=>fn});var i=n(8785),o=n(229),a=n(614),r=n(4933),s=n(5425),c=n(2852),l=n(5366);let g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-5"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"router-outlet"),l.qZA())},directives:[c.lC],styles:[""]}),t})();var p=n(5959),u=n(5416),d=n(8639),f=n(529),m=n(1041),h=n(2935),x=n(653),y=n(3588),Z=n(9996),v=n(4689),A=n(4019),b=function(t){return t.TEXT_INPUT="TEXT_INPUT",t.SELECT_INPUT="SELECT_INPUT",t.DATE_INPUT="DATE_INPUT",t.CHECK_INPUT="CHECK_INPUT",t}({});let w=(()=>{class t{constructor(){this.enterEscapeKeyEvent=new l.vpe}onEscape(t){this.enterEscapeKeyEvent.emit(T.ESCAPE)}onEnter(t){this.enterEscapeKeyEvent.emit(T.ENTER)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["","enterEscapeKeyEvent",""]],hostBindings:function(t,e){1&t&&l.NdJ("keyup.escape",function(t){return e.onEscape(t)},!1,l.evT)("keyup.enter",function(t){return e.onEnter(t)},!1,l.evT)},outputs:{enterEscapeKeyEvent:"enterEscapeKeyEvent"}}),t})();var T=function(t){return t.ENTER="Enter",t.ESCAPE="Escape",t}({}),L=n(3936),C=n(1293),D=n(2665),N=n(5965),q=n(1116),O=n(4369),_=n(7307),I=n(3070),F=n(9550),E=n(994),S=n(3841),k=n(7064),Q=n(9024),P=n(3817),J=n(158);function U(t,e){1&t&&(l.ynx(0),l._uU(1," Editing Existing Entry "),l.BQk())}function G(t,e){1&t&&l._uU(0," New Siling1k Entry ")}function M(t,e){1&t&&(l.TgZ(0,"span",26),l._uU(1,"$\xa0"),l.qZA())}function $(t,e){if(1&t&&(l.TgZ(0,"mat-hint",27),l._uU(1),l.ALo(2,"silingEntryTooltip"),l.qZA()),2&t){const t=l.oxw(2).$implicit;l.Q6J("id",null),l.xp6(1),l.hij(" ",l.xi3(2,2,t.controlName,!0)," ")}}function Y(t,e){1&t&&(l.TgZ(0,"mat-error"),l._uU(1," Please enter a valid number! "),l.qZA())}function j(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"mat-form-field",21),l.TgZ(2,"mat-label"),l._uU(3),l.ALo(4,"silingEntryTooltip"),l.qZA(),l.TgZ(5,"input",22),l.NdJ("focus",function(){l.CHM(t);const e=l.oxw().$implicit;return l.oxw(2).onFocus(e.controlName)}),l.qZA(),l.YNc(6,M,2,0,"span",23),l.YNc(7,$,3,5,"mat-hint",24),l.YNc(8,Y,2,0,"mat-error",25),l.qZA(),l.BQk()}if(2&t){const t=l.oxw().$implicit,e=l.oxw(2);let n;l.xp6(3),l.Oqu(l.xi3(4,5,t.controlName,!0)),l.xp6(2),l.Q6J("formControlName",t.controlName),l.xp6(1),l.Q6J("ngIf","amount"===t.controlName),l.xp6(1),l.Q6J("ngIf",e.currentFocusControl===t.controlName),l.xp6(1),l.Q6J("ngIf",null==(n=e.entryFormGroup.get(t.controlName))?null:n.hasError("optionalCommaSingleDecimalNumberOnly"))}}function B(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",28),l.TgZ(2,"mat-checkbox",29),l._uU(3),l.ALo(4,"silingEntryTooltip"),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw().$implicit;l.xp6(2),l.Q6J("formControlName",t.controlName),l.xp6(1),l.hij(" ",l.lcZ(4,2,t.controlName)," ")}}function H(t,e){if(1&t&&(l.TgZ(0,"mat-option",33),l.TgZ(1,"mat-icon"),l._uU(2,"account_balance"),l.qZA(),l._uU(3),l.ALo(4,"silingCompanyDisplay"),l.qZA()),2&t){const t=e.$implicit;l.Q6J("value",t),l.xp6(3),l.hij(" ",l.lcZ(4,2,t.name)," ")}}function R(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"mat-select",30),l.NdJ("focus",function(){l.CHM(t);const e=l.oxw(2).$implicit;return l.oxw(2).onFocus(e.controlName)}),l.TgZ(2,"mat-option"),l._uU(3,"None"),l.qZA(),l.YNc(4,H,5,4,"mat-option",31),l.TgZ(5,"mat-select-trigger"),l.TgZ(6,"div",32),l.TgZ(7,"mat-icon"),l._uU(8,"account_balance"),l.qZA(),l.TgZ(9,"div"),l._uU(10),l.ALo(11,"silingCompanyDisplay"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.BQk()}if(2&t){const t=e.ngIf,n=l.oxw(2).$implicit,i=l.oxw(2);let o;l.xp6(1),l.Q6J("formControlName",n.controlName),l.xp6(3),l.Q6J("ngForOf",t),l.xp6(6),l.hij(" ",l.lcZ(11,3,null==(o=i.entryFormGroup.get("company"))||null==o.value?null:o.value.name)," ")}}function K(t,e){if(1&t&&(l.TgZ(0,"mat-hint",27),l._uU(1),l.ALo(2,"silingEntryTooltip"),l.qZA()),2&t){const t=l.oxw(2).$implicit;l.Q6J("id",null),l.xp6(1),l.hij(" ",l.xi3(2,2,t.controlName,!0)," ")}}function W(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"mat-form-field",21),l.TgZ(2,"mat-label"),l._uU(3),l.ALo(4,"silingEntryTooltip"),l.qZA(),l.YNc(5,R,12,5,"ng-container",25),l.ALo(6,"async"),l.YNc(7,K,3,5,"mat-hint",24),l.qZA(),l.BQk()),2&t){const t=l.oxw().$implicit,e=l.oxw(2);l.xp6(3),l.Oqu(l.xi3(4,3,t.controlName,!0)),l.xp6(2),l.Q6J("ngIf",l.lcZ(6,6,e.data.companies)),l.xp6(2),l.Q6J("ngIf",e.currentFocusControl===t.controlName)}}function X(t,e){if(1&t&&(l.TgZ(0,"mat-hint",27),l._uU(1),l.ALo(2,"silingEntryTooltip"),l.qZA()),2&t){const t=l.oxw(2).$implicit;l.Q6J("id",null),l.xp6(1),l.hij(" ",l.xi3(2,2,t.controlName,!0)," ")}}function V(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"mat-form-field",21),l.TgZ(2,"mat-label"),l._uU(3),l.ALo(4,"silingEntryTooltip"),l.qZA(),l.TgZ(5,"input",34),l.NdJ("focus",function(){l.CHM(t);const e=l.oxw().$implicit;return l.oxw(2).onFocus(e.controlName)}),l.qZA(),l._UZ(6,"mat-datepicker-toggle",35),l._UZ(7,"mat-datepicker",null,36),l.YNc(9,X,3,5,"mat-hint",24),l.qZA(),l.BQk()}if(2&t){const t=l.MAs(8),e=l.oxw().$implicit,n=l.oxw(2);l.xp6(3),l.Oqu(l.xi3(4,5,e.controlName,!0)),l.xp6(2),l.Q6J("matDatepicker",t)("formControlName",e.controlName),l.xp6(1),l.Q6J("for",t),l.xp6(3),l.Q6J("ngIf",n.currentFocusControl===e.controlName)}}function z(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div"),l.ynx(2,19),l.YNc(3,j,9,8,"ng-container",20),l.YNc(4,B,5,4,"ng-container",20),l.YNc(5,W,8,8,"ng-container",20),l.YNc(6,V,10,8,"ng-container",20),l.BQk(),l.qZA(),l.BQk()),2&t){const t=e.$implicit;l.xp6(2),l.Q6J("ngSwitch",t.inputType),l.xp6(1),l.Q6J("ngSwitchCase","TEXT_INPUT"),l.xp6(1),l.Q6J("ngSwitchCase","CHECK_INPUT"),l.xp6(1),l.Q6J("ngSwitchCase","SELECT_INPUT"),l.xp6(1),l.Q6J("ngSwitchCase","DATE_INPUT")}}function tt(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",37),l._uU(2),l.ALo(3,"titlecase"),l.qZA(),l.TgZ(4,"div",38),l._uU(5),l.ALo(6,"silingEntryTooltip"),l.qZA(),l.BQk()),2&t){const t=l.oxw(2);l.xp6(2),l.hij(" ",l.lcZ(3,2,t.currentFocusControl)," "),l.xp6(3),l.hij(" ",l.lcZ(6,4,t.currentFocusControl)," ")}}function et(t,e){1&t&&(l.TgZ(0,"div",39),l._uU(1," Enter the dollar amount for its institution. "),l.qZA())}function nt(t,e){1&t&&(l.TgZ(0,"div",40),l._uU(1," Fix invalid inputs before saving. "),l.qZA())}function it(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",7),l.TgZ(2,"div",8),l.TgZ(3,"form",9),l.YNc(4,z,7,5,"ng-container",10),l.qZA(),l.TgZ(5,"div",11),l.YNc(6,tt,7,6,"ng-container",3),l.YNc(7,et,2,0,"ng-template",null,12,l.W1O),l.qZA(),l.qZA(),l.qZA(),l._UZ(9,"hr"),l.TgZ(10,"div",13),l.TgZ(11,"div",14),l.YNc(12,nt,2,0,"div",15),l.qZA(),l.TgZ(13,"div",16),l.TgZ(14,"button",17),l.NdJ("click",function(){return l.CHM(t),l.oxw().onNoClick()}),l.TgZ(15,"mat-icon"),l._uU(16,"close"),l.qZA(),l._uU(17," Cancel "),l.qZA(),l.TgZ(18,"button",18),l.NdJ("click",function(){return l.CHM(t),l.oxw().onSave()}),l.TgZ(19,"mat-icon"),l._uU(20,"save"),l.qZA(),l._uU(21," Save "),l.qZA(),l.qZA(),l.qZA(),l.BQk()}if(2&t){const t=l.MAs(8),e=l.oxw();l.xp6(3),l.Q6J("formGroup",e.entryFormGroup),l.xp6(1),l.Q6J("ngForOf",e.entryFormGroupStruct),l.xp6(2),l.Q6J("ngIf",e.currentFocusControl)("ngIfElse",t),l.xp6(6),l.Q6J("ngIf",e.entryFormGroup.touched&&e.entryFormGroup.invalid),l.xp6(6),l.Q6J("disabled",e.entryFormGroup.invalid)}}function ot(t,e){1&t&&(l.TgZ(0,"div",41),l._UZ(1,"app-shared-loading",42),l.qZA()),2&t&&(l.xp6(1),l.Q6J("message","institutions"))}const at=["company"],rt=["date"],st=["updateDate"];let ct=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.fb=n,this.entryFormGroupStruct=[],this.compDest$=new p.xQ,this.entryFormGroup=this.fb.group(this.createFormGroup(e))}get amountControl(){return this.entryFormGroup.get("amount")}ngOnInit(){this.entryFormGroupStruct=[],this.updateFormGroupStruct("amount",!0),this.entryFormGroup.valueChanges.pipe((0,u.R)(this.compDest$),(0,y.j)("amount")).subscribe(t=>{t&&this.amountControl.setValue((t+"").trim(),{emitEvent:!1})}),this.amountControl.valueChanges.pipe((0,u.R)(this.compDest$),(0,Z.U)(t=>!(!t||""===(t+"").trim())&&(this.entryFormGroup.get("company")||(this.entryFormGroup.addControl("company",d.j2(void 0,!1,[m.kI.required]),{emitEvent:!1}),this.updateFormGroupStruct("company",!0)),this.entryFormGroup.get("company"))),(0,v.w)(t=>t?t.valueChanges.pipe((0,u.R)(this.compDest$),(0,Z.U)(t=>!!t&&(this.entryFormGroup.get("updateDate")||(this.entryFormGroup.addControl("updateDate",d.j2(!1,!1),{emitEvent:!1}),this.updateFormGroupStruct("updateDate",!0)),this.entryFormGroup.get("updateDate"))),(0,v.w)(t=>t?t.valueChanges.pipe((0,u.R)(this.compDest$),(0,A.b)(t=>{t?this.entryFormGroup.get("date")||(this.entryFormGroup.addControl("date",d.j2(void 0,!1,[m.kI.required])),this.updateFormGroupStruct("date",!0)):(this.entryFormGroup.removeControl("date",{emitEvent:!1}),this.updateFormGroupStruct("date",!1))})):x.E)):x.E)).subscribe()}createFormGroup(t){return{amount:d.j2(t.amount,!1,[L.iN])}}updateFormGroupStruct(t,e){if(e){let e=b.TEXT_INPUT;at.indexOf(t)>-1?e=b.SELECT_INPUT:rt.indexOf(t)>-1?e=b.DATE_INPUT:st.indexOf(t)>-1&&(e=b.CHECK_INPUT),this.entryFormGroupStruct.push({controlName:t,inputType:e,value:this.data[t]})}else{const e=this.entryFormGroupStruct.findIndex(e=>e.controlName===t);this.entryFormGroupStruct.splice(e,1)}}onFocus(t){this.currentFocusControl=t}onNoClick(){this.dialogRef.close()}onSave(){let t=this.entryFormGroup.getRawValue();!1!==t.updateDate&&t.date||(t=Object.assign(Object.assign({},t),{date:new Date})),this.dialogRef.close(t)}onKeyEventt(t){t.key===T.ENTER&&this.entryFormGroup.valid&&this.onSave()}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(h.so),l.Y36(h.WI),l.Y36(m.qu))},t.\u0275cmp=l.Xpm({type:t,selectors:[["new-siling1k-entry-dialog"]],decls:15,vars:6,consts:[["ngClass.gt-sm","big",1,"w-100",3,"ngxKeyEvent"],["fxLayout","row","fxLayoutAlign","space-between center",1,"if","title-bar-bg","title","w-100"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","15px"],[4,"ngIf","ngIfElse"],["newEntry",""],["mat-icon-button","","color","warn",3,"click"],["isLoading",""],[1,"container","pt-3"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","space-between start",1,"w-100"],["fxFlex.gt-sm","50",3,"formGroup"],[4,"ngFor","ngForOf"],["fxFlex","50","fxHide","","fxShow.gt-sm","",1,"tooltip-parent"],["noTooltip",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"action-bar","mx-3"],[1,"error-msg"],["class","text-danger err-header",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","15px"],["mat-stroked-button","","color","warn",3,"click"],["mat-stroked-button","",3,"disabled","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appearance","standard",1,"w-100"],["type","text","matInput","",3,"formControlName","focus"],["matPrefix","",4,"ngIf"],[3,"id",4,"ngIf"],[4,"ngIf"],["matPrefix",""],[3,"id"],[1,"mt-1"],["color","primary",1,"",3,"formControlName"],[3,"formControlName","focus"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","start end"],[3,"value"],["matInput","",3,"matDatepicker","formControlName","focus"],["matSuffix","",3,"for"],["picker",""],["fxLayout","row","fxLayoutAlign","start center",1,"font-weight-bold","subtitle","mfont","mb-2"],["fxLayout","row","fxLayoutAlign","start center",1,"roboto"],["fxLayout","column","fxLayoutAlign","center center"],[1,"text-danger","err-header"],[1,"my-3"],[3,"message"]],template:function(t,e){if(1&t&&(l.TgZ(0,"div",0),l.NdJ("ngxKeyEvent",function(t){return e.onKeyEventt(t)}),l.TgZ(1,"section",1),l.TgZ(2,"div",2),l.TgZ(3,"div"),l.YNc(4,U,2,0,"ng-container",3),l.YNc(5,G,1,0,"ng-template",null,4,l.W1O),l.qZA(),l.qZA(),l.TgZ(7,"div"),l.TgZ(8,"button",5),l.NdJ("click",function(){return e.onNoClick()}),l.TgZ(9,"mat-icon"),l._uU(10,"close"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(11,it,22,6,"ng-container",3),l.ALo(12,"async"),l.YNc(13,ot,2,1,"ng-template",null,6,l.W1O)),2&t){const t=l.MAs(6),n=l.MAs(14);l.xp6(4),l.Q6J("ngIf",e.data.company)("ngIfElse",t),l.xp6(7),l.Q6J("ngIf",!1===l.lcZ(12,4,e.data.companyLoading))("ngIfElse",n)}},directives:[C.oO,D.pb,N.xw,N.Wh,N.SQ,q.O5,O.lW,_.Hw,m._Y,m.JL,N.yH,m.sg,q.sg,C.b8,q.RF,q.n9,I.KE,I.hX,F.Nt,m.Fj,m.JJ,m.u,I.qo,I.bx,I.TO,E.oG,S.gD,k.ey,S.$L,Q.hl,Q.nW,I.R9,Q.Mq,P.N],pipes:[q.Ov,J.q,J.n,q.rS],styles:[".big[_ngcontent-%COMP%]{width:40rem}.tooltip-parent[_ngcontent-%COMP%]{width:23rem}.action-bar[_ngcontent-%COMP%]{margin-bottom:10px}.action-bar[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{min-width:10px}"]}),t})(),lt=(()=>{class t{constructor(t){this.dialog=t,this.dialogRef=void 0}getDialog(t){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(ct,{data:Object.assign({},t),panelClass:"new-siling1k-entry",hasBackdrop:!0,autoFocus:!1,disableClose:!1,width:"calc(100% - 30rem)"}),this.dialogRef}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(h.uw))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();var gt=n(2523),pt=n(3148);const ut=(0,o.PH)("[Siling/API] Save entry start",(0,o.Ky)()),dt=(0,o.PH)("[Siling/API] Save entry successful",(0,o.Ky)()),ft=(0,o.PH)("[Siling/API] Save entry start failure",(0,o.Ky)()),mt=(0,o.PH)("[Siling/API] Get siling data by ins. name start",(0,o.Ky)()),ht=(0,o.PH)("[Siling/API] Get siling data by ins. name successful",(0,o.Ky)()),xt=(0,o.PH)("[Siling/API] Get siling data by ins. name failure",(0,o.Ky)()),yt=(0,o.PH)("[Siling/API] Refetch data"),Zt=(0,o.PH)("[Siling/API] Get siling all co. and companies to show info start"),vt=((0,o.PH)("[Siling/API] Get siling all co. and companies to show info successful",(0,o.Ky)()),(0,o.PH)("[Siling/API] Get siling all co. and companies to show info failure",(0,o.Ky)())),At=(0,o.ZF)("dashboard"),bt=(0,o.P1)(At,t=>t.entrySaveLoading),wt=(0,o.P1)(At,t=>t.firstTimeLoading&&t.silingDataLoading),Tt=(0,o.P1)(At,t=>t.silingDataLoading),Lt=(0,o.P1)(At,t=>t.silingDataLastFetched),Ct=(0,o.P1)(At,t=>{var e;return null!==(e=t.silingData)&&void 0!==e?e:{}}),Dt=(0,o.P1)(At,t=>t.silingDataBeingFetchedNames),Nt=(0,o.P1)(Dt,Ct,(t,e)=>{const n=Object.keys(e),i={};let o=100;return n.length>0&&(o=Math.floor(100/n.length)),n.forEach((t,n)=>{const o=JSON.parse(JSON.stringify(e[t])).sort((t,e)=>t.date>e.date?1:-1),a=[];o.forEach((t,e,n)=>{const i=o[e-1];let r=0,s=0;i&&t&&(r=t.amount-i.amount,s=0===i.amount?1:r/i.amount),a.push(Object.assign(Object.assign({},t),{profit:r,profitPercent:s}))});const r=JSON.parse(JSON.stringify(a));i[t]=r.reverse()}),{data:i,keys:t,flexNumber:o}}),qt=(0,o.P1)(Nt,t=>{const e=[],n=[];t.keys.forEach(e=>{t.data&&t.data[e]&&t.data[e].forEach(t=>{n.push(t.date)})}),n.sort((t,e)=>t>e?1:-1);const i=new Set(n),o=Array.from(i);return t.keys.forEach(n=>{const i=(0,d.fm)(n),a=t.data[n];let r=[];if(a){const t={};a.forEach(e=>{t[e.date]=e.amount}),o.forEach((e,n)=>{r.push(void 0!==t[e]?+t[e]:NaN)})}let s=[],c=0;o.forEach((t,e)=>{isNaN(r[e])?s.push(c):(c=r[e],s.push(r[e]))}),e.push({name:i,data:s})}),{series:e,chart:{type:"line",height:350,zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"},width:"100%"},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Siling Growth by Date",align:"left",style:{fontFamily:"Roboto"}},fill:{type:"gradient",gradient:{opacityFrom:.9,opacityTo:.9}},yaxis:{labels:{formatter:function(t){return t?"$"+(+t).toLocaleString(void 0):t+""}},title:{text:"$ Amount"}},xaxis:(a=o,{type:"datetime",categories:[...a]}),tooltip:{shared:!0,y:{formatter:function(t,e){return t?"$"+(0,d.gW)(t):t+""}}},legend:{show:!0,position:"top",horizontalAlign:"center",fontFamily:"Roboto",fontSize:"15px"},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}}};var a}),Ot=(0,o.P1)(Nt,t=>{let e={},n=0,i=0;return t.keys.forEach((o,a)=>{var r,s;if(t.data[o]){const c=JSON.parse(JSON.stringify(t.data[o]));c.sort((t,e)=>t.date>e.date?1:-1);const l=c[null!==(s=(null===(r=t.data[o])||void 0===r?void 0:r.length)-1)&&void 0!==s?s:0];0===a&&l&&(i=l.date);let g=+(null==l?void 0:l.amount);g=isNaN(g)?0:g,e[o]=g,n+=g,i<(null==l?void 0:l.date)&&(i=l.date)}}),{sumAmount:e,lastUpdated:i,total:n}}),_t=(0,o.P1)(Nt,t=>{const e=[];t&&t.keys.forEach(n=>{t.data&&t.data[n]&&t.data[n].forEach(t=>{e.push(t.date)})}),e.sort((t,e)=>t>e?1:-1);const n=new Set(e);return Array.from(n)}),It=(0,o.ZF)("dashboardUI"),Ft=(0,o.P1)(It,t=>t.currentSelection),Et=(0,o.P1)(It,t=>t.allTabSelections),St=(0,o.P1)(Et,Ft,(t,e)=>t&&e?t.findIndex(t=>t.id===e.id):0),kt=(0,o.PH)("[Siling/UI] Set dashboard view tab selection",(0,o.Ky)());var Qt=n(8811);let Pt=(()=>{class t{constructor(t,e){this.store=t,this.rs=e,this.isEntrySaveLoading$=this.store.select(bt),this.isDashboardDataFirstTimeLoading$=this.store.select(wt),this.isDataLoading$=this.store.select(Tt),this.dashboardData$=this.store.select(Nt),this.chartData$=this.store.select(qt),this.summary$=this.store.select(Ot),this.selectTabIndex$=this.store.select(St),this.dashboardTabs$=this.store.select(Et),this.silingData$=this.store.select(Ct),this.dataLastFetched$=this.store.select(Lt),this.companiesShown$=this.store.select(Dt),this.getAllDates$=this.store.select(_t)}saveSilingEntry(t){this.store.dispatch(ut({payload:t}))}getSilingDataByInsName(t){t&&t.length>0&&this.store.dispatch(mt({names:t}))}getSilingShowList(){this.store.dispatch(Zt())}fetchSilingCompanies(){return this.rs.getCollection("settings/kqpro/companies/all")}fetchShowHideList(){return this.rs.getDocument("settings/kqpro/showHideList")}setTab(t){this.store.dispatch(kt({tabIndex:t}))}refreshData(){this.store.dispatch(yt())}getSilingShownIdsObs(){return(0,pt.D)({allCompanies:this.fetchSilingCompanies(),showHideList:this.fetchShowHideList()}).pipe((0,Z.U)(t=>{const e=[];let n=[],i=[];return t.showHideList&&t.showHideList.hiding&&t.showHideList.hiding.length>-1&&(n=t.showHideList.hiding),t.showHideList&&t.showHideList.showing&&t.showHideList.showing.length>-1&&(i=t.showHideList.showing),t.allCompanies.forEach(t=>{n.findIndex(e=>e.name===t.name)<0&&e.push(t)}),e.sort((t,e)=>i.findIndex(e=>e.id===t.id)>i.findIndex(t=>t.id===e.id)?1:-1),e.map(t=>t.name.toLowerCase())}))}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(o.yh),l.LFG(Qt.v))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Jt=n(1305),Ut=n(4762),Gt=n(6996),Mt=n(4350);let $t=(()=>{class t{transform(t){let e=t;switch(t){case"name":e="Name";break;case"example":e="Example";break;case"company":e="Siling Institution";break;case"date":e="Entry Date";break;case"gain":e="Gain By";break;case"loss":e="Loss By";break;case"balance":e="Current Balance"}return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Yjl({name:"tableColumnDisplay",type:t,pure:!0}),(0,Ut.gn)([(0,Gt.Z)()],t.prototype,"transform",null),t})();var Yt=n(878);let jt=(()=>{class t{transform(t){let e=t;switch(t){case"company":e="Select a Siling Ins.";break;case"date":e="Select a entry date";break;case"gain":case"loss":case"balance":e="Enter $ amount"}return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Yjl({name:"filterLabelDisplay",type:t,pure:!0}),(0,Ut.gn)([(0,Gt.Z)()],t.prototype,"transform",null),t})(),Bt=(()=>{class t{constructor(t,e){this.cs=t,this.as=e}transform(t){let e=(0,Yt.of)([]);switch(t){case"company":e=this.as.getSilingCompanies$}return e}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(Pt,16),l.Y36(gt.l,16))},t.\u0275pipe=l.Yjl({name:"filterValueSelections",type:t,pure:!0}),(0,Ut.gn)([(0,Gt.Z)()],t.prototype,"transform",null),t})(),Ht=(()=>{class t{transform(t){const e=t.length;if(e)return{summary:e+(1===e?" error":" errors"),errors:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Yjl({name:"formErrorDisplay",type:t,pure:!0}),(0,Ut.gn)([(0,Gt.Z)()],t.prototype,"transform",null),t})();function Rt(t,e){1&t&&(l.TgZ(0,"div",18),l._uU(1," Please validate all filters before adding another. "),l.qZA())}function Kt(t,e){if(1&t&&(l.TgZ(0,"mat-option",28),l._uU(1),l.ALo(2,"tableColumnDisplay"),l.qZA()),2&t){const t=e.$implicit;l.Q6J("value",t),l.xp6(1),l.hij(" ",l.lcZ(2,2,t)," ")}}function Wt(t,e){if(1&t&&(l.TgZ(0,"mat-option",28),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.Q6J("value",t),l.xp6(1),l.hij(" ",t.name," ")}}function Xt(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"mat-form-field",33),l.TgZ(2,"mat-label"),l._uU(3),l.ALo(4,"filterLabelDisplay"),l.qZA(),l.TgZ(5,"mat-select",34),l.YNc(6,Wt,2,2,"mat-option",27),l.ALo(7,"async"),l.ALo(8,"filterValueSelections"),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw().ngIf;l.xp6(3),l.Oqu(l.lcZ(4,3,t)),l.xp6(2),l.Q6J("formControlName","filterValue"),l.xp6(1),l.Q6J("ngForOf",l.lcZ(7,5,l.lcZ(8,7,t)))}}function Vt(t,e){1&t&&l.GkF(0)}function zt(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"mat-form-field",35),l.TgZ(2,"mat-label"),l._uU(3),l.ALo(4,"filterLabelDisplay"),l.qZA(),l.TgZ(5,"span",36),l._uU(6,"$ \xa0"),l.qZA(),l._UZ(7,"input",37),l.qZA(),l.BQk()),2&t){const t=l.oxw().ngIf;l.xp6(3),l.hij(" ",l.lcZ(4,2,t)," "),l.xp6(4),l.Q6J("formControlName","filterValue")}}function te(t,e){if(1&t&&(l.ynx(0),l.ynx(1,29),l.TgZ(2,"div",30),l.YNc(3,Xt,9,9,"ng-container",31),l.YNc(4,Vt,1,0,"ng-container",31),l.YNc(5,zt,8,4,"ng-container",32),l.qZA(),l.BQk(),l.BQk()),2&t){const t=e.ngIf;l.xp6(1),l.Q6J("ngSwitch",t),l.xp6(2),l.Q6J("ngSwitchCase","company"),l.xp6(1),l.Q6J("ngSwitchCase","date")}}function ee(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",23),l.TgZ(2,"div",24),l._uU(3),l.qZA(),l.TgZ(4,"mat-form-field",25),l.TgZ(5,"mat-label"),l._uU(6,"Filter"),l.qZA(),l.TgZ(7,"mat-select",26),l.NdJ("selectionChange",function(){const e=l.CHM(t).index;return l.oxw(4).onFilterTypeChange(e)}),l.YNc(8,Kt,3,4,"mat-option",27),l.qZA(),l.qZA(),l.YNc(9,te,6,3,"ng-container",4),l.qZA(),l.BQk()}if(2&t){const t=e.index,n=l.oxw(4),i=l.MAs(13);l.xp6(1),l.Q6J("formGroupName",t),l.xp6(2),l.hij(" Filter ",t+1,": "),l.xp6(4),l.Q6J("formControlName","filterType"),l.xp6(1),l.Q6J("ngForOf",n.data.options),l.xp6(1),l.Q6J("ngIf",n.filterArray.at(t).get("filterType").value)("ngIfElse",i)}}function ne(t,e){if(1&t&&(l.TgZ(0,"section",19),l.TgZ(1,"form",20),l.TgZ(2,"div",21),l.YNc(3,ee,10,6,"ng-container",22),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw(3);l.xp6(1),l.Q6J("formGroup",t.filterFg),l.xp6(1),l.Q6J("formArrayName","filters"),l.xp6(1),l.Q6J("ngForOf",t.filterArray.controls)}}function ie(t,e){if(1&t&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.xp6(1),l.hij(" ",t.errorName," ")}}function oe(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div"),l._uU(2),l.qZA(),l.TgZ(3,"ul"),l.YNc(4,ie,2,1,"li",22),l.qZA(),l.BQk()),2&t){const t=e.ngIf;l.xp6(2),l.hij(" ",t.summary," in filters: "),l.xp6(2),l.Q6J("ngForOf",t.errors)}}function ae(t,e){if(1&t&&(l.ynx(0),l.YNc(1,oe,5,2,"ng-container",16),l.ALo(2,"formErrorDisplay"),l.BQk()),2&t){const t=l.oxw(3);l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,t.allErrors))}}function re(t,e){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"section",8),l.TgZ(2,"div",9),l.TgZ(3,"button",10),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).onAddNew()}),l.TgZ(4,"mat-icon"),l._uU(5,"add"),l.qZA(),l._uU(6," Add new filter "),l.qZA(),l.YNc(7,Rt,2,0,"div",11),l.qZA(),l.TgZ(8,"div"),l.TgZ(9,"button",12),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).onRemoveAll()}),l.TgZ(10,"mat-icon"),l._uU(11,"delete_sweep"),l.qZA(),l._uU(12," Remove all "),l.qZA(),l.qZA(),l.qZA(),l._UZ(13,"hr"),l.YNc(14,ne,4,3,"section",13),l._UZ(15,"hr",3),l.TgZ(16,"section",14),l.TgZ(17,"div",15),l.YNc(18,ae,3,3,"ng-container",16),l.qZA(),l.TgZ(19,"div"),l.TgZ(20,"button",17),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).onClose(!0)}),l.TgZ(21,"mat-icon"),l._uU(22,"save"),l.qZA(),l._uU(23," Apply "),l.qZA(),l.qZA(),l.qZA(),l.BQk()}if(2&t){const t=l.oxw(2);l.xp6(3),l.Q6J("disabled",t.filterFg.invalid),l.xp6(4),l.Q6J("ngIf",t.filterFg.touched&&t.filterFg.invalid),l.xp6(7),l.Q6J("ngIf",t.filterFg),l.xp6(4),l.Q6J("ngIf",t.filterFg.touched),l.xp6(2),l.Q6J("disabled",t.filterFg.invalid)}}function se(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",7),l.YNc(2,re,24,5,"ng-container",4),l.ALo(3,"async"),l.qZA(),l.BQk()),2&t){const t=l.oxw(),e=l.MAs(11);l.xp6(2),l.Q6J("ngIf",!1===l.lcZ(3,2,t.isLoading$))("ngIfElse",e)}}function ce(t,e){1&t&&(l.TgZ(0,"div"),l._UZ(1,"app-shared-loading",38),l.qZA()),2&t&&(l.xp6(1),l.Q6J("message","filter data"))}function le(t,e){1&t&&(l.TgZ(0,"div",30),l._uU(1," \xa0 "),l.qZA())}let ge=(()=>{class t{constructor(t,e,n){if(this.dialogRef=t,this.data=e,this.fb=n,this.allErrors=[],this.compDest$=new p.xQ,this.filterFg=this.fb.group({filters:this.fb.array([])}),this.data.filterData.length>0);else{const t=this.createDefaultFilter();this.filterArray.push(t)}this.filterFg.valueChanges.pipe((0,u.R)(this.compDest$)).subscribe(t=>{this.allErrors=(0,d.dR)(this.filterFg)})}get filterArray(){return this.filterFg.get("filters")}ngOnInit(){var t,e;(null===(t=this.data)||void 0===t?void 0:t.companiesLoading)&&(null===(e=this.data)||void 0===e?void 0:e.silingDataLoading)&&(this.isLoading$=(0,Jt.aj)([this.data.companiesLoading,this.data.silingDataLoading]).pipe((0,Z.U)(t=>t[0]||t[1])))}onFilterTypeChange(t){var e,n;if(t>-1){const i=null===(e=this.filterArray.at(t))||void 0===e?void 0:e.get("filterValue");if(i){switch(null==i||i.reset(void 0,{emitEvent:!1}),(null===(n=this.filterArray.at(t))||void 0===n?void 0:n.get("filterType")).value){case"gain":case"loss":case"balance":i.setValidators([m.kI.required,L.FV]);break;case"company":i.setValidators([m.kI.required]);break;case"date":i.clearValidators()}i.updateValueAndValidity()}}}createDefaultFilter(t){return this.fb.group({filterType:(0,d.j2)(null==t?void 0:t.valueType,!1),filterValue:(0,d.j2)(null==t?void 0:t.currentValue,!1,[m.kI.required])})}onAddNew(){this.filterFg.valid&&this.filterArray.push(this.createDefaultFilter())}onRemoveAll(){this.filterArray.clear(),this.onClose(!0)}onClose(t){this.dialogRef.close(t?this.filterFg.value:void 0)}onKeyEvent(t){t===T.ESCAPE&&this.onClose(!1)}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(h.so),l.Y36(h.WI),l.Y36(m.qu))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core-filter-dialog"]],decls:14,vars:2,consts:[["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","10px",1,"w-100",3,"enterEscapeKeyEvent"],["fxLayout","row","fxLayoutAlign","space-between center",1,"if","title-bar-bg","title","w-100"],["mat-icon-button","","color","warn",3,"click"],[1,"w-100"],[4,"ngIf","ngIfElse"],["loading",""],["selectFilter",""],[1,"container"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutAlign","start center"],["mat-button","","color","primary",3,"disabled","click"],["class","text-muted ml-2 tt",4,"ngIf"],["mat-button","","color","warn",3,"click"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100","action-bar"],[1,"errors","text-danger"],[4,"ngIf"],["mat-stroked-button","","color","primary",3,"disabled","click"],[1,"text-muted","ml-2","tt"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px"],[1,"w-100","form-parent",3,"formGroup"],[3,"formArrayName"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",3,"formGroupName"],["fxFlex","8","fxLayout","row","fxLayoutAlign","start end",1,"count"],["appearance","standard","fxFlex","30"],[3,"formControlName","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],["fxFlex","50"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["appearance","standard"],[3,"formControlName"],["appearance","standard",1,""],["matPrefix",""],["matInput","","type","text",3,"formControlName"],[3,"message"]],template:function(t,e){if(1&t&&(l.TgZ(0,"div",0),l.NdJ("enterEscapeKeyEvent",function(t){return e.onKeyEvent(t)}),l.TgZ(1,"section",1),l.TgZ(2,"div"),l._uU(3," Filter Manager "),l.qZA(),l.TgZ(4,"div"),l.TgZ(5,"button",2),l.NdJ("click",function(){return e.onClose(!1)}),l.TgZ(6,"mat-icon"),l._uU(7,"close"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"section",3),l.YNc(9,se,4,4,"ng-container",4),l.qZA(),l.qZA(),l.YNc(10,ce,2,1,"ng-template",null,5,l.W1O),l.YNc(12,le,2,0,"ng-template",null,6,l.W1O)),2&t){const t=l.MAs(11);l.xp6(9),l.Q6J("ngIf",e.isLoading$)("ngIfElse",t)}},directives:[N.xw,N.Wh,N.SQ,w,O.lW,_.Hw,q.O5,m._Y,m.JL,m.sg,m.CE,q.sg,m.x0,N.yH,I.KE,I.hX,S.gD,m.JJ,m.u,k.ey,q.RF,q.n9,q.ED,I.qo,F.Nt,m.Fj,P.N],pipes:[q.Ov,$t,jt,Bt,Ht],styles:["section.title[_ngcontent-%COMP%]{padding:15px;font-size:18px}form.form-parent[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-family:Quicksand;font-weight:700;color:#2a2961}.action-bar[_ngcontent-%COMP%]   .errors[_ngcontent-%COMP%]{font-size:14px;min-width:5px}mat-form-field[_ngcontent-%COMP%]{width:100%}.tt[_ngcontent-%COMP%]{font-size:14px}.action-bar[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:-4px}"]}),t})(),pe=(()=>{class t{constructor(t){this.dialog=t,this.dialogRef=void 0}getDialog(t){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(ge,{data:t,panelClass:"filter-dialog-container",hasBackdrop:!0,autoFocus:!1,disableClose:!0,width:"calc(100% - 30rem)"}),this.dialogRef}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(h.uw))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ue=n(4312);function de(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",3),l.TgZ(2,"div",4),l.TgZ(3,"div",5),l._uU(4),l.ALo(5,"dateDisplay"),l.qZA(),l.qZA(),l.TgZ(6,"div",6),l.TgZ(7,"span",7),l._uU(8),l.ALo(9,"localeNumberDisplay"),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw(3);l.xp6(3),l.Q6J("title","Last entry updated"),l.xp6(1),l.hij(" ",l.xi3(5,4,t.summaryData.lastUpdated,"MDYANDFROMNOW")," "),l.xp6(2),l.Q6J("title",t.summaryData.total),l.xp6(2),l.hij(" $ ",l.lcZ(9,7,t.summaryData.total)," ")}}function fe(t,e){if(1&t&&(l.ynx(0),l.YNc(1,de,10,9,"ng-container",0),l.BQk()),2&t){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.summaryData)}}function me(t,e){if(1&t&&(l.ynx(0),l.YNc(1,fe,2,1,"ng-container",2),l.ALo(2,"async"),l.BQk()),2&t){const t=l.oxw(),e=l.MAs(2);l.xp6(1),l.Q6J("ngIf",!1===l.lcZ(2,2,t.loading$))("ngIfElse",e)}}function he(t,e){1&t&&(l.TgZ(0,"div",8),l._uU(1," Calculating summary... "),l.qZA())}let xe=(()=>{class t{constructor(){this.summaryData=void 0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core-summary"]],inputs:{summaryData:"summaryData",loading$:"loading$"},decls:3,vars:1,consts:[[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"roboto","summary"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",1,"text-muted"],[3,"title"],[1,"total",3,"title"],[1,"green"],["fxLayout","row","fxLayoutAlign","center center",1,"summary"]],template:function(t,e){1&t&&(l.YNc(0,me,3,4,"ng-container",0),l.YNc(1,he,2,0,"ng-template",null,1,l.W1O)),2&t&&l.Q6J("ngIf",e.loading$)},directives:[q.O5,N.xw,N.Wh,N.SQ],pipes:[q.Ov,Mt.o,ue.i7],styles:[".total[_ngcontent-%COMP%]{font-weight:500;letter-spacing:1px}.green[_ngcontent-%COMP%]{color:#0c8d0c}.summary[_ngcontent-%COMP%]{margin-top:10px}"]}),t})();var ye=n(7173),Ze=n(6184);const ve=["chart"];function Ae(t,e){if(1&t&&(l.ynx(0),l._UZ(1,"apx-chart",1,2),l.BQk()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("series",t.apexSeries)("chart",t.apexChart)("dataLabels",t.apexDataLabels)("markers",t.apexMarkers)("title",t.apexTitle)("fill",t.apexFill)("yaxis",t.apexYAxis)("xaxis",t.apexXAxis)("tooltip",t.apexTooltip)("legend",t.apexLegend)("grid",t.apexGrid)}}let be=(()=>{class t{constructor(t){this.ngZone=t,this.chartData=void 0}ngOnChanges(){this.initChartData()}ngOnInit(){}initChartData(){var t,e,n,i,o,a,r,s,c,l,g,p,u,f,m,h,x;this.apexSeries?this.apexSeries&&(null===(e=this.chartData)||void 0===e?void 0:e.series)&&((0,d.cO)(this.apexSeries,null===(n=this.chartData)||void 0===n?void 0:n.series)||(this.apexSeries=null===(i=this.chartData)||void 0===i?void 0:i.series)):this.apexSeries=null===(t=this.chartData)||void 0===t?void 0:t.series,this.apexXAxis?this.apexXAxis&&(null===(a=this.chartData)||void 0===a?void 0:a.xaxis)&&((0,d.cO)(this.apexXAxis.categories,null===(r=this.chartData)||void 0===r?void 0:r.xaxis.categories)||(this.apexXAxis=null===(s=this.chartData)||void 0===s?void 0:s.xaxis)):this.apexXAxis=null===(o=this.chartData)||void 0===o?void 0:o.xaxis,this.apexChart||(this.apexChart=null===(c=this.chartData)||void 0===c?void 0:c.chart),this.apexDataLabels||(this.apexDataLabels=null===(l=this.chartData)||void 0===l?void 0:l.dataLabels),this.apexMarkers||(this.apexMarkers=null===(g=this.chartData)||void 0===g?void 0:g.markers),this.apexTitle||(this.apexTitle=null===(p=this.chartData)||void 0===p?void 0:p.title),this.apexFill||(this.apexFill=null===(u=this.chartData)||void 0===u?void 0:u.fill),this.apexYAxis||(this.apexYAxis=null===(f=this.chartData)||void 0===f?void 0:f.yaxis),this.apexTooltip||(this.apexTooltip=null===(m=this.chartData)||void 0===m?void 0:m.tooltip),this.apexLegend||(this.apexLegend=null===(h=this.chartData)||void 0===h?void 0:h.legend),this.apexGrid||(this.apexGrid=null===(x=this.chartData)||void 0===x?void 0:x.grid)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-shared-line-chart"]],viewQuery:function(t,e){if(1&t&&l.Gf(ve,5),2&t){let t;l.iGM(t=l.CRH())&&(e.chart=t.first)}},inputs:{chartData:"chartData"},features:[l.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","dataLabels","markers","title","fill","yaxis","xaxis","tooltip","legend","grid"],["chart",""]],template:function(t,e){1&t&&l.YNc(0,Ae,3,11,"ng-container",0),2&t&&l.Q6J("ngIf",e.apexSeries&&e.apexXAxis&&e.apexChart&&e.apexDataLabels&&e.apexMarkers&&e.apexTooltip&&e.apexTitle&&e.apexFill&&e.apexYAxis&&e.apexLegend&&e.apexGrid)},directives:[q.O5,Ze.x],styles:[""],changeDetection:0}),t})();var we=n(2312);let Te=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["shared-loading-bar"]],decls:2,vars:0,consts:[["mode","indeterminate"]],template:function(t,e){1&t&&(l.TgZ(0,"div"),l._UZ(1,"mat-progress-bar",0),l.qZA())},directives:[we.pW],styles:[""]}),t})();var Le=n(4333);let Ce=(()=>{class t{constructor(){this.text=void 0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-shared-popover"]],inputs:{text:"text"},decls:4,vars:6,consts:[["popoverPlacement","top-right",1,"popover-tooltip",3,"popover","popoverOnHover","popoverCloseOnClickOutside","popoverCloseOnMouseOutside","popoverDisabled","popoverAnimation"],[1,"parent"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"mat-icon"),l._uU(3,"help_outline"),l.qZA(),l.qZA(),l.qZA()),2&t&&l.Q6J("popover",e.text+"")("popoverOnHover",!1)("popoverCloseOnClickOutside",!0)("popoverCloseOnMouseOutside",!1)("popoverDisabled",!1)("popoverAnimation",!0)},directives:[Le.k5,_.Hw],styles:[".popover-tooltip[_ngcontent-%COMP%]{display:flex;cursor:pointer}.popover-tooltip[_ngcontent-%COMP%]:focus   mat-icon.mat-icon[_ngcontent-%COMP%], .popover-tooltip[_ngcontent-%COMP%]:hover   mat-icon.mat-icon[_ngcontent-%COMP%]{color:#000}mat-icon.mat-icon[_ngcontent-%COMP%]{color:#33333357;font-size:17px}.parent[_ngcontent-%COMP%]{height:19px}"]}),t})();const De=function(t){return{"border-btn-none":t,"list-group-item roboto":!0}};function Ne(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",1),l.ALo(2,"profitGainBgClass"),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"div"),l._uU(6),l.ALo(7,"dateDisplay"),l.qZA(),l.TgZ(8,"div"),l._UZ(9,"app-shared-popover",4),l.qZA(),l.qZA(),l.TgZ(10,"div",5),l._uU(11),l.ALo(12,"dateFromNow"),l.qZA(),l.qZA(),l.TgZ(13,"div",6),l.TgZ(14,"div",7),l._uU(15),l.ALo(16,"localeNumberDisplay"),l.qZA(),l.TgZ(17,"div",8),l.ALo(18,"numberGainClass"),l.TgZ(19,"div",9),l.TgZ(20,"mat-icon",10),l._uU(21),l.ALo(22,"profitPercentIconClass"),l.qZA(),l.qZA(),l.TgZ(23,"div"),l._uU(24),l.ALo(25,"profitPercent"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(26,"div",11),l._uU(27),l.ALo(28,"profit"),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(1),l.Tol(l.lcZ(2,14,t.entryDetail.profitPercent)),l.Q6J("ngClass",l.VKq(31,De,t.isLast)),l.xp6(5),l.hij(" ",t.entryDetail.date?l.xi3(7,16,t.entryDetail.date,"MDY"):"NO DATE"," "),l.xp6(3),l.Q6J("text",t.entryDetail.date),l.xp6(2),l.hij(" ",l.lcZ(12,19,t.entryDetail.date)," "),l.xp6(4),l.hij(" $",l.lcZ(16,21,t.entryDetail.amount)," "),l.xp6(2),l.Tol("gains-rate numbers med-number spacing-half "+l.lcZ(18,23,t.entryDetail.profitPercent)),l.Q6J("title",t.entryDetail.profitPercent),l.xp6(4),l.Oqu(l.lcZ(22,25,t.entryDetail.profitPercent)),l.xp6(3),l.hij(" ",l.lcZ(25,27,t.entryDetail.profitPercent)," "),l.xp6(2),l.Q6J("title",t.entryDetail.profit),l.xp6(1),l.hij(" ",l.lcZ(28,29,t.entryDetail.profit)," ")}}let qe=(()=>{class t{constructor(){this.entryDetail=void 0,this.isLast=!1}ngOnChanges(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core-siling-column-entry"]],inputs:{entryDetail:"entryDetail",isLast:"isLast"},features:[l.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","5px",3,"ngClass"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100","roboto","small-number","text-muted","date-info"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","5px",1,""],[3,"text"],[1,"from-now"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","space-between center","fxLayoutAlign","start center",1,"w-100"],[1,"dollar-amount","numbers","med-number"],["fxLayout","row","fxLayoutAlign","start center",3,"title"],["fxLayout","column","fxLayoutAlign","center center"],[1,"med-number"],["fxLayout","row","fxLayoutAlign","start center",1,"text-muted","numbers","small-number","w-100",3,"title"]],template:function(t,e){1&t&&l.YNc(0,Ne,29,33,"ng-container",0),2&t&&l.Q6J("ngIf",e.entryDetail)},directives:[q.O5,N.xw,N.Wh,N.SQ,q.mk,C.oO,Ce,_.Hw],pipes:[ue.PD,Mt.o,Mt.G,ue.i7,ue.qw,ue.ZJ,ue.pY,ue.u],styles:[".gains-rate[_ngcontent-%COMP%]{text-align:right}.dollar-amount[_ngcontent-%COMP%]{text-align:left;padding-left:0;letter-spacing:.5px}.date-info[_ngcontent-%COMP%]{height:21px}.date-info[_ngcontent-%COMP%]   .from-now[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.med-number[_ngcontent-%COMP%]{font-size:20px}.small-number[_ngcontent-%COMP%]{font-size:14px}.spacing-half[_ngcontent-%COMP%]{letter-spacing:.5px}.numbers[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:400}.positive[_ngcontent-%COMP%]{color:#00b33c}.negative[_ngcontent-%COMP%]{color:#b32400}.no-change[_ngcontent-%COMP%]{color:#888}.pos-bg[_ngcontent-%COMP%]{background-color:#e1f5e154}.neg-bg-1[_ngcontent-%COMP%]{background-color:#f7e5e536}.neg-bg-2[_ngcontent-%COMP%]{background-color:#f7e5e59e}.neg-bg-3[_ngcontent-%COMP%]{background-color:#f7e5e5d9}.no-change-bg[_ngcontent-%COMP%]{background-color:#cccccc0f}.border-btn-none[_ngcontent-%COMP%]{border-bottom:0}"],changeDetection:0}),t})();function Oe(t,e){if(1&t&&(l.ynx(0),l._UZ(1,"app-core-siling-column-entry",9),l.BQk()),2&t){const t=e.$implicit,n=e.last;l.xp6(1),l.Q6J("entryDetail",t)("isLast",n)}}function _e(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"ul",7),l.YNc(2,Oe,2,2,"ng-container",8),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(2),l.Q6J("ngForOf",t.silingData)}}function Ie(t,e){1&t&&(l.TgZ(0,"div",10),l._uU(1," No data returned. "),l.qZA())}const Fe=function(t){return{"background-color":t}};let Ee=(()=>{class t{constructor(){this.silingCompanyId=void 0,this.silingData=[]}ngOnChanges(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core-siling-column"]],inputs:{silingCompanyId:"silingCompanyId",silingData:"silingData"},features:[l.TTD],decls:11,vars:9,consts:[[1,"card","text-left","border-secondary"],[1,"img-center","fixed-img-height"],["alt","SiLing Co. Img","onerror","this.src = 'assets/banner/bank5.jpg'",1,"card-img-top","img-fixed-height",3,"src","ngStyle"],[1,"card-header","header"],[1,"panel-header","page-anchor"],[4,"ngIf","ngIfElse"],["noData",""],[1,"list-group"],[4,"ngFor","ngForOf"],[3,"entryDetail","isLast"],["fxLayout","row","fxLayoutAlign","center center",1,"px-3","py-3"]],template:function(t,e){if(1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"div",3),l.TgZ(4,"span",4),l._uU(5),l.ALo(6,"titlecase"),l.qZA(),l.qZA(),l.TgZ(7,"div"),l.YNc(8,_e,3,1,"ng-container",5),l.YNc(9,Ie,2,0,"ng-template",null,6,l.W1O),l.qZA(),l.qZA()),2&t){const t=l.MAs(10);l.xp6(2),l.Q6J("src","assets/banner/"+e.silingCompanyId+".jpg",l.LSH)("ngStyle",l.VKq(7,Fe,"fidelity"===e.silingCompanyId?"#67941e":"#fff")),l.xp6(3),l.hij(" ",l.lcZ(6,5,e.silingCompanyId?e.silingCompanyId:"Unknown Siling ID")," "),l.xp6(3),l.Q6J("ngIf",e.silingData&&e.silingData.length>0)("ngIfElse",t)}},directives:[q.PC,C.Zl,q.O5,q.sg,qe,N.xw,N.Wh],pipes:[q.rS],styles:[".img-fixed-height[_ngcontent-%COMP%]{max-height:80px;max-width:300px}.img-center[_ngcontent-%COMP%]{text-align:center}.fid-background-green[_ngcontent-%COMP%]{background-color:#67941e}.panel-header[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:20px}.card-header.header[_ngcontent-%COMP%]{color:#8c8c8c}.fixed-img-height[_ngcontent-%COMP%]{height:5rem}"],changeDetection:0}),t})();const Se=["tabGroup"];function ke(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",12),l._uU(2),l.ALo(3,"dateDisplay"),l.qZA(),l.BQk()),2&t){const t=e.ngIf;l.xp6(2),l.hij(" Last fetched: ",l.xi3(3,1,t,"FULLDATE")," ")}}function Qe(t,e){1&t&&(l.ynx(0),l._UZ(1,"shared-loading-bar"),l.BQk())}function Pe(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",15),l.TgZ(2,"div",16),l.YNc(3,Qe,2,0,"ng-container",3),l.ALo(4,"async"),l.qZA(),l._UZ(5,"app-shared-line-chart",17),l.ALo(6,"async"),l.qZA(),l.BQk()),2&t){const t=l.oxw(2);l.xp6(3),l.Q6J("ngIf",l.lcZ(4,2,t.cs.isDataLoading$)),l.xp6(2),l.Q6J("chartData",l.lcZ(6,4,t.cs.chartData$))}}function Je(t,e){if(1&t&&(l.TgZ(0,"section",13),l.YNc(1,Pe,7,6,"ng-container",14),l.ALo(2,"async"),l.qZA()),2&t){const t=l.oxw(),e=l.MAs(34);l.xp6(1),l.Q6J("ngIf",!1===l.lcZ(2,2,t.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",e)}}function Ue(t,e){if(1&t&&(l.TgZ(0,"mat-icon",22),l._uU(1),l.qZA(),l._uU(2)),2&t){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.tabIcon),l.xp6(1),l.hij(" ",t.display," ")}}function Ge(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"div",24),l._UZ(2,"app-core-siling-column",25),l.qZA(),l.BQk()),2&t){const t=e.$implicit,n=l.oxw(2).ngIf;l.xp6(1),l.Q6J("fxFlex",n.flexNumber+"%"),l.xp6(1),l.Q6J("silingCompanyId",t)("silingData",n.data[t])}}function Me(t,e){if(1&t&&(l.ynx(0),l.YNc(1,Ge,3,3,"ng-container",8),l.BQk()),2&t){const t=l.oxw().ngIf;l.xp6(1),l.Q6J("ngForOf",t.keys)}}function $e(t,e){if(1&t&&(l.ynx(0),l.YNc(1,Me,2,1,"ng-container",14),l.BQk()),2&t){const t=e.ngIf;l.oxw(4);const n=l.MAs(36);l.xp6(1),l.Q6J("ngIf",t.keys&&t.keys.length>0)("ngIfElse",n)}}function Ye(t,e){if(1&t&&(l.ynx(0),l.YNc(1,$e,2,2,"ng-container",3),l.ALo(2,"async"),l.BQk()),2&t){const t=l.oxw(3);l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,t.cs.dashboardData$))}}function je(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"section",23),l.YNc(2,Ye,3,3,"ng-container",14),l.ALo(3,"async"),l.qZA(),l.BQk()),2&t){const t=l.oxw(2),e=l.MAs(32);l.xp6(2),l.Q6J("ngIf",!1===l.lcZ(3,2,t.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",e)}}function Be(t,e){1&t&&(l.ynx(0),l._uU(1," Table "),l.BQk())}function He(t,e){if(1&t&&(l.ynx(0),l.TgZ(1,"mat-tab",18),l.YNc(2,Ue,3,2,"ng-template",19),l.ynx(3,20),l.YNc(4,je,4,4,"ng-container",21),l.YNc(5,Be,2,0,"ng-container",21),l.BQk(),l.qZA(),l.BQk()),2&t){const t=e.$implicit;l.xp6(1),l.Q6J("label",t.display),l.xp6(2),l.Q6J("ngSwitch",t.id),l.xp6(1),l.Q6J("ngSwitchCase","expandedView"),l.xp6(1),l.Q6J("ngSwitchCase","compactView")}}function Re(t,e){1&t&&(l.TgZ(0,"div",26),l._UZ(1,"app-shared-loading"),l.qZA())}function Ke(t,e){1&t&&(l.TgZ(0,"div",26),l._UZ(1,"app-shared-loading",27),l.qZA()),2&t&&(l.xp6(1),l.Q6J("message","Graph"))}function We(t,e){1&t&&(l.TgZ(0,"div"),l._uU(1," No data to show. "),l.qZA())}const Xe=["company","date","gain","loss","balance"];let Ve=(()=>{class t{constructor(t,e,n,i,o,a){this.neds=t,this.as=e,this.cs=n,this.router=i,this.route=o,this.fds=a,this.showGraph=f.N.showGraph,this.compDest$=new p.xQ}ngOnInit(){}ngAfterViewInit(){}onNewEntryClick(){this.as.fetchSilingCompanies();const t={amount:void 0,company:void 0,companies:this.as.getSilingCompanies$,companyLoading:this.as.getSilingCompanyLoading$,date:(new Date).getTime()};this.neds.getDialog(t).afterClosed().pipe((0,u.R)(this.compDest$)).subscribe(t=>{if(t&&t.amount&&t.company&&t.date){const e={amount:(0,d.G5)(t.amount),company:t.company.name.toLowerCase(),date:t.date.getTime(),id:void 0};this.cs.saveSilingEntry(e)}})}onTabChange(t){var e;const n=null!==(e=t.index)&&void 0!==e?e:0;this.router.navigate(["./"],{queryParams:{tabIndex:n}})}onRefresh(){this.cs.getSilingShowList()}onOpenFilters(){this.fds.getDialog({companiesLoading:this.as.getSilingCompanyLoading$,silingDataLoading:this.cs.isDataLoading$,options:Xe,filterData:[]}).afterClosed().pipe((0,u.R)(this.compDest$)).subscribe(t=>{console.log(t)})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(lt),l.Y36(gt.l),l.Y36(Pt),l.Y36(c.F0),l.Y36(c.gz),l.Y36(pe))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core-home"]],viewQuery:function(t,e){if(1&t&&l.Gf(Se,5),2&t){let t;l.iGM(t=l.CRH())&&(e.viewTabGroup=t.first)}},decls:37,vars:14,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"sticky-top","dashboard"],[1,""],["mat-button","","color","primary",3,"click"],[4,"ngIf"],[3,"summaryData","loading$"],["class","w-100","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],["mat-align-tabs","center","animationDuration","0ms",1,"pb-3","siling-tab-group",3,"selectedIndex","selectedTabChange"],["tabGroup",""],[4,"ngFor","ngForOf"],["isLoading",""],["isChartLoading",""],["noDataShown",""],[1,"if"],["fxLayout","column","fxLayoutAlign","start center",1,"w-100"],[4,"ngIf","ngIfElse"],[1,"chart-shell"],[1,"load-parent"],[3,"chartData"],[3,"label"],["mat-tab-label",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab-icon","mr-2"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","center start","fxLayoutAlign","start center","fxLayoutGap.gt-sm","10px","fxLayoutGap","5px",1,""],[1,"",3,"fxFlex"],[3,"silingCompanyId","silingData"],[1,"w-100"],[3,"message"]],template:function(t,e){1&t&&(l.TgZ(0,"section",0),l.TgZ(1,"div",1),l.TgZ(2,"button",2),l.NdJ("click",function(){return e.onNewEntryClick()}),l.TgZ(3,"mat-icon"),l._uU(4,"add"),l.qZA(),l.TgZ(5,"span"),l._uU(6,"New entry"),l.qZA(),l.qZA(),l.TgZ(7,"button",2),l.NdJ("click",function(){return e.onRefresh()}),l.TgZ(8,"mat-icon"),l._uU(9,"refresh"),l.qZA(),l.TgZ(10,"span"),l._uU(11,"Refresh"),l.qZA(),l.qZA(),l.TgZ(12,"button",2),l.NdJ("click",function(){return e.onOpenFilters()}),l.TgZ(13,"mat-icon"),l._uU(14,"filter_list"),l.qZA(),l.TgZ(15,"span"),l._uU(16,"Filters"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div"),l.YNc(18,ke,4,4,"ng-container",3),l.ALo(19,"async"),l.qZA(),l.qZA(),l.TgZ(20,"section",1),l._UZ(21,"app-core-summary",4),l.ALo(22,"async"),l.qZA(),l._UZ(23,"hr"),l.YNc(24,Je,3,4,"section",5),l._UZ(25,"hr"),l.TgZ(26,"mat-tab-group",6,7),l.NdJ("selectedTabChange",function(t){return e.onTabChange(t)}),l.ALo(28,"async"),l.YNc(29,He,6,4,"ng-container",8),l.ALo(30,"async"),l.qZA(),l.YNc(31,Re,2,0,"ng-template",null,9,l.W1O),l.YNc(33,Ke,2,1,"ng-template",null,10,l.W1O),l.YNc(35,We,2,0,"ng-template",null,11,l.W1O)),2&t&&(l.xp6(18),l.Q6J("ngIf",l.lcZ(19,6,e.cs.dataLastFetched$)),l.xp6(3),l.Q6J("summaryData",l.lcZ(22,8,e.cs.summary$))("loading$",e.cs.isDataLoading$),l.xp6(3),l.Q6J("ngIf",e.showGraph),l.xp6(2),l.Q6J("selectedIndex",l.lcZ(28,10,e.cs.selectTabIndex$)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(30,12,e.cs.dashboardTabs$)))},directives:[N.xw,N.Wh,O.lW,_.Hw,q.O5,xe,ye.SP,q.sg,be,Te,ye.uX,ye.uD,q.RF,q.n9,N.SQ,N.yH,Ee,P.N],pipes:[q.Ov,Mt.o],styles:[".chart-shell[_ngcontent-%COMP%]{width:calc(100% - 10rem)}.chart-shell[_ngcontent-%COMP%]   .load-parent[_ngcontent-%COMP%]{height:5px}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.sticky-top.dashboard[_ngcontent-%COMP%]{z-index:20;background-color:#fff;border-bottom:1px solid #eee}"]}),t})();var ze=n(1450),tn=n(611),en=n(9223),nn=n(1447);const on=[{path:"",component:g,children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:Ve,data:{pageTitle:"Summary"}}],resolve:{resolverFired:(()=>{class t{constructor(t,e,n){this.cs=t,this.ss=e,this.ts=n,this.getCompaniesBeingDisplayedIds$=this.cs.getSilingShownIdsObs().pipe((0,A.b)(t=>{this.cs.getSilingDataByInsName(t)}))}resolve(t,e){return console.log("Running resolver..."),this.cs.silingData$.pipe((0,tn.q)(1),(0,Z.U)(t=>{if(Object.keys(t).length>0)return console.log("Using existing data."),t;console.log("Fetching data.")}),(0,v.w)(t=>function(t,e=x.E,n=x.E){return(0,ze.P)(()=>t()?e:n)}(()=>!!t,(0,Yt.of)(t),this.getCompaniesBeingDisplayedIds$)))}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Pt),l.LFG(en.g),l.LFG(nn.M))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},runGuardsAndResolvers:"always"}];let an=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[c.Bz.forChild(on)],c.Bz]}),t})();var rn=n(3982),sn=n(7727);const cn=[(()=>{class t{constructor(t,e,n,o){this.actions$=t,this.ts=e,this.rs=n,this.cs=o,this.saveSilingEntry$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(ut),(0,rn.zg)(t=>{const e=t.payload,n=this.rs.addEntryToCollection(e),i=Object.assign(Object.assign({},e),{id:n.id});return n.operationObs.then(t=>(this.ts.getSuccess("Entry added successfully."),dt({payload:i,date:(new Date).getTime()}))).catch(t=>ft({errMsg:t}))}))),this.getSilingToShowIds$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(Zt),(0,v.w)(t=>this.cs.getSilingShownIdsObs().pipe((0,Z.U)(t=>mt({names:t})),(0,sn.K)(t=>(0,Yt.of)(vt({errMsg:t}))))))),this.getSilingDataByNames$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(mt),(0,v.w)(t=>{const e={};return t.names.forEach(t=>{e[t]=this.rs.getDataByCollectionName(t)}),(0,pt.D)(e).pipe((0,Z.U)(t=>(this.ts.getSnackbar("Fetched data successfully."),ht({payload:t,date:(new Date).getTime()}))),(0,sn.K)(t=>(0,Yt.of)(xt({errMsg:t}))))}))),this.refreshData$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(yt),(0,i.IC)(()=>this.cs.companiesShown$),(0,Z.U)(t=>mt({names:t[1]}))))}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(i.eX),l.LFG(nn.M),l.LFG(Qt.v),l.LFG(Pt))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})()],ln=(0,o.Lq)({entrySaveLoading:!1,entryApiErr:!1,entryToSave:void 0,entryApiErrMsg:void 0,silingDataBeingFetchedNames:[],silingDataErr:!1,silingDataLoading:!1,silingData:void 0,firstTimeLoading:!0,silingDataLastFetched:void 0},(0,o.on)(ut,(t,{payload:e})=>Object.assign(Object.assign({},t),{entrySaveLoading:!0,entryToSave:e})),(0,o.on)(dt,(t,{payload:e})=>Object.assign(Object.assign({},t),{entryApiErr:!1,entryApiErrMsg:void 0,entrySaveLoading:!1,entryToSave:e})),(0,o.on)(ft,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{entryApiErr:!0,entryApiErrMsg:e,entrySaveLoading:!1})),(0,o.on)(mt,(t,{names:e})=>Object.assign(Object.assign({},t),{silingDataBeingFetchedNames:e,silingDataLoading:!0})),(0,o.on)(ht,(t,{payload:e,date:n})=>Object.assign(Object.assign({},t),{silingDataLoading:!1,silingData:e,silingDataErrMsg:void 0,silingDataErr:!1,firstTimeLoading:!1,silingDataLastFetched:n})),(0,o.on)(xt,(t,{errMsg:e})=>Object.assign(Object.assign({},t),{silingDataLoading:!1,silingDataErrMsg:e,silingDataErr:!0,firstTimeLoading:!0}))),gn=(0,o.Lq)({allTabSelections:[{display:"Expanded View",id:"expandedView",index:0,tabIcon:"collections"},{display:"Compact View",id:"compactView",index:1,tabIcon:"table_chart"}],currentSelection:void 0},(0,o.on)(kt,(t,{tabIndex:e})=>{let n;return t.allTabSelections&&(n=t.allTabSelections.find(t=>t.index+""===e)),Object.assign(Object.assign({},t),{currentSelection:n})}));var pn=n(3884),un=n(2718);const dn=[(()=>{class t{constructor(t,e,n,o){this.actions$=t,this.ts=e,this.rs=n,this.routerService=o,this.setTabSelection$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(pn.CE),(0,i.IC)(()=>this.routerService.queryParams$),(0,Z.U)(t=>{var e;const n=(null!==(e=t[1].tabIndex)&&void 0!==e?e:0)+"";return kt({tabIndex:n})})),{dispatch:!0})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(i.eX),l.LFG(nn.M),l.LFG(Qt.v),l.LFG(un.c))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})()];let fn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[lt],imports:[[s.n,a.I,i.sQ.forFeature(cn),i.sQ.forFeature(dn),o.Aw.forFeature("dashboard",ln),o.Aw.forFeature("dashboardUI",gn),an,r.d]]}),t})()}}]);