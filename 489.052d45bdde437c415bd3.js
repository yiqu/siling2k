(self.webpackChunksiling2k=self.webpackChunksiling2k||[]).push([[489],{5489:(t,n,o)=>{"use strict";o.r(n),o.d(n,{CoreModule:()=>yt});var e=o(4933),i=o(3350),a=o(1),r=o(5182),c=o(5366);let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-core"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-3","mt-3"]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"router-outlet"),c.qZA())},directives:[r.lC],styles:[""]}),t})();var l=o(9666),u=o(8639),g=o(1041),p=o(2935),f=function(t){return t.TEXT_INPUT="TEXT_INPUT",t.SELECT_INPUT="SELECT_INPUT",t.DATE_INPUT="DATE_INPUT",t}({});function m(t){if(!t.value||!(t.value+"").match(/^(?:\d{1,3}(?:,\d{3})*|\d+)(?:\.\d+)?$/))return{optionalCommaSingleDecimalNumberOnly:!0}}var d=o(1293),y=o(5965),h=o(1116),x=o(4369),Z=o(3070),T=o(9550),A=o(3841),v=o(7064),w=o(7307),N=o(9024),b=o(4762),C=o(6996);let L=(()=>{class t{transform(t,n){let o=t;switch(t){case"amount":o=n?"Dollar amount":"The dollar amount of this date.";break;case"company":o=n?"Institution name":"The bank institution name.";break;case"date":o=n?"Date":"The entry date. Defaults to today."}return o}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=c.Yjl({name:"silingEntryTooltip",type:t,pure:!0}),t})(),E=(()=>{class t{transform(t){let n=t;switch(t){case"ascensus":n="Ascensus";break;case"fidelity":n="Fidelity";break;case"empower":n="Empower";break;case"csg":n="Capital Solutions Group"}return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=c.Yjl({name:"silingCompanyDisplay",type:t,pure:!0}),(0,b.gn)([(0,C.Z)()],t.prototype,"transform",null),t})();function q(t,n){1&t&&(c.ynx(0),c._uU(1," Editing Existing Entry "),c.BQk())}function F(t,n){1&t&&c._uU(0," New Siling1k Entry ")}function S(t,n){1&t&&(c.TgZ(0,"div",8),c._uU(1," Fix invalid inputs before saving. "),c.qZA())}function _(t,n){1&t&&(c.TgZ(0,"span",22),c._uU(1,"$\xa0"),c.qZA())}function k(t,n){if(1&t&&(c.TgZ(0,"mat-hint",23),c._uU(1),c.ALo(2,"silingEntryTooltip"),c.qZA()),2&t){const t=c.oxw(2).$implicit;c.Q6J("id",null),c.xp6(1),c.hij(" ",c.xi3(2,2,t.controlName,!0)," ")}}function I(t,n){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Please enter a valid number! "),c.qZA())}function U(t,n){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"mat-form-field",17),c.TgZ(2,"mat-label"),c._uU(3),c.ALo(4,"silingEntryTooltip"),c.qZA(),c.TgZ(5,"input",18),c.NdJ("focus",function(){c.CHM(t);const n=c.oxw().$implicit;return c.oxw(2).onFocus(n.controlName)}),c.qZA(),c.YNc(6,_,2,0,"span",19),c.YNc(7,k,3,5,"mat-hint",20),c.YNc(8,I,2,0,"mat-error",21),c.qZA(),c.BQk()}if(2&t){const t=c.oxw().$implicit,n=c.oxw(2);let o;c.xp6(3),c.Oqu(c.xi3(4,5,t.controlName,!0)),c.xp6(2),c.Q6J("formControlName",t.controlName),c.xp6(1),c.Q6J("ngIf","amount"===t.controlName),c.xp6(1),c.Q6J("ngIf",n.currentFocusControl===t.controlName),c.xp6(1),c.Q6J("ngIf",null==(o=n.entryFg.get(t.controlName))?null:o.hasError("optionalCommaSingleDecimalNumberOnly"))}}function O(t,n){if(1&t&&(c.TgZ(0,"mat-option",27),c.TgZ(1,"mat-icon"),c._uU(2,"account_balance"),c.qZA(),c._uU(3),c.ALo(4,"silingCompanyDisplay"),c.qZA()),2&t){const t=n.$implicit;c.Q6J("value",t),c.xp6(3),c.hij(" ",c.lcZ(4,2,t.name)," ")}}function J(t,n){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"mat-select",24),c.NdJ("focus",function(){c.CHM(t);const n=c.oxw(2).$implicit;return c.oxw(2).onFocus(n.controlName)}),c.TgZ(2,"mat-option"),c._uU(3,"None"),c.qZA(),c.YNc(4,O,5,4,"mat-option",25),c.TgZ(5,"mat-select-trigger"),c.TgZ(6,"div",26),c.TgZ(7,"mat-icon"),c._uU(8,"account_balance"),c.qZA(),c.TgZ(9,"div"),c._uU(10),c.ALo(11,"silingCompanyDisplay"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.BQk()}if(2&t){const t=n.ngIf,o=c.oxw(2).$implicit,e=c.oxw(2);let i;c.xp6(1),c.Q6J("formControlName",o.controlName),c.xp6(3),c.Q6J("ngForOf",t),c.xp6(6),c.hij(" ",c.lcZ(11,3,null==(i=e.entryFg.get("company"))||null==i.value?null:i.value.name)," ")}}function Q(t,n){if(1&t&&(c.TgZ(0,"mat-hint",23),c._uU(1),c.ALo(2,"silingEntryTooltip"),c.qZA()),2&t){const t=c.oxw(2).$implicit;c.Q6J("id",null),c.xp6(1),c.hij(" ",c.xi3(2,2,t.controlName,!0)," ")}}function Y(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"mat-form-field",17),c.TgZ(2,"mat-label"),c._uU(3),c.ALo(4,"silingEntryTooltip"),c.qZA(),c.YNc(5,J,12,5,"ng-container",21),c.ALo(6,"async"),c.YNc(7,Q,3,5,"mat-hint",20),c.qZA(),c.BQk()),2&t){const t=c.oxw().$implicit,n=c.oxw(2);c.xp6(3),c.Oqu(c.xi3(4,3,t.controlName,!0)),c.xp6(2),c.Q6J("ngIf",c.lcZ(6,6,n.data.companies)),c.xp6(2),c.Q6J("ngIf",n.currentFocusControl===t.controlName)}}function P(t,n){if(1&t&&(c.TgZ(0,"mat-hint",23),c._uU(1),c.ALo(2,"silingEntryTooltip"),c.qZA()),2&t){const t=c.oxw(2).$implicit;c.Q6J("id",null),c.xp6(1),c.hij(" ",c.xi3(2,2,t.controlName,!0)," ")}}function j(t,n){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"mat-form-field",17),c.TgZ(2,"mat-label"),c._uU(3),c.ALo(4,"silingEntryTooltip"),c.qZA(),c.TgZ(5,"input",28),c.NdJ("focus",function(){c.CHM(t);const n=c.oxw().$implicit;return c.oxw(2).onFocus(n.controlName)}),c.qZA(),c._UZ(6,"mat-datepicker-toggle",29),c._UZ(7,"mat-datepicker",null,30),c.YNc(9,P,3,5,"mat-hint",20),c.qZA(),c.BQk()}if(2&t){const t=c.MAs(8),n=c.oxw().$implicit,o=c.oxw(2);c.xp6(3),c.Oqu(c.xi3(4,5,n.controlName,!0)),c.xp6(2),c.Q6J("matDatepicker",t)("formControlName",n.controlName),c.xp6(1),c.Q6J("for",t),c.xp6(3),c.Q6J("ngIf",o.currentFocusControl===n.controlName)}}function $(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"div"),c.ynx(2,15),c.YNc(3,U,9,8,"ng-container",16),c.YNc(4,Y,8,8,"ng-container",16),c.YNc(5,j,10,8,"ng-container",16),c.BQk(),c.qZA(),c.BQk()),2&t){const t=n.$implicit;c.xp6(2),c.Q6J("ngSwitch",t.inputType),c.xp6(1),c.Q6J("ngSwitchCase","TEXT_INPUT"),c.xp6(1),c.Q6J("ngSwitchCase","SELECT_INPUT"),c.xp6(1),c.Q6J("ngSwitchCase","DATE_INPUT")}}function D(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"div",31),c._uU(2),c.ALo(3,"titlecase"),c.qZA(),c.TgZ(4,"div",32),c._uU(5),c.ALo(6,"silingEntryTooltip"),c.qZA(),c.BQk()),2&t){const t=c.oxw(2);c.xp6(2),c.hij(" ",c.lcZ(3,2,t.currentFocusControl)," "),c.xp6(3),c.hij(" ",c.lcZ(6,4,t.currentFocusControl)," ")}}function M(t,n){1&t&&(c.TgZ(0,"div",33),c._uU(1," Enter the dollar amount for its institution. "),c.qZA())}function G(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"div",9),c.TgZ(2,"div",10),c.TgZ(3,"form",11),c.YNc(4,$,6,4,"ng-container",12),c.qZA(),c.TgZ(5,"div",13),c.YNc(6,D,7,6,"ng-container",1),c.YNc(7,M,2,0,"ng-template",null,14,c.W1O),c.qZA(),c.qZA(),c.qZA(),c.BQk()),2&t){const t=c.MAs(8),n=c.oxw();c.xp6(3),c.Q6J("formGroup",n.entryFg),c.xp6(1),c.Q6J("ngForOf",n.entryFgStruct),c.xp6(2),c.Q6J("ngIf",n.currentFocusControl)("ngIfElse",t)}}function B(t,n){1&t&&(c.TgZ(0,"div"),c._uU(1," Loading... "),c.qZA())}const H=["company"],R=["date"],z=["companyLoading","companies"];let W=(()=>{class t{constructor(t,n,o){this.dialogRef=t,this.data=n,this.fb=o,this.entryFgStruct=[],this.compDest$=new l.x,this.entryFg=this.fb.group(this.createFormGroupObj(n)),this.entryFgStruct=this.createFgStructure(n),console.log(this.data,this.entryFg)}ngOnInit(){}createFormGroupObj(t){return{company:u.j2(null==t?void 0:t.company,!1,[g.kI.required]),date:u.j2(new Date(null==t?void 0:t.date),!1,[g.kI.required]),amount:u.j2(null==t?void 0:t.amount,!1,[m])}}createFgStructure(t){const n=[];let o=Object.keys(t);o.length<1&&(o=["company","date","amount"]);for(const e of o)if(z.indexOf(e)<0){let o=f.TEXT_INPUT;H.indexOf(e)>-1?o=f.SELECT_INPUT:R.indexOf(e)>-1&&(o=f.DATE_INPUT),n.push({controlName:e,inputType:o,value:t[e]})}return n}onFocus(t){this.currentFocusControl=t}onNoClick(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.entryFg.getRawValue())}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(p.so),c.Y36(p.WI),c.Y36(g.qu))},t.\u0275cmp=c.Xpm({type:t,selectors:[["new-siling1k-entry-dialog"]],decls:17,vars:8,consts:[["mat-dialog-title","","ngClass.gt-sm","big","fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",1,"mfont","my-2"],[4,"ngIf","ngIfElse"],["newEntry",""],["class","text-danger err-header",4,"ngIf"],["fxLayout","row","fxLayoutGap","1rem","fxLayoutAlign","end center"],["mat-flat-button","",3,"disabled","click"],["mat-flat-button","",3,"click"],["isLoading",""],[1,"text-danger","err-header"],["mat-dialog-content","",1,"content-parent"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","space-between start",1,"w-100"],["fxFlex.gt-sm","50",3,"formGroup"],[4,"ngFor","ngForOf"],["fxFlex","50","fxHide","","fxShow.gt-sm","",1,"tooltip-parent"],["noTooltip",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["appearance","standard",1,"w-100"],["type","text","matInput","",3,"formControlName","focus"],["matPrefix","",4,"ngIf"],[3,"id",4,"ngIf"],[4,"ngIf"],["matPrefix",""],[3,"id"],[3,"formControlName","focus"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","start end"],[3,"value"],["matInput","",3,"matDatepicker","formControlName","focus"],["matSuffix","",3,"for"],["picker",""],["fxLayout","row","fxLayoutAlign","start center",1,"font-weight-bold","subtitle","mfont","mb-2"],["fxLayout","row","fxLayoutAlign","start center",1,"roboto"],["fxLayout","column","fxLayoutAlign","center center"]],template:function(t,n){if(1&t&&(c.TgZ(0,"h1",0),c.TgZ(1,"div"),c.YNc(2,q,2,0,"ng-container",1),c.YNc(3,F,1,0,"ng-template",null,2,c.W1O),c.qZA(),c.YNc(5,S,2,0,"div",3),c.qZA(),c._UZ(6,"hr"),c.YNc(7,G,9,4,"ng-container",1),c.ALo(8,"async"),c._UZ(9,"hr"),c.TgZ(10,"div",4),c.TgZ(11,"button",5),c.NdJ("click",function(){return n.onSave()}),c._uU(12,"Save"),c.qZA(),c.TgZ(13,"button",6),c.NdJ("click",function(){return n.onNoClick()}),c._uU(14,"Cancel"),c.qZA(),c.qZA(),c.YNc(15,B,2,0,"ng-template",null,7,c.W1O)),2&t){const t=c.MAs(4),o=c.MAs(16);c.xp6(2),c.Q6J("ngIf",n.data.company)("ngIfElse",t),c.xp6(3),c.Q6J("ngIf",n.entryFg.touched&&n.entryFg.invalid),c.xp6(2),c.Q6J("ngIf",!1===c.lcZ(8,6,n.data.companyLoading))("ngIfElse",o),c.xp6(4),c.Q6J("disabled",n.entryFg.invalid)}},directives:[p.uh,d.oO,y.xw,y.SQ,y.Wh,h.O5,x.lW,p.xY,g._Y,g.JL,y.yH,g.sg,h.sg,d.b8,h.RF,h.n9,Z.KE,Z.hX,T.Nt,g.Fj,g.JJ,g.u,Z.qo,Z.bx,Z.TO,A.gD,v.ey,A.$L,w.Hw,N.hl,N.nW,Z.R9,N.Mq],pipes:[h.Ov,L,E,h.rS],styles:["h1[_ngcontent-%COMP%]{font-size:18px;font-weight:700}h1[_ngcontent-%COMP%]   .err-header[_ngcontent-%COMP%]{font-size:13px}.big[_ngcontent-%COMP%]{width:40rem}.tooltip-parent[_ngcontent-%COMP%]{width:23rem}"]}),t})(),X=(()=>{class t{constructor(t){this.dialog=t,this.dialogRef=void 0}getDialog(t){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(W,{data:Object.assign({},t),panelClass:"new-siling1k-entry",hasBackdrop:!0,autoFocus:!0,disableClose:!0}),this.dialogRef}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(p.uw))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();const K=(0,i.ZF)("admin"),V=(0,i.P1)(K,t=>t.companies),tt=(0,i.P1)(K,t=>t.apiLoading);var nt=o(9853);let ot=(()=>{class t{constructor(t){this.store=t,this.getSilingCompanies$=this.store.select(V),this.getSilingCompanyLoading$=this.store.select(tt)}fetchSilingCompanies(){this.store.dispatch(nt.kC())}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(i.yh))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const et=(0,i.PH)("[Siling/API] Save entry start",(0,i.Ky)()),it=(0,i.PH)("[Siling/API] Save entry successful",(0,i.Ky)()),at=(0,i.PH)("[Siling/API] Save entry start failure",(0,i.Ky)()),rt=(0,i.ZF)("dashboard"),ct=(0,i.P1)(rt,t=>t.entrySaveLoading);let st=(()=>{class t{constructor(t){this.store=t,this.isEntrySaveLoading$=this.store.select(ct)}saveSilingEntry(t){this.store.dispatch(et({payload:t}))}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(i.yh))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lt=[{path:"",component:s,children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class t{constructor(t,n,o){this.neds=t,this.as=n,this.cs=o,this.compDest$=new l.x}ngOnInit(){}onNewEntryClick(){this.as.fetchSilingCompanies();const t={amount:void 0,company:void 0,companies:this.as.getSilingCompanies$,companyLoading:this.as.getSilingCompanyLoading$,date:(new Date).getTime()};this.neds.getDialog(t).afterClosed().subscribe(t=>{if(t&&t.amount&&t.company&&t.date){const n=(0,u.G5)(t.amount);console.log(t.amount,n);const o={amount:n,company:t.company.id,date:t.date.getTime(),id:void 0};this.cs.saveSilingEntry(o)}})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(X),c.Y36(ot),c.Y36(st))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-core-home"]],decls:12,vars:0,consts:[[1,""],["mat-button","","color","primary",3,"click"]],template:function(t,n){1&t&&(c.TgZ(0,"section"),c.TgZ(1,"div",0),c.TgZ(2,"button",1),c.NdJ("click",function(){return n.onNewEntryClick()}),c.TgZ(3,"mat-icon"),c._uU(4,"add"),c.qZA(),c.TgZ(5,"span"),c._uU(6," New "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(7,"hr"),c.TgZ(8,"section"),c._uU(9," Graph\n"),c.qZA(),c.TgZ(10,"section"),c._uU(11," Table\n"),c.qZA())},directives:[x.lW,w.Hw],styles:[""]}),t})()}]}];let ut=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.Bz.forChild(lt)],r.Bz]}),t})();var gt=o(7228),pt=o(1447),ft=o(8811);const mt=[(()=>{class t{constructor(t,n,o){this.actions$=t,this.ts=n,this.rs=o,this.saveSilingEntry$=(0,e.GW)(()=>this.actions$.pipe((0,e.l4)(et),(0,gt.z)(t=>{const n=t.payload,o=this.rs.addEntryToCollection(n),e=Object.assign(Object.assign({},n),{id:o.id});return console.log(e),o.operationObs.then(t=>(this.ts.getSuccess("Entry was successfully saved."),it({payload:e,date:(new Date).getTime()}))).catch(t=>at({errMsg:t}))})))}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(e.eX),c.LFG(pt.M),c.LFG(ft.v))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})()],dt=(0,i.Lq)({entrySaveLoading:!1,entryApiErr:!1,entryToSave:void 0,entryApiErrMsg:void 0},(0,i.on)(et,(t,{payload:n})=>Object.assign(Object.assign({},t),{entrySaveLoading:!0,entryToSave:n})),(0,i.on)(it,(t,{payload:n})=>Object.assign(Object.assign({},t),{entryApiErr:!1,entryApiErrMsg:void 0,entrySaveLoading:!1,entryToSave:n})),(0,i.on)(at,(t,{errMsg:n})=>Object.assign(Object.assign({},t),{entryApiErr:!0,entryApiErrMsg:n,entrySaveLoading:!1})));let yt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[X],imports:[[a.n,e.sQ.forFeature(mt),i.Aw.forFeature("dashboard",dt),ut]]}),t})()}}]);