"use strict";(self.webpackChunksiling2k=self.webpackChunksiling2k||[]).push([[893],{9893:(Je,st,s)=>{s.r(st),s.d(st,{CoreModule:()=>qe});var C=s(5803),p=s(6710),vt=s(61),Zt=s(7462),Dt=s(3498),P=s(6983),t=s(7716);let At=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-5"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},directives:[P.lC],styles:[""]}),e})();var V=s(9765),A=s(6782),T=s(105),bt=s(2340),f=s(3679),F=s(2238),k=s(9193),Et=s(2996),v=s(8002),U=s(3190),ct=s(8307),b=(()=>{return(e=b||(b={})).TEXT_INPUT="TEXT_INPUT",e.SELECT_INPUT="SELECT_INPUT",e.DATE_INPUT="DATE_INPUT",e.CHECK_INPUT="CHECK_INPUT",b;var e})(),q=(()=>{return(e=q||(q={})).ENTER="Enter",e.ESCAPE="Escape",q;var e})(),lt=s(8402),$=s(8030),gt=s(4439),x=s(5618),m=s(8583),Y=s(1095),J=s(6627),Z=s(8295),pt=s(9983),Lt=s(7539),W=s(7441),ut=s(2458),X=s(3220),z=s(3617),mt=s(1130);function Ft(e,o){1&e&&(t.ynx(0),t._uU(1," Editing Existing Entry "),t.BQk())}function wt(e,o){1&e&&t._uU(0," New Siling1k Entry ")}function St(e,o){1&e&&(t.TgZ(0,"span",26),t._uU(1,"$\xa0"),t.qZA())}function Nt(e,o){if(1&e&&(t.TgZ(0,"mat-hint",27),t._uU(1),t.ALo(2,"silingEntryTooltip"),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.Q6J("id",null),t.xp6(1),t.hij(" ",t.xi3(2,2,n.controlName,!0)," ")}}function It(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid number! "),t.qZA())}function Ot(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.TgZ(5,"input",22),t.NdJ("focus",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(2).onFocus(a.controlName)}),t.qZA(),t.YNc(6,St,2,0,"span",23),t.YNc(7,Nt,3,5,"mat-hint",24),t.YNc(8,It,2,0,"mat-error",25),t.qZA(),t.BQk()}if(2&e){const n=t.oxw().$implicit,i=t.oxw(2);let a;t.xp6(3),t.Oqu(t.xi3(4,5,n.controlName,!0)),t.xp6(2),t.Q6J("formControlName",n.controlName),t.xp6(1),t.Q6J("ngIf","amount"===n.controlName),t.xp6(1),t.Q6J("ngIf",i.currentFocusControl===n.controlName),t.xp6(1),t.Q6J("ngIf",null==(a=i.entryFormGroup.get(n.controlName))?null:a.hasError("optionalCommaSingleDecimalNumberOnly"))}}function Qt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",28),t.TgZ(2,"mat-checkbox",29),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("formControlName",n.controlName),t.xp6(1),t.hij(" ",t.lcZ(4,2,n.controlName)," ")}}function Pt(e,o){if(1&e&&(t.TgZ(0,"mat-option",33),t.TgZ(1,"mat-icon"),t._uU(2,"account_balance"),t.qZA(),t._uU(3),t.ALo(4,"silingCompanyDisplay"),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(3),t.hij(" ",t.lcZ(4,2,n.name)," ")}}function Ut(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-select",30),t.NdJ("focus",function(){t.CHM(n);const a=t.oxw(2).$implicit;return t.oxw(2).onFocus(a.controlName)}),t.TgZ(2,"mat-option"),t._uU(3,"None"),t.qZA(),t.YNc(4,Pt,5,4,"mat-option",31),t.TgZ(5,"mat-select-trigger"),t.TgZ(6,"div",32),t.TgZ(7,"mat-icon"),t._uU(8,"account_balance"),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.ALo(11,"silingCompanyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=o.ngIf,i=t.oxw(2).$implicit,a=t.oxw(2);let r;t.xp6(1),t.Q6J("formControlName",i.controlName),t.xp6(3),t.Q6J("ngForOf",n),t.xp6(6),t.hij(" ",t.lcZ(11,3,null==(r=a.entryFormGroup.get("company"))||null==r.value?null:r.value.name)," ")}}function qt(e,o){if(1&e&&(t.TgZ(0,"mat-hint",27),t._uU(1),t.ALo(2,"silingEntryTooltip"),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.Q6J("id",null),t.xp6(1),t.hij(" ",t.xi3(2,2,n.controlName,!0)," ")}}function Jt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.YNc(5,Ut,12,5,"ng-container",25),t.ALo(6,"async"),t.YNc(7,qt,3,5,"mat-hint",24),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit,i=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,3,n.controlName,!0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,6,i.data.companies)),t.xp6(2),t.Q6J("ngIf",i.currentFocusControl===n.controlName)}}function Mt(e,o){if(1&e&&(t.TgZ(0,"mat-hint",27),t._uU(1),t.ALo(2,"silingEntryTooltip"),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.Q6J("id",null),t.xp6(1),t.hij(" ",t.xi3(2,2,n.controlName,!0)," ")}}function kt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.TgZ(5,"input",34),t.NdJ("focus",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(2).onFocus(a.controlName)}),t.qZA(),t._UZ(6,"mat-datepicker-toggle",35),t._UZ(7,"mat-datepicker",null,36),t.YNc(9,Mt,3,5,"mat-hint",24),t.qZA(),t.BQk()}if(2&e){const n=t.MAs(8),i=t.oxw().$implicit,a=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,5,i.controlName,!0)),t.xp6(2),t.Q6J("matDatepicker",n)("formControlName",i.controlName),t.xp6(1),t.Q6J("for",n),t.xp6(3),t.Q6J("ngIf",a.currentFocusControl===i.controlName)}}function $t(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div"),t.ynx(2,19),t.YNc(3,Ot,9,8,"ng-container",20),t.YNc(4,Qt,5,4,"ng-container",20),t.YNc(5,Jt,8,8,"ng-container",20),t.YNc(6,kt,10,8,"ng-container",20),t.BQk(),t.qZA(),t.BQk()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngSwitch",n.inputType),t.xp6(1),t.Q6J("ngSwitchCase","TEXT_INPUT"),t.xp6(1),t.Q6J("ngSwitchCase","CHECK_INPUT"),t.xp6(1),t.Q6J("ngSwitchCase","SELECT_INPUT"),t.xp6(1),t.Q6J("ngSwitchCase","DATE_INPUT")}}function Yt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",37),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div",38),t._uU(5),t.ALo(6,"silingEntryTooltip"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,n.currentFocusControl)," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,n.currentFocusControl)," ")}}function Gt(e,o){1&e&&(t.TgZ(0,"div",39),t._uU(1," Enter the dollar amount for its institution. "),t.qZA())}function Bt(e,o){1&e&&(t.TgZ(0,"div",40),t._uU(1," Fix invalid inputs before saving. "),t.qZA())}function jt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t.TgZ(3,"form",9),t.YNc(4,$t,7,5,"ng-container",10),t.qZA(),t.TgZ(5,"div",11),t.YNc(6,Yt,7,6,"ng-container",3),t.YNc(7,Gt,2,0,"ng-template",null,12,t.W1O),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"div",13),t.TgZ(11,"div",14),t.YNc(12,Bt,2,0,"div",15),t.qZA(),t.TgZ(13,"div",16),t.TgZ(14,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw().onNoClick()}),t.TgZ(15,"mat-icon"),t._uU(16,"close"),t.qZA(),t._uU(17," Cancel "),t.qZA(),t.TgZ(18,"button",18),t.NdJ("click",function(){return t.CHM(n),t.oxw().onSave()}),t.TgZ(19,"mat-icon"),t._uU(20,"save"),t.qZA(),t._uU(21," Save "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=t.MAs(8),i=t.oxw();t.xp6(3),t.Q6J("formGroup",i.entryFormGroup),t.xp6(1),t.Q6J("ngForOf",i.entryFormGroupStruct),t.xp6(2),t.Q6J("ngIf",i.currentFocusControl)("ngIfElse",n),t.xp6(6),t.Q6J("ngIf",i.entryFormGroup.touched&&i.entryFormGroup.invalid),t.xp6(6),t.Q6J("disabled",i.entryFormGroup.invalid)}}function Rt(e,o){1&e&&(t.TgZ(0,"div",41),t._UZ(1,"app-shared-loading",42),t.qZA()),2&e&&(t.xp6(1),t.Q6J("message","institutions"))}const Ht=["company"],Kt=["date"],Vt=["updateDate"];let Wt=(()=>{class e{constructor(n,i,a){this.dialogRef=n,this.data=i,this.fb=a,this.entryFormGroupStruct=[],this.compDest$=new V.xQ,this.entryFormGroup=this.fb.group(this.createFormGroup(i))}get amountControl(){return this.entryFormGroup.get("amount")}ngOnInit(){this.entryFormGroupStruct=[],this.updateFormGroupStruct("amount",!0),this.entryFormGroup.valueChanges.pipe((0,A.R)(this.compDest$),(0,Et.j)("amount")).subscribe(n=>{n&&this.amountControl.setValue((n+"").trim(),{emitEvent:!1})}),this.amountControl.valueChanges.pipe((0,A.R)(this.compDest$),(0,v.U)(n=>!(!n||""===(n+"").trim())&&(this.entryFormGroup.get("company")||(this.entryFormGroup.addControl("company",T.j2(void 0,!1,[f.kI.required]),{emitEvent:!1}),this.updateFormGroupStruct("company",!0)),this.entryFormGroup.get("company"))),(0,U.w)(n=>n?n.valueChanges.pipe((0,A.R)(this.compDest$),(0,v.U)(i=>!!i&&(this.entryFormGroup.get("updateDate")||(this.entryFormGroup.addControl("updateDate",T.j2(!1,!1),{emitEvent:!1}),this.updateFormGroupStruct("updateDate",!0)),this.entryFormGroup.get("updateDate"))),(0,U.w)(i=>i?i.valueChanges.pipe((0,A.R)(this.compDest$),(0,ct.b)(a=>{a?this.entryFormGroup.get("date")||(this.entryFormGroup.addControl("date",T.j2(void 0,!1,[f.kI.required])),this.updateFormGroupStruct("date",!0)):(this.entryFormGroup.removeControl("date",{emitEvent:!1}),this.updateFormGroupStruct("date",!1))})):k.E)):k.E)).subscribe()}createFormGroup(n){return{amount:T.j2(n.amount,!1,[lt.iN])}}updateFormGroupStruct(n,i){if(i){let a=b.TEXT_INPUT;Ht.indexOf(n)>-1?a=b.SELECT_INPUT:Kt.indexOf(n)>-1?a=b.DATE_INPUT:Vt.indexOf(n)>-1&&(a=b.CHECK_INPUT),this.entryFormGroupStruct.push({controlName:n,inputType:a,value:this.data[n]})}else{const a=this.entryFormGroupStruct.findIndex(r=>r.controlName===n);this.entryFormGroupStruct.splice(a,1)}}onFocus(n){this.currentFocusControl=n}onNoClick(){this.dialogRef.close()}onSave(){let n=this.entryFormGroup.getRawValue();(!1===n.updateDate||!n.date)&&(n=Object.assign(Object.assign({},n),{date:new Date})),this.dialogRef.close(n)}onKeyEventt(n){n.key===q.ENTER&&this.entryFormGroup.valid&&this.onSave()}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(F.so),t.Y36(F.WI),t.Y36(f.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["new-siling1k-entry-dialog"]],decls:15,vars:6,consts:[["ngClass.gt-sm","big",1,"w-100",3,"ngxKeyEvent"],["fxLayout","row","fxLayoutAlign","space-between center",1,"if","title-bar-bg","title","w-100"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","15px"],[4,"ngIf","ngIfElse"],["newEntry",""],["mat-icon-button","","color","warn",3,"click"],["isLoading",""],[1,"container-fluid","pt-3"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","space-between start",1,"w-100"],["fxFlex.gt-sm","50",3,"formGroup"],[4,"ngFor","ngForOf"],["fxFlex","50","fxHide","","fxShow.gt-sm","",1,"tooltip-parent"],["noTooltip",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"action-bar","mx-3"],[1,"error-msg"],["class","text-danger err-header",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","15px"],["mat-stroked-button","","color","warn",3,"click"],["mat-stroked-button","",3,"disabled","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appearance","standard",1,"w-100"],["type","text","matInput","",3,"formControlName","focus"],["matPrefix","",4,"ngIf"],[3,"id",4,"ngIf"],[4,"ngIf"],["matPrefix",""],[3,"id"],[1,"mt-1"],["color","primary",1,"",3,"formControlName"],[3,"formControlName","focus"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","start end"],[3,"value"],["matInput","",3,"matDatepicker","formControlName","focus"],["matSuffix","",3,"for"],["picker",""],["fxLayout","row","fxLayoutAlign","start center",1,"font-weight-bold","subtitle","mfont","mb-2"],["fxLayout","row","fxLayoutAlign","start center",1,"roboto"],["fxLayout","column","fxLayoutAlign","center center"],[1,"text-danger","err-header"],[1,"my-3"],[3,"message"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("ngxKeyEvent",function(r){return i.onKeyEventt(r)}),t.TgZ(1,"section",1),t.TgZ(2,"div",2),t.TgZ(3,"div"),t.YNc(4,Ft,2,0,"ng-container",3),t.YNc(5,wt,1,0,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"button",5),t.NdJ("click",function(){return i.onNoClick()}),t.TgZ(9,"mat-icon"),t._uU(10,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(11,jt,22,6,"ng-container",3),t.ALo(12,"async"),t.YNc(13,Rt,2,1,"ng-template",null,6,t.W1O)),2&n){const a=t.MAs(6),r=t.MAs(14);t.xp6(4),t.Q6J("ngIf",i.data.company)("ngIfElse",a),t.xp6(7),t.Q6J("ngIf",!1===t.lcZ(12,4,i.data.companyLoading))("ngIfElse",r)}},directives:[$.oO,gt.pb,x.xw,x.Wh,x.SQ,m.O5,Y.lW,J.Hw,f._Y,f.JL,x.yH,f.sg,m.sg,$.b8,m.RF,m.n9,Z.KE,Z.hX,pt.Nt,f.Fj,f.JJ,f.u,Z.qo,Z.bx,Z.TO,Lt.oG,W.gD,ut.ey,W.$L,X.hl,X.nW,Z.R9,X.Mq,z.N],pipes:[m.Ov,mt.q,mt.n,m.rS],styles:[".big[_ngcontent-%COMP%]{width:40rem}.tooltip-parent[_ngcontent-%COMP%]{width:23rem}.action-bar[_ngcontent-%COMP%]{margin-bottom:10px}.action-bar[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{min-width:10px;font-size:14px}"]}),e})(),dt=(()=>{class e{constructor(n){this.dialog=n,this.dialogRef=void 0}getDialog(n){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(Wt,{data:Object.assign({},n),panelClass:"new-siling1k-entry",hasBackdrop:!0,autoFocus:!1,disableClose:!1,width:"calc(100% - 30rem)"}),this.dialogRef}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(F.uw))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var ft=s(8734),_t=s(5758),_=s(5122);const w=(0,p.ZF)("dashboard"),Xt=(0,p.P1)(w,e=>e.entrySaveLoading),zt=(0,p.P1)(w,e=>e.firstTimeLoading&&e.silingDataLoading),tn=(0,p.P1)(w,e=>e.silingDataLoading),nn=(0,p.P1)(w,e=>e.silingDataLastFetched),ht=(0,p.P1)(w,e=>{var o;return null!==(o=e.silingData)&&void 0!==o?o:{}}),xt=(0,p.P1)(w,e=>e.silingDataBeingFetchedNames),G=(0,p.P1)(xt,ht,(e,o)=>{const n=Object.keys(o),i={};let a=100;return n.length>0&&(a=Math.floor(100/n.length)),n.forEach((r,c)=>{const g=JSON.parse(JSON.stringify(o[r])).sort((y,d)=>y.date>d.date?1:-1),l=[];g.forEach((y,d,M)=>{const D=g[d-1];let L=0,Q=0;D&&y&&(L=y.amount-D.amount,Q=0===D.amount?1:L/D.amount),l.push(Object.assign(Object.assign({},y),{profit:L,profitPercent:Q}))});const h=JSON.parse(JSON.stringify(l));i[r]=h.reverse()}),{data:i,keys:e,flexNumber:a}}),en=(0,p.P1)(G,e=>{const o=[],n=[];e.keys.forEach(r=>{e.data&&e.data[r]&&e.data[r].forEach(c=>{n.push(c.date)})}),n.sort((r,c)=>r>c?1:-1);const i=new Set(n),a=Array.from(i);return e.keys.forEach(r=>{const c=(0,T.fm)(r),u=e.data[r];let g=[];if(u){const y={};u.forEach(d=>{y[d.date]=d.amount}),a.forEach((d,M)=>{g.push(void 0!==y[d]?+y[d]:NaN)})}let l=[],h=0;a.forEach((y,d)=>{isNaN(g[d])?l.push(h):(h=g[d],l.push(g[d]))}),o.push({name:c,data:l})}),{series:o,chart:{type:"line",height:350,zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"},width:"100%"},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Siling Growth by Date",align:"left",style:{fontFamily:"Roboto"}},fill:{type:"gradient",gradient:{opacityFrom:.9,opacityTo:.9}},yaxis:{labels:{formatter:function(e){return e?"$"+(+e).toLocaleString(void 0):e+""}},title:{text:"$ Amount"}},xaxis:un(a),tooltip:{shared:!0,y:{formatter:function(e,o){return e?"$"+(0,T.gW)(e):e+""}}},legend:{show:!0,position:"top",horizontalAlign:"center",fontFamily:"Roboto",fontSize:"15px"},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}}}}),on=(0,p.P1)(G,e=>{let o={},n=0,i=0;return e.keys.forEach((a,r)=>{var c,u;if(e.data[a]){const g=JSON.parse(JSON.stringify(e.data[a]));g.sort((y,d)=>y.date>d.date?1:-1);const l=g[null!==(u=(null===(c=e.data[a])||void 0===c?void 0:c.length)-1)&&void 0!==u?u:0];0===r&&l&&(i=l.date);let h=+(null==l?void 0:l.amount);h=isNaN(h)?0:h,o[a]=h,n+=h,i<(null==l?void 0:l.date)&&(i=l.date)}}),{sumAmount:o,lastUpdated:i,total:n}}),an=(0,p.P1)(G,e=>{const o=[];e&&e.keys.forEach(a=>{e.data&&e.data[a]&&e.data[a].forEach(r=>{o.push(r.date)})}),o.sort((a,r)=>a>r?1:-1);const n=new Set(o);return Array.from(n)});function un(e){return{type:"datetime",categories:[...e]}}const yt=(0,p.ZF)("dashboardUI"),_n=(0,p.P1)(yt,e=>e.currentSelection),Ct=(0,p.P1)(yt,e=>e.allTabSelections),hn=(0,p.P1)(Ct,_n,(e,o)=>e&&o?e.findIndex(i=>i.id===o.id):0),tt=(0,p.PH)("[Siling/UI] Set dashboard view tab selection",(0,p.Ky)());var nt=s(2671);let B=(()=>{class e{constructor(n,i){this.store=n,this.rs=i,this.isEntrySaveLoading$=this.store.select(Xt),this.isDashboardDataFirstTimeLoading$=this.store.select(zt),this.isDataLoading$=this.store.select(tn),this.dashboardData$=this.store.select(G),this.chartData$=this.store.select(en),this.summary$=this.store.select(on),this.selectTabIndex$=this.store.select(hn),this.dashboardTabs$=this.store.select(Ct),this.silingData$=this.store.select(ht),this.dataLastFetched$=this.store.select(nn),this.companiesShown$=this.store.select(xt),this.getAllDates$=this.store.select(an)}saveSilingEntry(n){this.store.dispatch(_.su({payload:n}))}getSilingDataByInsName(n){n&&n.length>0&&this.store.dispatch(_.F3({names:n}))}getSilingShowList(){this.store.dispatch(_.qe())}fetchSilingCompanies(){return this.rs.getCollection("settings/kqpro/companies/all")}fetchShowHideList(){return this.rs.getDocument("settings/kqpro/showHideList")}setTab(n){this.store.dispatch(tt({tabIndex:n}))}refreshData(){this.store.dispatch(_.Pd())}getSilingShownIdsObs(){return(0,_t.D)({allCompanies:this.fetchSilingCompanies(),showHideList:this.fetchShowHideList()}).pipe((0,v.U)(n=>{const a=[];let r=[],c=[];return n.showHideList&&n.showHideList.hiding&&n.showHideList.hiding.length>-1&&(r=n.showHideList.hiding),n.showHideList&&n.showHideList.showing&&n.showHideList.showing.length>-1&&(c=n.showHideList.showing),n.allCompanies.forEach(g=>{r.findIndex(h=>h.name===g.name)<0&&a.push(g)}),a.sort((g,l)=>c.findIndex(d=>d.id===g.id)>c.findIndex(d=>d.id===l.id)?1:-1),a.map(g=>g.name.toLowerCase())}))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(p.yh),t.LFG(nt.v))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var yn=s(9112),j=s(4762),R=s(9254),H=s(837);class S{transform(o){let n=o;switch(o){case"name":n="Name";break;case"example":n="Example";break;case"company":n="Siling Institution";break;case"date":n="Entry Date";break;case"gain":n="Gain By";break;case"loss":n="Loss By";break;case"balance":n="Current Balance"}return n}}S.\u0275fac=function(o){return new(o||S)},S.\u0275pipe=t.Yjl({name:"tableColumnDisplay",type:S,pure:!0}),(0,j.gn)([(0,R.Z)()],S.prototype,"transform",null);var K=s(5917);class N{transform(o){let n=o;switch(o){case"company":n="Select a Siling Ins.";break;case"date":n="Select a entry date";break;case"gain":case"loss":case"balance":n="Enter $ amount"}return n}}N.\u0275fac=function(o){return new(o||N)},N.\u0275pipe=t.Yjl({name:"filterLabelDisplay",type:N,pure:!0}),(0,j.gn)([(0,R.Z)()],N.prototype,"transform",null);class I{constructor(o,n){this.cs=o,this.as=n}transform(o){let n=(0,K.of)([]);switch(o){case"company":n=this.as.getSilingCompanies$}return n}}I.\u0275fac=function(o){return new(o||I)(t.Y36(B,16),t.Y36(ft.l,16))},I.\u0275pipe=t.Yjl({name:"filterValueSelections",type:I,pure:!0}),(0,j.gn)([(0,R.Z)()],I.prototype,"transform",null);class O{transform(o){const n=o.length;if(n)return{summary:n+(1===n?" error":" errors"),errors:o}}}function Cn(e,o){1&e&&(t.TgZ(0,"div",18),t._uU(1," Please validate all filters before adding another. "),t.qZA())}function Tn(e,o){if(1&e&&(t.TgZ(0,"mat-option",28),t._uU(1),t.ALo(2,"tableColumnDisplay"),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",t.lcZ(2,2,n)," ")}}function vn(e,o){if(1&e&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n.name," ")}}function Zn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",33),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"filterLabelDisplay"),t.qZA(),t.TgZ(5,"mat-select",34),t.YNc(6,vn,2,2,"mat-option",27),t.ALo(7,"async"),t.ALo(8,"filterValueSelections"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(3),t.Oqu(t.lcZ(4,3,n)),t.xp6(2),t.Q6J("formControlName","filterValue"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(7,5,t.lcZ(8,7,n)))}}function Dn(e,o){1&e&&t.GkF(0)}function An(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",35),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"filterLabelDisplay"),t.qZA(),t.TgZ(5,"span",36),t._uU(6,"$ \xa0"),t.qZA(),t._UZ(7,"input",37),t.qZA(),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(3),t.hij(" ",t.lcZ(4,2,n)," "),t.xp6(4),t.Q6J("formControlName","filterValue")}}function bn(e,o){if(1&e&&(t.ynx(0),t.ynx(1,29),t.TgZ(2,"div",30),t.YNc(3,Zn,9,9,"ng-container",31),t.YNc(4,Dn,1,0,"ng-container",31),t.YNc(5,An,8,4,"ng-container",32),t.qZA(),t.BQk(),t.BQk()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngSwitch",n),t.xp6(2),t.Q6J("ngSwitchCase","company"),t.xp6(1),t.Q6J("ngSwitchCase","date")}}function En(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",23),t.TgZ(2,"div",24),t._uU(3),t.qZA(),t.TgZ(4,"mat-form-field",25),t.TgZ(5,"mat-label"),t._uU(6,"Filter"),t.qZA(),t.TgZ(7,"mat-select",26),t.NdJ("selectionChange",function(){const r=t.CHM(n).index;return t.oxw(4).onFilterTypeChange(r)}),t.YNc(8,Tn,3,4,"mat-option",27),t.qZA(),t.qZA(),t.YNc(9,bn,6,3,"ng-container",4),t.qZA(),t.BQk()}if(2&e){const n=o.index,i=t.oxw(4),a=t.MAs(13);t.xp6(1),t.Q6J("formGroupName",n),t.xp6(2),t.hij(" Filter ",n+1,": "),t.xp6(4),t.Q6J("formControlName","filterType"),t.xp6(1),t.Q6J("ngForOf",i.data.options),t.xp6(1),t.Q6J("ngIf",i.filterArray.at(n).get("filterType").value)("ngIfElse",a)}}function Ln(e,o){if(1&e&&(t.TgZ(0,"section",19),t.TgZ(1,"form",20),t.TgZ(2,"div",21),t.YNc(3,En,10,6,"ng-container",22),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("formGroup",n.filterFg),t.xp6(1),t.Q6J("formArrayName","filters"),t.xp6(1),t.Q6J("ngForOf",n.filterArray.controls)}}function Fn(e,o){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.errorName," ")}}function wn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Fn,2,1,"li",22),t.qZA(),t.BQk()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" ",n.summary," in filters: "),t.xp6(2),t.Q6J("ngForOf",n.errors)}}function Sn(e,o){if(1&e&&(t.ynx(0),t.YNc(1,wn,5,2,"ng-container",16),t.ALo(2,"formErrorDisplay"),t.BQk()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.allErrors))}}function Nn(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"section",8),t.TgZ(2,"div",9),t.TgZ(3,"button",10),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onAddNew()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA(),t._uU(6," Add new filter "),t.qZA(),t.YNc(7,Cn,2,0,"div",11),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"button",12),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onRemoveAll()}),t.TgZ(10,"mat-icon"),t._uU(11,"delete_sweep"),t.qZA(),t._uU(12," Remove all "),t.qZA(),t.qZA(),t.qZA(),t._UZ(13,"hr"),t.YNc(14,Ln,4,3,"section",13),t._UZ(15,"hr",3),t.TgZ(16,"section",14),t.TgZ(17,"div",15),t.YNc(18,Sn,3,3,"ng-container",16),t.qZA(),t.TgZ(19,"div"),t.TgZ(20,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onClose(!0)}),t.TgZ(21,"mat-icon"),t._uU(22,"save"),t.qZA(),t._uU(23," Apply "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=t.oxw(2);t.xp6(3),t.Q6J("disabled",n.filterFg.invalid),t.xp6(4),t.Q6J("ngIf",n.filterFg.touched&&n.filterFg.invalid),t.xp6(7),t.Q6J("ngIf",n.filterFg),t.xp6(4),t.Q6J("ngIf",n.filterFg.touched),t.xp6(2),t.Q6J("disabled",n.filterFg.invalid)}}function In(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,Nn,24,5,"ng-container",4),t.ALo(3,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw(),i=t.MAs(11);t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,2,n.isLoading$))("ngIfElse",i)}}function On(e,o){1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-shared-loading",38),t.qZA()),2&e&&(t.xp6(1),t.Q6J("message","filter data"))}function Qn(e,o){1&e&&(t.TgZ(0,"div",30),t._uU(1," \xa0 "),t.qZA())}O.\u0275fac=function(o){return new(o||O)},O.\u0275pipe=t.Yjl({name:"formErrorDisplay",type:O,pure:!0}),(0,j.gn)([(0,R.Z)()],O.prototype,"transform",null);let Pn=(()=>{class e{constructor(n,i,a){if(this.dialogRef=n,this.data=i,this.fb=a,this.allErrors=[],this.compDest$=new V.xQ,this.filterFg=this.fb.group({filters:this.fb.array([])}),!(this.data.filterData.length>0)){const r=this.createDefaultFilter();this.filterArray.push(r)}this.filterFg.valueChanges.pipe((0,A.R)(this.compDest$)).subscribe(r=>{this.allErrors=(0,T.dR)(this.filterFg)})}get filterArray(){return this.filterFg.get("filters")}ngOnInit(){var n,i;(null===(n=this.data)||void 0===n?void 0:n.companiesLoading)&&(null===(i=this.data)||void 0===i?void 0:i.silingDataLoading)&&(this.isLoading$=(0,yn.aj)([this.data.companiesLoading,this.data.silingDataLoading]).pipe((0,v.U)(a=>a[0]||a[1])))}onFilterTypeChange(n){var i,a;if(n>-1){const r=null===(i=this.filterArray.at(n))||void 0===i?void 0:i.get("filterValue");if(r){switch(null==r||r.reset(void 0,{emitEvent:!1}),(null===(a=this.filterArray.at(n))||void 0===a?void 0:a.get("filterType")).value){case"gain":case"loss":case"balance":r.setValidators([f.kI.required,lt.FV]);break;case"company":r.setValidators([f.kI.required]);break;case"date":r.clearValidators()}r.updateValueAndValidity()}}}createDefaultFilter(n){return this.fb.group({filterType:(0,T.j2)(null==n?void 0:n.valueType,!1),filterValue:(0,T.j2)(null==n?void 0:n.currentValue,!1,[f.kI.required])})}onAddNew(){this.filterFg.valid&&this.filterArray.push(this.createDefaultFilter())}onRemoveAll(){this.filterArray.clear(),this.onClose(!0)}onClose(n){this.dialogRef.close(n?this.filterFg.value:void 0)}onKeyEvent(n){n.key===q.ESCAPE&&this.onClose(!1)}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(F.so),t.Y36(F.WI),t.Y36(f.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-filter-dialog"]],decls:14,vars:2,consts:[["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","10px",1,"w-100",3,"ngxKeyEvent"],["fxLayout","row","fxLayoutAlign","space-between center",1,"if","title-bar-bg","title","w-100"],["mat-icon-button","","color","warn",3,"click"],[1,"w-100"],[4,"ngIf","ngIfElse"],["loading",""],["selectFilter",""],[1,"container-fluid"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutAlign","start center"],["mat-button","","color","primary",3,"disabled","click"],["class","text-muted ml-2 tt",4,"ngIf"],["mat-button","","color","warn",3,"click"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100","action-bar"],[1,"errors","text-danger"],[4,"ngIf"],["mat-stroked-button","","color","primary",3,"disabled","click"],[1,"text-muted","ml-2","tt"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px"],[1,"w-100","form-parent",3,"formGroup"],[3,"formArrayName"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",3,"formGroupName"],["fxFlex","8","fxLayout","row","fxLayoutAlign","start end",1,"count"],["appearance","standard","fxFlex","30"],[3,"formControlName","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],["fxFlex","50"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["appearance","standard"],[3,"formControlName"],["appearance","standard",1,""],["matPrefix",""],["matInput","","type","text",3,"formControlName"],[3,"message"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("ngxKeyEvent",function(r){return i.onKeyEvent(r)}),t.TgZ(1,"section",1),t.TgZ(2,"div"),t._uU(3," Filter Manager "),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",2),t.NdJ("click",function(){return i.onClose(!1)}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"section",3),t.YNc(9,In,4,4,"ng-container",4),t.qZA(),t.qZA(),t.YNc(10,On,2,1,"ng-template",null,5,t.W1O),t.YNc(12,Qn,2,0,"ng-template",null,6,t.W1O)),2&n){const a=t.MAs(11);t.xp6(9),t.Q6J("ngIf",i.isLoading$)("ngIfElse",a)}},directives:[x.xw,x.Wh,x.SQ,gt.pb,Y.lW,J.Hw,m.O5,f._Y,f.JL,f.sg,f.CE,m.sg,f.x0,x.yH,Z.KE,Z.hX,W.gD,f.JJ,f.u,ut.ey,m.RF,m.n9,m.ED,Z.qo,pt.Nt,f.Fj,z.N],pipes:[m.Ov,S,N,I,O],styles:['section.title[_ngcontent-%COMP%]{padding:15px;font-size:18px}form.form-parent[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-family:"Quicksand";font-weight:700;color:#2a2961}.action-bar[_ngcontent-%COMP%]   .errors[_ngcontent-%COMP%]{font-size:14px;min-width:5px}mat-form-field[_ngcontent-%COMP%]{width:100%}.tt[_ngcontent-%COMP%]{font-size:14px}.action-bar[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:-4px}']}),e})(),Un=(()=>{class e{constructor(n){this.dialog=n,this.dialogRef=void 0}getDialog(n){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(Pn,{data:n,panelClass:"filter-dialog-container",hasBackdrop:!0,autoFocus:!1,disableClose:!0,width:"calc(100% - 30rem)"}),this.dialogRef}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(F.uw))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var E=s(4836);function qn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t._uU(4),t.ALo(5,"dateDisplay"),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"span",7),t._uU(8),t.ALo(9,"localeNumberDisplay"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(3),t.Q6J("title","Last entry updated"),t.xp6(1),t.hij(" ",t.xi3(5,4,n.summaryData.lastUpdated,"MDYANDFROMNOW")," "),t.xp6(2),t.Q6J("title",n.summaryData.total),t.xp6(2),t.hij(" $ ",t.lcZ(9,7,n.summaryData.total)," ")}}function Jn(e,o){if(1&e&&(t.ynx(0),t.YNc(1,qn,10,9,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.summaryData)}}function Mn(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Jn,2,1,"ng-container",2),t.ALo(2,"async"),t.BQk()),2&e){const n=t.oxw(),i=t.MAs(2);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,n.loading$))("ngIfElse",i)}}function kn(e,o){1&e&&(t.TgZ(0,"div",8),t._uU(1," Calculating summary... "),t.qZA())}let $n=(()=>{class e{constructor(){this.summaryData=void 0}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-summary"]],inputs:{summaryData:"summaryData",loading$:"loading$"},decls:3,vars:1,consts:[[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"roboto","summary"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",1,"text-muted"],[3,"title"],[1,"total",3,"title"],[1,"green"],["fxLayout","row","fxLayoutAlign","center center",1,"summary"]],template:function(n,i){1&n&&(t.YNc(0,Mn,3,4,"ng-container",0),t.YNc(1,kn,2,0,"ng-template",null,1,t.W1O)),2&n&&t.Q6J("ngIf",i.loading$)},directives:[m.O5,x.xw,x.Wh,x.SQ],pipes:[m.Ov,H.o,E.i7],styles:[".total[_ngcontent-%COMP%]{font-weight:500;letter-spacing:1px}.green[_ngcontent-%COMP%]{color:#0c8d0c}.summary[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();var et=s(5939),Yn=s(4256);const Gn=["chart"];function Bn(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"apx-chart",1,2),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("series",n.apexSeries)("chart",n.apexChart)("dataLabels",n.apexDataLabels)("markers",n.apexMarkers)("title",n.apexTitle)("fill",n.apexFill)("yaxis",n.apexYAxis)("xaxis",n.apexXAxis)("tooltip",n.apexTooltip)("legend",n.apexLegend)("grid",n.apexGrid)}}let jn=(()=>{class e{constructor(n){this.ngZone=n,this.chartData=void 0}ngOnChanges(){this.initChartData()}ngOnInit(){}initChartData(){var n,i,a,r,c,u,g,l,h,y,d,M,D,L,Q,at,rt;this.apexSeries?this.apexSeries&&(null===(i=this.chartData)||void 0===i?void 0:i.series)&&((0,T.cO)(this.apexSeries,null===(a=this.chartData)||void 0===a?void 0:a.series)||(this.apexSeries=null===(r=this.chartData)||void 0===r?void 0:r.series)):this.apexSeries=null===(n=this.chartData)||void 0===n?void 0:n.series,this.apexXAxis?this.apexXAxis&&(null===(u=this.chartData)||void 0===u?void 0:u.xaxis)&&((0,T.cO)(this.apexXAxis.categories,null===(g=this.chartData)||void 0===g?void 0:g.xaxis.categories)||(this.apexXAxis=null===(l=this.chartData)||void 0===l?void 0:l.xaxis)):this.apexXAxis=null===(c=this.chartData)||void 0===c?void 0:c.xaxis,this.apexChart||(this.apexChart=null===(h=this.chartData)||void 0===h?void 0:h.chart),this.apexDataLabels||(this.apexDataLabels=null===(y=this.chartData)||void 0===y?void 0:y.dataLabels),this.apexMarkers||(this.apexMarkers=null===(d=this.chartData)||void 0===d?void 0:d.markers),this.apexTitle||(this.apexTitle=null===(M=this.chartData)||void 0===M?void 0:M.title),this.apexFill||(this.apexFill=null===(D=this.chartData)||void 0===D?void 0:D.fill),this.apexYAxis||(this.apexYAxis=null===(L=this.chartData)||void 0===L?void 0:L.yaxis),this.apexTooltip||(this.apexTooltip=null===(Q=this.chartData)||void 0===Q?void 0:Q.tooltip),this.apexLegend||(this.apexLegend=null===(at=this.chartData)||void 0===at?void 0:at.legend),this.apexGrid||(this.apexGrid=null===(rt=this.chartData)||void 0===rt?void 0:rt.grid)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.R0b))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-shared-line-chart"]],viewQuery:function(n,i){if(1&n&&t.Gf(Gn,5),2&n){let a;t.iGM(a=t.CRH())&&(i.chart=a.first)}},inputs:{chartData:"chartData"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","dataLabels","markers","title","fill","yaxis","xaxis","tooltip","legend","grid"],["chart",""]],template:function(n,i){1&n&&t.YNc(0,Bn,3,11,"ng-container",0),2&n&&t.Q6J("ngIf",i.apexSeries&&i.apexXAxis&&i.apexChart&&i.apexDataLabels&&i.apexMarkers&&i.apexTooltip&&i.apexTitle&&i.apexFill&&i.apexYAxis&&i.apexLegend&&i.apexGrid)},directives:[m.O5,Yn.x],styles:[""],changeDetection:0}),e})();var Rn=s(2178);let Hn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["shared-loading-bar"]],decls:2,vars:0,consts:[["mode","indeterminate"]],template:function(n,i){1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-progress-bar",0),t.qZA())},directives:[Rn.pW],styles:[""]}),e})();var ot=s(3935);function Kn(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",3),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().onMenuOptClick(r)}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=o.$implicit;t.xp6(3),t.Oqu(n.icon),t.xp6(2),t.hij(" ",n.display," ")}}let Vn=(()=>{class e{constructor(){this.menuOptions=[],this.menuSelect=new t.vpe}ngOnInit(){}ngOnChanges(n){}onMenuOptClick(n){this.menuSelect.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["shared-drop-menu"]],inputs:{menuOptions:"menuOptions"},outputs:{menuSelect:"menuSelect"},features:[t.TTD],decls:6,vars:2,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"button",0),t.TgZ(1,"mat-icon"),t._uU(2,"more_vert"),t.qZA(),t.qZA(),t.TgZ(3,"mat-menu",null,1),t.YNc(5,Kn,6,2,"ng-container",2),t.qZA()),2&n){const a=t.MAs(4);t.Q6J("matMenuTriggerFor",a),t.xp6(5),t.Q6J("ngForOf",i.menuOptions)}},directives:[Y.lW,ot.p6,J.Hw,ot.VK,m.sg,ot.OP],styles:[""]}),e})();const Wn=function(e){return{"border-btn-none":e,"list-group-item roboto":!0}};function Xn(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.ALo(2,"profitGainBgClass"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"dateDisplay"),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"shared-drop-menu",4),t.NdJ("menuSelect",function(a){return t.CHM(n),t.oxw().onMenuOptSelect(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",5),t._uU(11),t.ALo(12,"dateFromNow"),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"div",7),t._uU(15),t.ALo(16,"localeNumberDisplay"),t.qZA(),t.TgZ(17,"div",8),t.ALo(18,"numberGainClass"),t.TgZ(19,"div",9),t.TgZ(20,"mat-icon",10),t._uU(21),t.ALo(22,"profitPercentIconClass"),t.qZA(),t.qZA(),t.TgZ(23,"div"),t._uU(24),t.ALo(25,"profitPercent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",11),t._uU(27),t.ALo(28,"profit"),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(1),t.Tol(t.lcZ(2,14,n.entryDetail.profitPercent)),t.Q6J("ngClass",t.VKq(31,Wn,n.isLast)),t.xp6(5),t.hij(" ",n.entryDetail.date?t.xi3(7,16,n.entryDetail.date,"MDY"):"NO DATE"," "),t.xp6(3),t.Q6J("menuOptions",n.menuOptions),t.xp6(2),t.hij(" ",t.lcZ(12,19,n.entryDetail.date)," "),t.xp6(4),t.hij(" $",t.lcZ(16,21,n.entryDetail.amount)," "),t.xp6(2),t.Tol("gains-rate numbers med-number spacing-half "+t.lcZ(18,23,n.entryDetail.profitPercent)),t.Q6J("title",n.entryDetail.profitPercent),t.xp6(4),t.Oqu(t.lcZ(22,25,n.entryDetail.profitPercent)),t.xp6(3),t.hij(" ",t.lcZ(25,27,n.entryDetail.profitPercent)," "),t.xp6(2),t.Q6J("title",n.entryDetail.profit),t.xp6(1),t.hij(" ",t.lcZ(28,29,n.entryDetail.profit)," ")}}let zn=(()=>{class e{constructor(){this.entryDetail=void 0,this.isLast=!1,this.menuOptions=[{display:"Edit",id:"edit",icon:"edit"},{display:"Delete",id:"trash",icon:"delete"}]}ngOnChanges(){}ngOnInit(){}onMenuOptSelect(n){console.log(n),console.log(this.entryDetail)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-siling-column-entry"]],inputs:{entryDetail:"entryDetail",isLast:"isLast"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","5px",3,"ngClass"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100","roboto","small-number","text-muted","date-info"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","5px",1,""],[3,"menuOptions","menuSelect"],[1,"from-now"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","space-between center","fxLayoutAlign","start center",1,"w-100","main"],[1,"dollar-amount","numbers","med-number"],["fxLayout","row","fxLayoutAlign","start center",3,"title"],["fxLayout","column","fxLayoutAlign","center center"],[1,"med-number"],["fxLayout","row","fxLayoutAlign","start center",1,"text-muted","numbers","small-number","w-100",3,"title"]],template:function(n,i){1&n&&t.YNc(0,Xn,29,33,"ng-container",0),2&n&&t.Q6J("ngIf",i.entryDetail)},directives:[m.O5,x.xw,x.Wh,x.SQ,m.mk,$.oO,Vn,J.Hw],pipes:[E.PD,H.o,H.G,E.i7,E.qw,E.ZJ,E.pY,E.u],styles:['.gains-rate[_ngcontent-%COMP%]{text-align:right}.dollar-amount[_ngcontent-%COMP%]{text-align:left;padding-left:0;letter-spacing:.5px}.date-info[_ngcontent-%COMP%]{height:21px}.date-info[_ngcontent-%COMP%]   .from-now[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.main[_ngcontent-%COMP%]{word-break:break-all}.med-number[_ngcontent-%COMP%]{font-size:20px}.small-number[_ngcontent-%COMP%]{font-size:14px}.spacing-half[_ngcontent-%COMP%]{letter-spacing:.5px}.numbers[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:400}.positive[_ngcontent-%COMP%]{color:#00b33c}.negative[_ngcontent-%COMP%]{color:#b32400}.no-change[_ngcontent-%COMP%]{color:#888}.pos-bg[_ngcontent-%COMP%]{background-color:#e1f5e154}.neg-bg-1[_ngcontent-%COMP%]{background-color:#f7e5e536}.neg-bg-2[_ngcontent-%COMP%]{background-color:#f7e5e59e}.neg-bg-3[_ngcontent-%COMP%]{background-color:#f7e5e5d9}.no-change-bg[_ngcontent-%COMP%]{background-color:#cccccc0f}.border-btn-none[_ngcontent-%COMP%]{border-bottom:0px}.list-group-item[_ngcontent-%COMP%]{border-left:none;border-right:none}'],changeDetection:0}),e})();function te(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"app-core-siling-column-entry",9),t.BQk()),2&e){const n=o.$implicit,i=o.last;t.xp6(1),t.Q6J("entryDetail",n)("isLast",i)}}function ne(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"ul",7),t.YNc(2,te,2,2,"ng-container",8),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.silingData)}}function ee(e,o){1&e&&(t.TgZ(0,"div",10),t._uU(1," No data returned. "),t.qZA())}const oe=function(e){return{"background-color":e}};let ie=(()=>{class e{constructor(){this.silingCompanyId=void 0,this.silingData=[]}ngOnChanges(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-siling-column"]],inputs:{silingCompanyId:"silingCompanyId",silingData:"silingData"},features:[t.TTD],decls:11,vars:9,consts:[[1,"card","text-left","border-secondary"],[1,"img-center","fixed-img-height"],["alt","SiLing Co. Img","onerror","this.src = 'assets/banner/bank5.jpg'",1,"card-img-top","img-fixed-height",3,"src","ngStyle"],[1,"card-header","header"],[1,"panel-header","page-anchor"],[4,"ngIf","ngIfElse"],["noData",""],[1,"list-group"],[4,"ngFor","ngForOf"],[3,"entryDetail","isLast"],["fxLayout","row","fxLayoutAlign","center center",1,"px-3","py-3"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.YNc(8,ne,3,1,"ng-container",5),t.YNc(9,ee,2,0,"ng-template",null,6,t.W1O),t.qZA(),t.qZA()),2&n){const a=t.MAs(10);t.xp6(2),t.Q6J("src","assets/banner/"+i.silingCompanyId+".jpg",t.LSH)("ngStyle",t.VKq(7,oe,"fidelity"===i.silingCompanyId?"#67941e":"#fff")),t.xp6(3),t.hij(" ",t.lcZ(6,5,i.silingCompanyId?i.silingCompanyId:"Unknown Siling ID")," "),t.xp6(3),t.Q6J("ngIf",i.silingData&&i.silingData.length>0)("ngIfElse",a)}},directives:[m.PC,$.Zl,m.O5,m.sg,zn,x.xw,x.Wh],pipes:[m.rS],styles:['.img-fixed-height[_ngcontent-%COMP%]{max-height:80px;max-width:300px}.img-center[_ngcontent-%COMP%]{text-align:center}.fid-background-green[_ngcontent-%COMP%]{background-color:#67941e}.panel-header[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:20px}.card-header.header[_ngcontent-%COMP%]{color:#8c8c8c}.fixed-img-height[_ngcontent-%COMP%]{height:5rem}'],changeDetection:0}),e})();const ae=["tabGroup"];function re(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",12),t._uU(2),t.ALo(3,"dateDisplay"),t.qZA(),t.BQk()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" Fetched: ",t.xi3(3,1,n,"FULLDATE")," ")}}function se(e,o){1&e&&(t.ynx(0),t._UZ(1,"shared-loading-bar"),t.BQk())}function ce(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",15),t.TgZ(2,"div",16),t.YNc(3,se,2,0,"ng-container",3),t.ALo(4,"async"),t.qZA(),t._UZ(5,"app-shared-line-chart",17),t.ALo(6,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,n.cs.isDataLoading$)),t.xp6(2),t.Q6J("chartData",t.lcZ(6,4,n.cs.chartData$))}}function le(e,o){if(1&e&&(t.TgZ(0,"section",13),t.YNc(1,ce,7,6,"ng-container",14),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw(),i=t.MAs(34);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,n.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",i)}}function ge(e,o){if(1&e&&(t.TgZ(0,"mat-icon",22),t._uU(1),t.qZA(),t._uU(2)),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.tabIcon),t.xp6(1),t.hij(" ",n.display," ")}}function pe(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",24),t._UZ(2,"app-core-siling-column",25),t.qZA(),t.BQk()),2&e){const n=o.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("fxFlex",i.flexNumber+"%"),t.xp6(1),t.Q6J("silingCompanyId",n)("silingData",i.data[n])}}function ue(e,o){if(1&e&&(t.ynx(0),t.YNc(1,pe,3,3,"ng-container",8),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",n.keys)}}function me(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ue,2,1,"ng-container",14),t.BQk()),2&e){const n=o.ngIf;t.oxw(4);const i=t.MAs(36);t.xp6(1),t.Q6J("ngIf",n.keys&&n.keys.length>0)("ngIfElse",i)}}function de(e,o){if(1&e&&(t.ynx(0),t.YNc(1,me,2,2,"ng-container",3),t.ALo(2,"async"),t.BQk()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.cs.dashboardData$))}}function fe(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"section",23),t.YNc(2,de,3,3,"ng-container",14),t.ALo(3,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2),i=t.MAs(32);t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,2,n.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",i)}}function _e(e,o){1&e&&(t.ynx(0),t._uU(1," Table "),t.BQk())}function he(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-tab",18),t.YNc(2,ge,3,2,"ng-template",19),t.ynx(3,20),t.YNc(4,fe,4,4,"ng-container",21),t.YNc(5,_e,2,0,"ng-container",21),t.BQk(),t.qZA(),t.BQk()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("label",n.display),t.xp6(2),t.Q6J("ngSwitch",n.id),t.xp6(1),t.Q6J("ngSwitchCase","expandedView"),t.xp6(1),t.Q6J("ngSwitchCase","compactView")}}function xe(e,o){1&e&&(t.TgZ(0,"div",26),t._UZ(1,"app-shared-loading"),t.qZA())}function ye(e,o){1&e&&(t.TgZ(0,"div",26),t._UZ(1,"app-shared-loading",27),t.qZA()),2&e&&(t.xp6(1),t.Q6J("message","Graph"))}function Ce(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1," No data to show. "),t.qZA())}const Te=["company","date","gain","loss","balance"];let ve=(()=>{class e{constructor(n,i,a,r,c,u){this.neds=n,this.as=i,this.cs=a,this.router=r,this.route=c,this.fds=u,this.showGraph=bt.N.showGraph,this.compDest$=new V.xQ}ngOnInit(){}ngAfterViewInit(){}onNewEntryClick(){this.as.fetchSilingCompanies();const n={amount:void 0,company:void 0,companies:this.as.getSilingCompanies$,companyLoading:this.as.getSilingCompanyLoading$,date:(new Date).getTime()};this.neds.getDialog(n).afterClosed().pipe((0,A.R)(this.compDest$)).subscribe(a=>{if(a&&a.amount&&a.company&&a.date){const c={amount:(0,T.G5)(a.amount),company:a.company.name.toLowerCase(),date:a.date.getTime(),id:void 0};this.cs.saveSilingEntry(c)}})}onTabChange(n){var i;const a=null!==(i=n.index)&&void 0!==i?i:0;this.router.navigate(["./"],{queryParams:{tabIndex:a}})}onRefresh(){this.cs.getSilingShowList()}onOpenFilters(){this.fds.getDialog({companiesLoading:this.as.getSilingCompanyLoading$,silingDataLoading:this.cs.isDataLoading$,options:Te,filterData:[]}).afterClosed().pipe((0,A.R)(this.compDest$)).subscribe(a=>{console.log(a)})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(dt),t.Y36(ft.l),t.Y36(B),t.Y36(P.F0),t.Y36(P.gz),t.Y36(Un))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-home"]],viewQuery:function(n,i){if(1&n&&t.Gf(ae,5),2&n){let a;t.iGM(a=t.CRH())&&(i.viewTabGroup=a.first)}},decls:37,vars:14,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"sticky-top","dashboard"],[1,""],["mat-button","","color","primary",3,"click"],[4,"ngIf"],[3,"summaryData","loading$"],["class","w-100","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],["mat-align-tabs","center","animationDuration","0ms",1,"pb-3","siling-tab-group",3,"selectedIndex","selectedTabChange"],["tabGroup",""],[4,"ngFor","ngForOf"],["isLoading",""],["isChartLoading",""],["noDataShown",""],[1,"if"],["fxLayout","column","fxLayoutAlign","start center",1,"w-100"],[4,"ngIf","ngIfElse"],[1,"chart-shell"],[1,"load-parent"],[3,"chartData"],[3,"label"],["mat-tab-label",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab-icon","mr-2"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","start start","fxLayoutAlign","start center","fxLayoutGap.gt-sm","10px","fxLayoutGap","5px",1,""],[1,"",3,"fxFlex"],[3,"silingCompanyId","silingData"],[1,"w-100"],[3,"message"]],template:function(n,i){1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return i.onNewEntryClick()}),t.TgZ(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t.TgZ(5,"span"),t._uU(6,"New entry"),t.qZA(),t.qZA(),t.TgZ(7,"button",2),t.NdJ("click",function(){return i.onRefresh()}),t.TgZ(8,"mat-icon"),t._uU(9,"refresh"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"Refresh"),t.qZA(),t.qZA(),t.TgZ(12,"button",2),t.NdJ("click",function(){return i.onOpenFilters()}),t.TgZ(13,"mat-icon"),t._uU(14,"filter_list"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"Filters"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div"),t.YNc(18,re,4,4,"ng-container",3),t.ALo(19,"async"),t.qZA(),t.qZA(),t.TgZ(20,"section",1),t._UZ(21,"app-core-summary",4),t.ALo(22,"async"),t.qZA(),t._UZ(23,"hr"),t.YNc(24,le,3,4,"section",5),t._UZ(25,"hr"),t.TgZ(26,"mat-tab-group",6,7),t.NdJ("selectedTabChange",function(r){return i.onTabChange(r)}),t.ALo(28,"async"),t.YNc(29,he,6,4,"ng-container",8),t.ALo(30,"async"),t.qZA(),t.YNc(31,xe,2,0,"ng-template",null,9,t.W1O),t.YNc(33,ye,2,1,"ng-template",null,10,t.W1O),t.YNc(35,Ce,2,0,"ng-template",null,11,t.W1O)),2&n&&(t.xp6(18),t.Q6J("ngIf",t.lcZ(19,6,i.cs.dataLastFetched$)),t.xp6(3),t.Q6J("summaryData",t.lcZ(22,8,i.cs.summary$))("loading$",i.cs.isDataLoading$),t.xp6(3),t.Q6J("ngIf",i.showGraph),t.xp6(2),t.Q6J("selectedIndex",t.lcZ(28,10,i.cs.selectTabIndex$)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(30,12,i.cs.dashboardTabs$)))},directives:[x.xw,x.Wh,Y.lW,J.Hw,m.O5,$n,et.SP,m.sg,jn,Hn,et.uX,et.uD,m.RF,m.n9,x.SQ,x.yH,ie,z.N],pipes:[m.Ov,H.o],styles:[".chart-shell[_ngcontent-%COMP%]{width:calc(100% - 10rem)}.chart-shell[_ngcontent-%COMP%]   .load-parent[_ngcontent-%COMP%]{height:5px}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.sticky-top.dashboard[_ngcontent-%COMP%]{z-index:20;background-color:#fff;border-bottom:1px solid #eee}"]}),e})();var Ze=s(1439),Ae=s(5257),be=s(9639),it=s(755);const Ee=[{path:"",component:At,children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:ve,data:{pageTitle:"Summary"}}],resolve:{resolverFired:(()=>{class e{constructor(n,i,a){this.cs=n,this.ss=i,this.ts=a,this.getCompaniesBeingDisplayedIds$=this.cs.getSilingShownIdsObs().pipe((0,ct.b)(r=>{this.cs.getSilingDataByInsName(r)}))}resolve(n,i){return console.log("Running resolver..."),this.cs.silingData$.pipe((0,Ae.q)(1),(0,v.U)(a=>{if(Object.keys(a).length>0)return console.log("Using existing data."),a;console.log("Fetching data.")}),(0,U.w)(a=>function(e,o=k.E,n=k.E){return(0,Ze.P)(()=>e()?o:n)}(()=>!!a,(0,K.of)(a),this.getCompaniesBeingDisplayedIds$)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(B),t.LFG(be.g),t.LFG(it.M))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},runGuardsAndResolvers:"always"}];let Le=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[P.Bz.forChild(Ee)],P.Bz]}),e})();var Fe=s(9773),Tt=s(5304);const we=[(()=>{class e{constructor(n,i,a,r){this.actions$=n,this.ts=i,this.rs=a,this.cs=r,this.saveSilingEntry$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(_.su),(0,Fe.zg)(c=>{const u=c.payload,g=this.rs.addEntryToCollection(u),l=Object.assign(Object.assign({},u),{id:g.id});return g.operationObs.then(h=>(this.ts.getSuccess("Entry added successfully."),_.Qm({payload:l,date:(new Date).getTime()}))).catch(h=>_.ZF({errMsg:h}))}))),this.getSilingToShowIds$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(_.qe),(0,U.w)(c=>this.cs.getSilingShownIdsObs().pipe((0,v.U)(u=>_.F3({names:u})),(0,Tt.K)(u=>(0,K.of)(_.Il({errMsg:u}))))))),this.getSilingDataByNames$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(_.F3),(0,U.w)(c=>{const g={};return c.names.forEach(l=>{g[l]=this.rs.getDataByCollectionName(l)}),(0,_t.D)(g).pipe((0,v.U)(l=>(this.ts.getSnackbar("Fetched data successfully."),_.KH({payload:l,date:(new Date).getTime()}))),(0,Tt.K)(l=>(0,K.of)(_.ER({errMsg:l}))))}))),this.refreshData$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(_.Pd),(0,C.IC)(()=>this.cs.companiesShown$),(0,v.U)(c=>_.F3({names:c[1]}))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(C.eX),t.LFG(it.M),t.LFG(nt.v),t.LFG(B))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})()],Ne=(0,p.Lq)({entrySaveLoading:!1,entryApiErr:!1,entryToSave:void 0,entryApiErrMsg:void 0,silingDataBeingFetchedNames:[],silingDataErr:!1,silingDataLoading:!1,silingData:void 0,firstTimeLoading:!0,silingDataLastFetched:void 0},(0,p.on)(_.su,(e,{payload:o})=>Object.assign(Object.assign({},e),{entrySaveLoading:!0,entryToSave:o})),(0,p.on)(_.Qm,(e,{payload:o})=>Object.assign(Object.assign({},e),{entryApiErr:!1,entryApiErrMsg:void 0,entrySaveLoading:!1,entryToSave:o})),(0,p.on)(_.ZF,(e,{errMsg:o})=>Object.assign(Object.assign({},e),{entryApiErr:!0,entryApiErrMsg:o,entrySaveLoading:!1})),(0,p.on)(_.F3,(e,{names:o})=>Object.assign(Object.assign({},e),{silingDataBeingFetchedNames:o,silingDataLoading:!0})),(0,p.on)(_.KH,(e,{payload:o,date:n})=>Object.assign(Object.assign({},e),{silingDataLoading:!1,silingData:o,silingDataErrMsg:void 0,silingDataErr:!1,firstTimeLoading:!1,silingDataLastFetched:n})),(0,p.on)(_.ER,(e,{errMsg:o})=>Object.assign(Object.assign({},e),{silingDataLoading:!1,silingDataErrMsg:o,silingDataErr:!0,firstTimeLoading:!0}))),Oe=(0,p.Lq)({allTabSelections:[{display:"Expanded View",id:"expandedView",index:0,tabIcon:"collections"},{display:"Compact View",id:"compactView",index:1,tabIcon:"table_chart"}],currentSelection:void 0},(0,p.on)(tt,(e,{tabIndex:o})=>{let n;return e.allTabSelections&&(n=e.allTabSelections.find(i=>i.index+""===o)),Object.assign(Object.assign({},e),{currentSelection:n})}));var Qe=s(9667),Pe=s(5093);const Ue=[(()=>{class e{constructor(n,i,a,r){this.actions$=n,this.ts=i,this.rs=a,this.routerService=r,this.setTabSelection$=(0,C.GW)(()=>this.actions$.pipe((0,C.l4)(Qe.CE),(0,C.IC)(()=>this.routerService.queryParams$),(0,v.U)(c=>{var u;const g=(null!==(u=c[1].tabIndex)&&void 0!==u?u:0)+"";return tt({tabIndex:g})})),{dispatch:!0})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(C.eX),t.LFG(it.M),t.LFG(nt.v),t.LFG(Pe.c))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})()];let qe=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[dt],imports:[[Dt.n,vt.I,C.sQ.forFeature(we),C.sQ.forFeature(Ue),p.Aw.forFeature("dashboard",Ne),p.Aw.forFeature("dashboardUI",Oe),Le,Zt.d]]}),e})()}}]);