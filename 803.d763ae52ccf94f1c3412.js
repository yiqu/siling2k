(self.webpackChunksiling2k=self.webpackChunksiling2k||[]).push([[803],{1803:(t,n,e)=>{"use strict";e.r(n),e.d(n,{CoreModule:()=>It});var o=e(8785),i=e(229),a=e(1),r=e(2852),s=e(5366);let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-core"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-3","mt-3"]],template:function(t,n){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"router-outlet"),s.qZA())},directives:[r.lC],styles:[""]}),t})();var l=e(5959),u=e(8639),g=e(1041),p=e(2935),m=e(3588),f=function(t){return t.TEXT_INPUT="TEXT_INPUT",t.SELECT_INPUT="SELECT_INPUT",t.DATE_INPUT="DATE_INPUT",t}({});function d(t){if(!t.value||!(t.value+"").match(/^(?:\d{1,3}(?:,\d{3})*|\d+)(?:\.\d+)?$/))return{optionalCommaSingleDecimalNumberOnly:!0}}var y=e(1293),h=e(5965),x=e(1116),Z=e(4369),T=e(3070),v=e(9550),A=e(3841),w=e(7064),N=e(7307),b=e(9024),L=e(4762),S=e(6996);let F=(()=>{class t{transform(t,n){let e=t;switch(t){case"amount":e=n?"Dollar amount":"The dollar amount of this date.";break;case"company":e=n?"Institution name":"The bank institution name.";break;case"date":e=n?"Date":"The entry date. Defaults to today."}return e}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=s.Yjl({name:"silingEntryTooltip",type:t,pure:!0}),t})(),C=(()=>{class t{transform(t){let n=t;switch(t){case"ascensus":n="Ascensus";break;case"fidelity":n="Fidelity";break;case"empower":n="Empower";break;case"csg":n="Capital Solutions Group"}return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=s.Yjl({name:"silingCompanyDisplay",type:t,pure:!0}),(0,L.gn)([(0,S.Z)()],t.prototype,"transform",null),t})();function E(t,n){1&t&&(s.ynx(0),s._uU(1," Editing Existing Entry "),s.BQk())}function I(t,n){1&t&&s._uU(0," New Siling1k Entry ")}function q(t,n){1&t&&(s.TgZ(0,"div",8),s._uU(1," Fix invalid inputs before saving. "),s.qZA())}function _(t,n){1&t&&(s.TgZ(0,"span",22),s._uU(1,"$\xa0"),s.qZA())}function O(t,n){if(1&t&&(s.TgZ(0,"mat-hint",23),s._uU(1),s.ALo(2,"silingEntryTooltip"),s.qZA()),2&t){const t=s.oxw(2).$implicit;s.Q6J("id",null),s.xp6(1),s.hij(" ",s.xi3(2,2,t.controlName,!0)," ")}}function k(t,n){1&t&&(s.TgZ(0,"mat-error"),s._uU(1," Please enter a valid number! "),s.qZA())}function U(t,n){if(1&t){const t=s.EpF();s.ynx(0),s.TgZ(1,"mat-form-field",17),s.TgZ(2,"mat-label"),s._uU(3),s.ALo(4,"silingEntryTooltip"),s.qZA(),s.TgZ(5,"input",18),s.NdJ("focus",function(){s.CHM(t);const n=s.oxw().$implicit;return s.oxw(2).onFocus(n.controlName)}),s.qZA(),s.YNc(6,_,2,0,"span",19),s.YNc(7,O,3,5,"mat-hint",20),s.YNc(8,k,2,0,"mat-error",21),s.qZA(),s.BQk()}if(2&t){const t=s.oxw().$implicit,n=s.oxw(2);let e;s.xp6(3),s.Oqu(s.xi3(4,5,t.controlName,!0)),s.xp6(2),s.Q6J("formControlName",t.controlName),s.xp6(1),s.Q6J("ngIf","amount"===t.controlName),s.xp6(1),s.Q6J("ngIf",n.currentFocusControl===t.controlName),s.xp6(1),s.Q6J("ngIf",null==(e=n.entryFg.get(t.controlName))?null:e.hasError("optionalCommaSingleDecimalNumberOnly"))}}function D(t,n){if(1&t&&(s.TgZ(0,"mat-option",27),s.TgZ(1,"mat-icon"),s._uU(2,"account_balance"),s.qZA(),s._uU(3),s.ALo(4,"silingCompanyDisplay"),s.qZA()),2&t){const t=n.$implicit;s.Q6J("value",t),s.xp6(3),s.hij(" ",s.lcZ(4,2,t.name)," ")}}function Q(t,n){if(1&t){const t=s.EpF();s.ynx(0),s.TgZ(1,"mat-select",24),s.NdJ("focus",function(){s.CHM(t);const n=s.oxw(2).$implicit;return s.oxw(2).onFocus(n.controlName)}),s.TgZ(2,"mat-option"),s._uU(3,"None"),s.qZA(),s.YNc(4,D,5,4,"mat-option",25),s.TgZ(5,"mat-select-trigger"),s.TgZ(6,"div",26),s.TgZ(7,"mat-icon"),s._uU(8,"account_balance"),s.qZA(),s.TgZ(9,"div"),s._uU(10),s.ALo(11,"silingCompanyDisplay"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.BQk()}if(2&t){const t=n.ngIf,e=s.oxw(2).$implicit,o=s.oxw(2);let i;s.xp6(1),s.Q6J("formControlName",e.controlName),s.xp6(3),s.Q6J("ngForOf",t),s.xp6(6),s.hij(" ",s.lcZ(11,3,null==(i=o.entryFg.get("company"))||null==i.value?null:i.value.name)," ")}}function J(t,n){if(1&t&&(s.TgZ(0,"mat-hint",23),s._uU(1),s.ALo(2,"silingEntryTooltip"),s.qZA()),2&t){const t=s.oxw(2).$implicit;s.Q6J("id",null),s.xp6(1),s.hij(" ",s.xi3(2,2,t.controlName,!0)," ")}}function j(t,n){if(1&t&&(s.ynx(0),s.TgZ(1,"mat-form-field",17),s.TgZ(2,"mat-label"),s._uU(3),s.ALo(4,"silingEntryTooltip"),s.qZA(),s.YNc(5,Q,12,5,"ng-container",21),s.ALo(6,"async"),s.YNc(7,J,3,5,"mat-hint",20),s.qZA(),s.BQk()),2&t){const t=s.oxw().$implicit,n=s.oxw(2);s.xp6(3),s.Oqu(s.xi3(4,3,t.controlName,!0)),s.xp6(2),s.Q6J("ngIf",s.lcZ(6,6,n.data.companies)),s.xp6(2),s.Q6J("ngIf",n.currentFocusControl===t.controlName)}}function P(t,n){if(1&t&&(s.TgZ(0,"mat-hint",23),s._uU(1),s.ALo(2,"silingEntryTooltip"),s.qZA()),2&t){const t=s.oxw(2).$implicit;s.Q6J("id",null),s.xp6(1),s.hij(" ",s.xi3(2,2,t.controlName,!0)," ")}}function Y(t,n){if(1&t){const t=s.EpF();s.ynx(0),s.TgZ(1,"mat-form-field",17),s.TgZ(2,"mat-label"),s._uU(3),s.ALo(4,"silingEntryTooltip"),s.qZA(),s.TgZ(5,"input",28),s.NdJ("focus",function(){s.CHM(t);const n=s.oxw().$implicit;return s.oxw(2).onFocus(n.controlName)}),s.qZA(),s._UZ(6,"mat-datepicker-toggle",29),s._UZ(7,"mat-datepicker",null,30),s.YNc(9,P,3,5,"mat-hint",20),s.qZA(),s.BQk()}if(2&t){const t=s.MAs(8),n=s.oxw().$implicit,e=s.oxw(2);s.xp6(3),s.Oqu(s.xi3(4,5,n.controlName,!0)),s.xp6(2),s.Q6J("matDatepicker",t)("formControlName",n.controlName),s.xp6(1),s.Q6J("for",t),s.xp6(3),s.Q6J("ngIf",e.currentFocusControl===n.controlName)}}function $(t,n){if(1&t&&(s.ynx(0),s.TgZ(1,"div"),s.ynx(2,15),s.YNc(3,U,9,8,"ng-container",16),s.YNc(4,j,8,8,"ng-container",16),s.YNc(5,Y,10,8,"ng-container",16),s.BQk(),s.qZA(),s.BQk()),2&t){const t=n.$implicit;s.xp6(2),s.Q6J("ngSwitch",t.inputType),s.xp6(1),s.Q6J("ngSwitchCase","TEXT_INPUT"),s.xp6(1),s.Q6J("ngSwitchCase","SELECT_INPUT"),s.xp6(1),s.Q6J("ngSwitchCase","DATE_INPUT")}}function G(t,n){if(1&t&&(s.ynx(0),s.TgZ(1,"div",31),s._uU(2),s.ALo(3,"titlecase"),s.qZA(),s.TgZ(4,"div",32),s._uU(5),s.ALo(6,"silingEntryTooltip"),s.qZA(),s.BQk()),2&t){const t=s.oxw(2);s.xp6(2),s.hij(" ",s.lcZ(3,2,t.currentFocusControl)," "),s.xp6(3),s.hij(" ",s.lcZ(6,4,t.currentFocusControl)," ")}}function M(t,n){1&t&&(s.TgZ(0,"div",33),s._uU(1," Enter the dollar amount for its institution. "),s.qZA())}function B(t,n){if(1&t&&(s.ynx(0),s.TgZ(1,"div",9),s.TgZ(2,"div",10),s.TgZ(3,"form",11),s.YNc(4,$,6,4,"ng-container",12),s.qZA(),s.TgZ(5,"div",13),s.YNc(6,G,7,6,"ng-container",1),s.YNc(7,M,2,0,"ng-template",null,14,s.W1O),s.qZA(),s.qZA(),s.qZA(),s.BQk()),2&t){const t=s.MAs(8),n=s.oxw();s.xp6(3),s.Q6J("formGroup",n.entryFg),s.xp6(1),s.Q6J("ngForOf",n.entryFgStruct),s.xp6(2),s.Q6J("ngIf",n.currentFocusControl)("ngIfElse",t)}}function H(t,n){1&t&&(s.TgZ(0,"div"),s._uU(1," Loading... "),s.qZA())}const R=["company"],z=["date"],W=["companyLoading","companies"];let K=(()=>{class t{constructor(t,n,e){this.dialogRef=t,this.data=n,this.fb=e,this.entryFgStruct=[],this.compDest$=new l.xQ,this.entryFg=this.fb.group(this.createFormGroupObj(n)),this.entryFgStruct=this.createFgStructure(n)}get amountFc(){return this.entryFg.get("amount")}ngOnInit(){this.entryFg.valueChanges.pipe((0,m.j)("amount")).subscribe(t=>{t&&this.amountFc.setValue((t+"").trim(),{emitEvent:!1})})}createFormGroupObj(t){return{company:u.j2(null==t?void 0:t.company,!1,[g.kI.required]),date:u.j2(new Date(null==t?void 0:t.date),!1,[g.kI.required]),amount:u.j2(null==t?void 0:t.amount,!1,[d])}}createFgStructure(t){const n=[];let e=Object.keys(t);e.length<1&&(e=["company","date","amount"]);for(const o of e)if(W.indexOf(o)<0){let e=f.TEXT_INPUT;R.indexOf(o)>-1?e=f.SELECT_INPUT:z.indexOf(o)>-1&&(e=f.DATE_INPUT),n.push({controlName:o,inputType:e,value:t[o]})}return n}onFocus(t){this.currentFocusControl=t}onNoClick(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.entryFg.getRawValue())}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)(s.Y36(p.so),s.Y36(p.WI),s.Y36(g.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["new-siling1k-entry-dialog"]],decls:17,vars:8,consts:[["mat-dialog-title","","ngClass.gt-sm","big","fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",1,"mfont","my-2"],[4,"ngIf","ngIfElse"],["newEntry",""],["class","text-danger err-header",4,"ngIf"],["fxLayout","row","fxLayoutGap","1rem","fxLayoutAlign","end center"],["mat-flat-button","",3,"disabled","click"],["mat-flat-button","",3,"click"],["isLoading",""],[1,"text-danger","err-header"],["mat-dialog-content","",1,"content-parent"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","space-between start",1,"w-100"],["fxFlex.gt-sm","50",3,"formGroup"],[4,"ngFor","ngForOf"],["fxFlex","50","fxHide","","fxShow.gt-sm","",1,"tooltip-parent"],["noTooltip",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["appearance","standard",1,"w-100"],["type","text","matInput","",3,"formControlName","focus"],["matPrefix","",4,"ngIf"],[3,"id",4,"ngIf"],[4,"ngIf"],["matPrefix",""],[3,"id"],[3,"formControlName","focus"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","start end"],[3,"value"],["matInput","",3,"matDatepicker","formControlName","focus"],["matSuffix","",3,"for"],["picker",""],["fxLayout","row","fxLayoutAlign","start center",1,"font-weight-bold","subtitle","mfont","mb-2"],["fxLayout","row","fxLayoutAlign","start center",1,"roboto"],["fxLayout","column","fxLayoutAlign","center center"]],template:function(t,n){if(1&t&&(s.TgZ(0,"h1",0),s.TgZ(1,"div"),s.YNc(2,E,2,0,"ng-container",1),s.YNc(3,I,1,0,"ng-template",null,2,s.W1O),s.qZA(),s.YNc(5,q,2,0,"div",3),s.qZA(),s._UZ(6,"hr"),s.YNc(7,B,9,4,"ng-container",1),s.ALo(8,"async"),s._UZ(9,"hr"),s.TgZ(10,"div",4),s.TgZ(11,"button",5),s.NdJ("click",function(){return n.onSave()}),s._uU(12,"Save"),s.qZA(),s.TgZ(13,"button",6),s.NdJ("click",function(){return n.onNoClick()}),s._uU(14,"Cancel"),s.qZA(),s.qZA(),s.YNc(15,H,2,0,"ng-template",null,7,s.W1O)),2&t){const t=s.MAs(4),e=s.MAs(16);s.xp6(2),s.Q6J("ngIf",n.data.company)("ngIfElse",t),s.xp6(3),s.Q6J("ngIf",n.entryFg.touched&&n.entryFg.invalid),s.xp6(2),s.Q6J("ngIf",!1===s.lcZ(8,6,n.data.companyLoading))("ngIfElse",e),s.xp6(4),s.Q6J("disabled",n.entryFg.invalid)}},directives:[p.uh,y.oO,h.xw,h.SQ,h.Wh,x.O5,Z.lW,p.xY,g._Y,g.JL,h.yH,g.sg,x.sg,y.b8,x.RF,x.n9,T.KE,T.hX,v.Nt,g.Fj,g.JJ,g.u,T.qo,T.bx,T.TO,A.gD,w.ey,A.$L,N.Hw,b.hl,b.nW,T.R9,b.Mq],pipes:[x.Ov,F,C,x.rS],styles:["h1[_ngcontent-%COMP%]{font-size:18px;font-weight:700}h1[_ngcontent-%COMP%]   .err-header[_ngcontent-%COMP%]{font-size:13px}.big[_ngcontent-%COMP%]{width:40rem}.tooltip-parent[_ngcontent-%COMP%]{width:23rem}"]}),t})(),X=(()=>{class t{constructor(t){this.dialog=t,this.dialogRef=void 0}getDialog(t){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(K,{data:Object.assign({},t),panelClass:"new-siling1k-entry",hasBackdrop:!0,autoFocus:!0,disableClose:!0}),this.dialogRef}}return t.\u0275fac=function(n){return new(n||t)(s.LFG(p.uw))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const V=(0,i.ZF)("admin"),tt=(0,i.P1)(V,t=>t.companies),nt=(0,i.P1)(V,t=>t.apiLoading);var et=e(9853);let ot=(()=>{class t{constructor(t){this.store=t,this.getSilingCompanies$=this.store.select(tt),this.getSilingCompanyLoading$=this.store.select(nt)}fetchSilingCompanies(){this.store.dispatch(et.kC())}}return t.\u0275fac=function(n){return new(n||t)(s.LFG(i.yh))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const it=(0,i.PH)("[Siling/API] Save entry start",(0,i.Ky)()),at=(0,i.PH)("[Siling/API] Save entry successful",(0,i.Ky)()),rt=(0,i.PH)("[Siling/API] Save entry start failure",(0,i.Ky)()),st=(0,i.PH)("[Siling/API] Get siling data by ins. name start",(0,i.Ky)()),ct=(0,i.PH)("[Siling/API] Get siling data by ins. name successful",(0,i.Ky)()),lt=(0,i.PH)("[Siling/API] Get siling data by ins. name failure",(0,i.Ky)()),ut=(0,i.ZF)("dashboard"),gt=(0,i.P1)(ut,t=>t.entrySaveLoading);let pt=(()=>{class t{constructor(t){this.store=t,this.isEntrySaveLoading$=this.store.select(gt)}saveSilingEntry(t){this.store.dispatch(it({payload:t}))}getSilingDataByInsName(t){t&&t.length>0&&this.store.dispatch(st({names:t}))}}return t.\u0275fac=function(n){return new(n||t)(s.LFG(i.yh))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mt=(()=>{class t{constructor(t,n,e){this.neds=t,this.as=n,this.cs=e,this.compDest$=new l.xQ}ngOnInit(){}onNewEntryClick(){this.as.fetchSilingCompanies();const t={amount:void 0,company:void 0,companies:this.as.getSilingCompanies$,companyLoading:this.as.getSilingCompanyLoading$,date:(new Date).getTime()};this.neds.getDialog(t).afterClosed().subscribe(t=>{if(t&&t.amount&&t.company&&t.date){const n={amount:(0,u.G5)(t.amount),company:t.company.id,date:t.date.getTime(),id:void 0};this.cs.saveSilingEntry(n)}})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(n){return new(n||t)(s.Y36(X),s.Y36(ot),s.Y36(pt))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-core-home"]],decls:12,vars:0,consts:[[1,""],["mat-button","","color","primary",3,"click"]],template:function(t,n){1&t&&(s.TgZ(0,"section"),s.TgZ(1,"div",0),s.TgZ(2,"button",1),s.NdJ("click",function(){return n.onNewEntryClick()}),s.TgZ(3,"mat-icon"),s._uU(4,"add"),s.qZA(),s.TgZ(5,"span"),s._uU(6," New "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s._UZ(7,"hr"),s.TgZ(8,"section"),s._uU(9," Graph\n"),s.qZA(),s.TgZ(10,"section"),s._uU(11," Table\n"),s.qZA())},directives:[Z.lW,N.Hw],styles:[""]}),t})();var ft=e(878),dt=e(611),yt=e(4019),ht=e(529);const xt=[{path:"",component:c,children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:mt}],resolve:{resolverFired:(()=>{class t{constructor(t){this.cs=t}resolve(t,n){return(0,ft.of)(!0).pipe((0,dt.q)(1),(0,yt.b)(t=>{console.log("resolver fire",t),this.cs.getSilingDataByInsName(ht.N.defaultSilingInsToLoad)}))}}return t.\u0275fac=function(n){return new(n||t)(s.LFG(pt))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},runGuardsAndResolvers:"always"}];let Zt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.Bz.forChild(xt)],r.Bz]}),t})();var Tt=e(3982),vt=e(4689),At=e(9996),wt=e(7727),Nt=e(3148),bt=e(1447),Lt=e(8811);const St=[(()=>{class t{constructor(t,n,e){this.actions$=t,this.ts=n,this.rs=e,this.saveSilingEntry$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(it),(0,Tt.zg)(t=>{const n=t.payload,e=this.rs.addEntryToCollection(n),o=Object.assign(Object.assign({},n),{id:e.id});return e.operationObs.then(t=>(this.ts.getSuccess("Entry was successfully saved."),at({payload:o,date:(new Date).getTime()}))).catch(t=>rt({errMsg:t}))}))),this.getSilingDataByNames$=(0,o.GW)(()=>this.actions$.pipe((0,o.l4)(st),(0,vt.w)(t=>{const n={};return t.names.forEach(t=>{n[t]=this.rs.getDataByCollectionName(t)}),(0,Nt.D)(n).pipe((0,At.U)(t=>ct({payload:t,date:(new Date).getTime()})),(0,wt.K)(t=>(0,ft.of)(lt({errMsg:t}))))})))}}return t.\u0275fac=function(n){return new(n||t)(s.LFG(o.eX),s.LFG(bt.M),s.LFG(Lt.v))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})()],Ft=(0,i.Lq)({entrySaveLoading:!1,entryApiErr:!1,entryToSave:void 0,entryApiErrMsg:void 0,silingDataBeingFetchedNames:[],silingDataErr:!1,silingDataLoading:!1,silingData:void 0},(0,i.on)(it,(t,{payload:n})=>Object.assign(Object.assign({},t),{entrySaveLoading:!0,entryToSave:n})),(0,i.on)(at,(t,{payload:n})=>Object.assign(Object.assign({},t),{entryApiErr:!1,entryApiErrMsg:void 0,entrySaveLoading:!1,entryToSave:n})),(0,i.on)(rt,(t,{errMsg:n})=>Object.assign(Object.assign({},t),{entryApiErr:!0,entryApiErrMsg:n,entrySaveLoading:!1})),(0,i.on)(st,(t,{names:n})=>Object.assign(Object.assign({},t),{silingDataBeingFetchedNames:n,silingDataLoading:!0})),(0,i.on)(ct,(t,{payload:n})=>Object.assign(Object.assign({},t),{silingDataLoading:!1,silingData:n})),(0,i.on)(lt,(t,{errMsg:n})=>Object.assign(Object.assign({},t),{silingDataLoading:!1,silingDataErrMsg:n,silingDataErr:!0}))),Ct=(0,i.PH)("[Siling/Dashboard] Set siling ids to hide",(0,i.Ky)()),Et=(0,i.Lq)({silingIdsToHide:["test"]},(0,i.on)(Ct,(t,{ids:n})=>Object.assign(Object.assign({},t),{silingIdsToHide:n})));let It=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[X],imports:[[a.n,o.sQ.forFeature(St),i.Aw.forFeature("dashboard",Ft),i.Aw.forFeature("dashboardUI",Et),Zt]]}),t})()}}]);