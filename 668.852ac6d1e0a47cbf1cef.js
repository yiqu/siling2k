(self.webpackChunksiling2k=self.webpackChunksiling2k||[]).push([[668],{5668:(t,n,o)=>{"use strict";o.r(n),o.d(n,{CoreModule:()=>G});var e=o(1),i=o(5182),c=o(5366);let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-core"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-3","mt-3"]],template:function(t,n){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"router-outlet"),c.qZA())},directives:[i.lC],styles:[""]}),t})();var r=o(9666),s=o(2935),l=function(t){return t.TEXT_INPUT="TEXT_INPUT",t.SELECT_INPUT="SELECT_INPUT",t.DATE_INPUT="DATE_INPUT",t}({}),u=o(8639),g=o(1041),p=o(1293),m=o(1116),f=o(5965),d=o(4369),h=o(3070),x=o(9550),Z=o(3841),y=o(7064),T=o(9024);function N(t,n){1&t&&(c.ynx(0),c._uU(1," Editing Existing Entry "),c.BQk())}function w(t,n){1&t&&c._uU(0," New Siling1k Entry ")}function A(t,n){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"mat-form-field",14),c.TgZ(2,"mat-label"),c._uU(3),c.ALo(4,"titlecase"),c.qZA(),c.TgZ(5,"input",15),c.NdJ("focus",function(){c.CHM(t);const n=c.oxw().$implicit;return c.oxw(2).onFocus(n.controlName)}),c.ALo(6,"titlecase"),c.qZA(),c.TgZ(7,"mat-hint",16),c._uU(8),c.qZA(),c.qZA(),c.BQk()}if(2&t){const t=c.oxw().$implicit;c.xp6(3),c.Oqu(c.lcZ(4,5,t.controlName)),c.xp6(2),c.Q6J("formControlName",t.controlName)("placeholder",c.lcZ(6,7,t.controlName)),c.xp6(2),c.Q6J("id",null),c.xp6(1),c.Oqu(t.controlName)}}function C(t,n){if(1&t&&(c.TgZ(0,"mat-option",20),c._uU(1),c.qZA()),2&t){const t=n.$implicit;c.Q6J("value",t),c.xp6(1),c.hij(" ",t.name," ")}}function v(t,n){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"mat-select",18),c.NdJ("focus",function(){c.CHM(t);const n=c.oxw(2).$implicit;return c.oxw(2).onFocus(n.controlName)}),c.YNc(2,C,2,2,"mat-option",19),c.qZA(),c.BQk()}if(2&t){const t=n.ngIf,o=c.oxw(2).$implicit;c.xp6(1),c.Q6J("formControlName",o.controlName),c.xp6(1),c.Q6J("ngForOf",t)}}function _(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"mat-form-field",14),c.TgZ(2,"mat-label"),c._uU(3),c.ALo(4,"titlecase"),c.qZA(),c.YNc(5,v,3,2,"ng-container",17),c.ALo(6,"async"),c.TgZ(7,"mat-hint",16),c._uU(8),c.qZA(),c.qZA(),c.BQk()),2&t){const t=c.oxw().$implicit,n=c.oxw(2);c.xp6(3),c.Oqu(c.lcZ(4,4,t.controlName)),c.xp6(2),c.Q6J("ngIf",c.lcZ(6,6,n.data.companies)),c.xp6(2),c.Q6J("id",null),c.xp6(1),c.Oqu(t.controlName)}}function q(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"mat-form-field",14),c.TgZ(2,"mat-label"),c._uU(3),c.ALo(4,"titlecase"),c.qZA(),c._UZ(5,"input",21),c._UZ(6,"mat-datepicker-toggle",22),c._UZ(7,"mat-datepicker",null,23),c.TgZ(9,"mat-hint",16),c._uU(10),c.qZA(),c.qZA(),c.BQk()),2&t){const t=c.MAs(8),n=c.oxw().$implicit;c.xp6(3),c.Oqu(c.lcZ(4,6,n.controlName)),c.xp6(2),c.Q6J("matDatepicker",t)("formControlName",n.controlName),c.xp6(1),c.Q6J("for",t),c.xp6(3),c.Q6J("id",null),c.xp6(1),c.Oqu(n.controlName)}}function k(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"div"),c.ynx(2,12),c.YNc(3,A,9,9,"ng-container",13),c.YNc(4,_,9,8,"ng-container",13),c.YNc(5,q,11,8,"ng-container",13),c.BQk(),c.qZA(),c.BQk()),2&t){const t=n.$implicit;c.xp6(2),c.Q6J("ngSwitch",t.inputType),c.xp6(1),c.Q6J("ngSwitchCase","TEXT_INPUT"),c.xp6(1),c.Q6J("ngSwitchCase","SELECT_INPUT"),c.xp6(1),c.Q6J("ngSwitchCase","DATE_INPUT")}}function F(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"div",24),c._uU(2),c.ALo(3,"titlecase"),c.qZA(),c.TgZ(4,"div"),c._uU(5),c.qZA(),c.BQk()),2&t){const t=c.oxw(2);c.xp6(2),c.hij(" ",c.lcZ(3,2,t.currentFocusControl)," "),c.xp6(3),c.hij(" ",t.currentFocusControl," ")}}function U(t,n){1&t&&(c.TgZ(0,"div"),c._uU(1," Select a company and enter the $ amount to add. "),c.qZA())}function O(t,n){if(1&t&&(c.ynx(0),c.TgZ(1,"div",6),c.TgZ(2,"div",7),c.TgZ(3,"form",8),c.YNc(4,k,6,4,"ng-container",9),c.qZA(),c.TgZ(5,"div",10),c.YNc(6,F,6,4,"ng-container",1),c.YNc(7,U,2,0,"ng-template",null,11,c.W1O),c.qZA(),c.qZA(),c.qZA(),c.BQk()),2&t){const t=c.MAs(8),n=c.oxw();c.xp6(3),c.Q6J("formGroup",n.entryFg),c.xp6(1),c.Q6J("ngForOf",n.entryFgStruct),c.xp6(2),c.Q6J("ngIf",n.currentFocusControl)("ngIfElse",t)}}function S(t,n){1&t&&(c.TgZ(0,"div"),c._uU(1," Loading... "),c.qZA())}const L=["company"],b=["date"],E=["companyLoading","companies"];let I=(()=>{class t{constructor(t,n,o){this.dialogRef=t,this.data=n,this.fb=o,this.entryFgStruct=[],this.compDest$=new r.x,this.entryFg=this.fb.group(this.createFormGroupObj(n)),this.entryFgStruct=this.createFgStructure(n),console.log(this.data,this.entryFg)}ngOnInit(){this.entryFg.valueChanges.subscribe(t=>{console.log(this.entryFg.getRawValue())})}createFormGroupObj(t){return{company:u.j2(null==t?void 0:t.company,!1),date:u.j2(new Date(null==t?void 0:t.date),!1),amount:u.j2(null==t?void 0:t.amount,!1)}}createFgStructure(t){const n=[];let o=Object.keys(t);o.length<1&&(o=["company","date","amount"]);for(const e of o)if(E.indexOf(e)<0){let o=l.TEXT_INPUT;L.indexOf(e)>-1?o=l.SELECT_INPUT:b.indexOf(e)>-1&&(o=l.DATE_INPUT),n.push({controlName:e,inputType:o,value:t[e]})}return n}onFocus(t){this.currentFocusControl=t}onNoClick(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.entryFg.getRawValue())}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(s.so),c.Y36(s.WI),c.Y36(g.qu))},t.\u0275cmp=c.Xpm({type:t,selectors:[["new-siling1k-entry-dialog"]],decls:15,vars:6,consts:[["mat-dialog-title","","ngClass.gt-sm","big",1,"mfont","my-2"],[4,"ngIf","ngIfElse"],["newEntry",""],["fxLayout","row","fxLayoutGap","1rem","fxLayoutAlign","end center"],["mat-flat-button","",3,"click"],["isLoading",""],["mat-dialog-content","",1,"content-parent"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","space-between start",1,"w-100"],["fxFlex.gt-sm","50",3,"formGroup"],[4,"ngFor","ngForOf"],["fxFlex","50","fxLayout","column","fxLayoutGap","10px","fxLayoutAlign","center center","fxHide","","fxShow.gt-sm","",1,"tooltip-parent"],["noTooltip",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["appearance","standard",1,"w-100"],["type","text","matInput","",3,"formControlName","placeholder","focus"],[3,"id"],[4,"ngIf"],[3,"formControlName","focus"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["picker",""],[1,"font-weight-bold","subtitle"]],template:function(t,n){if(1&t&&(c.TgZ(0,"h1",0),c.YNc(1,N,2,0,"ng-container",1),c.YNc(2,w,1,0,"ng-template",null,2,c.W1O),c.qZA(),c._UZ(4,"hr"),c.YNc(5,O,9,4,"ng-container",1),c.ALo(6,"async"),c._UZ(7,"hr"),c.TgZ(8,"div",3),c.TgZ(9,"button",4),c.NdJ("click",function(){return n.onSave()}),c._uU(10,"Save"),c.qZA(),c.TgZ(11,"button",4),c.NdJ("click",function(){return n.onNoClick()}),c._uU(12,"Cancel"),c.qZA(),c.qZA(),c.YNc(13,S,2,0,"ng-template",null,5,c.W1O)),2&t){const t=c.MAs(3),o=c.MAs(14);c.xp6(1),c.Q6J("ngIf",n.data.company)("ngIfElse",t),c.xp6(4),c.Q6J("ngIf",!1===c.lcZ(6,4,n.data.companyLoading))("ngIfElse",o)}},directives:[s.uh,p.oO,m.O5,f.xw,f.SQ,f.Wh,d.lW,s.xY,g._Y,g.JL,f.yH,g.sg,m.sg,p.b8,m.RF,m.n9,h.KE,h.hX,x.Nt,g.Fj,g.JJ,g.u,h.bx,Z.gD,y.ey,T.hl,T.nW,h.R9,T.Mq],pipes:[m.Ov,m.rS],styles:["h1[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.big[_ngcontent-%COMP%]{width:30rem}.subtitle[_ngcontent-%COMP%]{text-decoration:underline}.tooltip-parent[_ngcontent-%COMP%]{width:23rem}"]}),t})(),J=(()=>{class t{constructor(t){this.dialog=t,this.dialogRef=void 0}getDialog(t){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(I,{data:Object.assign({},t),panelClass:"new-siling1k-entry",hasBackdrop:!0,autoFocus:!0,disableClose:!0}),this.dialogRef}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(s.uw))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})();var Q=o(3350);const Y=(0,Q.ZF)("admin"),P=(0,Q.P1)(Y,t=>t.companies),D=(0,Q.P1)(Y,t=>t.apiLoading);var $=o(1447);let B=(()=>{class t{constructor(t){this.store=t,this.getSilingCompanies$=this.store.select(P),this.getSilingCompanyLoading$=this.store.select(D)}fetchSilingCompanies(){this.store.dispatch($.kC())}}return t.\u0275fac=function(n){return new(n||t)(c.LFG(Q.yh))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var j=o(7307);const M=[{path:"",component:a,children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:(()=>{class t{constructor(t,n){this.neds=t,this.as=n,this.compDest$=new r.x}ngOnInit(){}onNewEntryClick(){this.as.fetchSilingCompanies();const t={amount:void 0,company:void 0,companies:this.as.getSilingCompanies$,companyLoading:this.as.getSilingCompanyLoading$,date:(new Date).getTime()};this.neds.getDialog(t).afterClosed().subscribe(t=>{console.log("closed",t)})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(n){return new(n||t)(c.Y36(J),c.Y36(B))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-core-home"]],decls:7,vars:0,consts:[[1,""],["mat-flat-button","","color","primary",3,"click"]],template:function(t,n){1&t&&(c.TgZ(0,"section"),c.TgZ(1,"div",0),c.TgZ(2,"button",1),c.NdJ("click",function(){return n.onNewEntryClick()}),c.TgZ(3,"span"),c._uU(4," New "),c.qZA(),c.TgZ(5,"mat-icon"),c._uU(6,"add"),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[d.lW,j.Hw],styles:[""]}),t})()}]}];let R=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.Bz.forChild(M)],i.Bz]}),t})(),G=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[J],imports:[[e.n,R]]}),t})()}}]);