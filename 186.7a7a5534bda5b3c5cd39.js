"use strict";(self.webpackChunksiling2k=self.webpackChunksiling2k||[]).push([[186],{5186:(Be,lt,s)=>{s.r(lt),s.d(lt,{CoreModule:()=>Ye});var v=s(5803),u=s(6710),At=s(61),bt=s(7462),Et=s(3498),M=s(6983),t=s(7716);let St=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-5"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},directives:[M.lC],styles:[""]}),e})();var V=s(9765),b=s(6782),C=s(105),T=(()=>{return(e=T||(T={})).CREATE="create",e.UPDATE="update",e.DELETE="delete",e.GET="get",T;var e})(),Lt=s(2340),y=s(3679),w=s(2238),z=s(9193),wt=s(2996),gt=s(5435),D=s(8002),U=s(3190),W=s(8307),E=(()=>{return(e=E||(E={})).TEXT_INPUT="TEXT_INPUT",e.SELECT_INPUT="SELECT_INPUT",e.DATE_INPUT="DATE_INPUT",e.CHECK_INPUT="CHECK_INPUT",E;var e})(),J=(()=>{return(e=J||(J={})).ENTER="Enter",e.ESCAPE="Escape",J;var e})(),pt=s(8402),$=s(8030),ut=s(4439),x=s(5618),d=s(8583),G=s(1095),q=s(6627),Z=s(8295),mt=s(9983),Ft=s(7539),X=s(7441),dt=s(2458),tt=s(3220),nt=s(3617),ft=s(1130);function Nt(e,o){1&e&&(t.ynx(0),t._uU(1," Editing Entry "),t.BQk())}function It(e,o){1&e&&t._uU(0," New Siling1k Entry ")}function Ot(e,o){1&e&&(t.TgZ(0,"span",26),t._uU(1,"$\xa0"),t.qZA())}function Pt(e,o){if(1&e&&(t.TgZ(0,"mat-hint",27),t._uU(1),t.ALo(2,"silingEntryTooltip"),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.Q6J("id",null),t.xp6(1),t.hij(" ",t.xi3(2,2,n.controlName,!0)," ")}}function Qt(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid number! "),t.qZA())}function Mt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.TgZ(5,"input",22),t.NdJ("focus",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(2).onFocus(a.controlName)}),t.qZA(),t.YNc(6,Ot,2,0,"span",23),t.YNc(7,Pt,3,5,"mat-hint",24),t.YNc(8,Qt,2,0,"mat-error",25),t.qZA(),t.BQk()}if(2&e){const n=t.oxw().$implicit,i=t.oxw(2);let a;t.xp6(3),t.Oqu(t.xi3(4,5,n.controlName,!0)),t.xp6(2),t.Q6J("formControlName",n.controlName),t.xp6(1),t.Q6J("ngIf","amount"===n.controlName),t.xp6(1),t.Q6J("ngIf",i.currentFocusControl===n.controlName),t.xp6(1),t.Q6J("ngIf",null==(a=i.entryFormGroup.get(n.controlName))?null:a.hasError("optionalCommaSingleDecimalNumberOnly"))}}function Ut(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",28),t.TgZ(2,"mat-checkbox",29),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("formControlName",n.controlName),t.xp6(1),t.hij(" ",t.Dn7(4,2,n.controlName,!1,i.editMode)," ")}}function Jt(e,o){if(1&e&&(t.TgZ(0,"mat-option",34),t.TgZ(1,"mat-icon"),t._uU(2,"account_balance"),t.qZA(),t._uU(3),t.ALo(4,"silingCompanyDisplay"),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(3),t.hij(" ",t.lcZ(4,2,n.name)," ")}}function qt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-select",30),t.NdJ("focus",function(){t.CHM(n);const a=t.oxw(2).$implicit;return t.oxw(2).onFocus(a.controlName)}),t.TgZ(2,"mat-option",31),t._uU(3,"Select a institution"),t.qZA(),t.YNc(4,Jt,5,4,"mat-option",32),t.TgZ(5,"mat-select-trigger"),t.TgZ(6,"div",33),t.TgZ(7,"mat-icon"),t._uU(8,"account_balance"),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.ALo(11,"silingCompanyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=o.ngIf,i=t.oxw(2).$implicit,a=t.oxw(2);let r;t.xp6(1),t.Q6J("formControlName",i.controlName),t.xp6(1),t.Q6J("disabled",!0),t.xp6(2),t.Q6J("ngForOf",n),t.xp6(6),t.hij(" ",t.lcZ(11,4,null==(r=a.entryFormGroup.get("company"))||null==r.value?null:r.value.name)," ")}}function kt(e,o){if(1&e&&(t.TgZ(0,"mat-hint",27),t._uU(1),t.ALo(2,"silingEntryTooltip"),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.Q6J("id",null),t.xp6(1),t.hij(" ",t.xi3(2,2,n.controlName,!0)," ")}}function $t(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.YNc(5,qt,12,6,"ng-container",25),t.ALo(6,"async"),t.YNc(7,kt,3,5,"mat-hint",24),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit,i=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,3,n.controlName,!0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,6,i.data.companies)),t.xp6(2),t.Q6J("ngIf",i.currentFocusControl===n.controlName)}}function Gt(e,o){if(1&e&&(t.TgZ(0,"mat-hint",27),t._uU(1),t.ALo(2,"silingEntryTooltip"),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.Q6J("id",null),t.xp6(1),t.hij(" ",t.xi3(2,2,n.controlName,!0)," ")}}function Yt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.TgZ(5,"input",35),t.NdJ("focus",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(2).onFocus(a.controlName)}),t.qZA(),t._UZ(6,"mat-datepicker-toggle",36),t._UZ(7,"mat-datepicker",null,37),t.YNc(9,Gt,3,5,"mat-hint",24),t.qZA(),t.BQk()}if(2&e){const n=t.MAs(8),i=t.oxw().$implicit,a=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,5,i.controlName,!0)),t.xp6(2),t.Q6J("matDatepicker",n)("formControlName",i.controlName),t.xp6(1),t.Q6J("for",n),t.xp6(3),t.Q6J("ngIf",a.currentFocusControl===i.controlName)}}function Bt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div"),t.ynx(2,19),t.YNc(3,Mt,9,8,"ng-container",20),t.YNc(4,Ut,5,6,"ng-container",20),t.YNc(5,$t,8,8,"ng-container",20),t.YNc(6,Yt,10,8,"ng-container",20),t.BQk(),t.qZA(),t.BQk()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngSwitch",n.inputType),t.xp6(1),t.Q6J("ngSwitchCase","TEXT_INPUT"),t.xp6(1),t.Q6J("ngSwitchCase","CHECK_INPUT"),t.xp6(1),t.Q6J("ngSwitchCase","SELECT_INPUT"),t.xp6(1),t.Q6J("ngSwitchCase","DATE_INPUT")}}function jt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",38),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div",39),t._uU(5),t.ALo(6,"silingEntryTooltip"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,n.currentFocusControl)," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,n.currentFocusControl)," ")}}function Rt(e,o){1&e&&(t.TgZ(0,"div",40),t._uU(1," Enter the dollar amount for its institution. "),t.qZA())}function Ht(e,o){1&e&&(t.TgZ(0,"div",41),t._uU(1," Fix invalid inputs before saving. "),t.qZA())}function Kt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t.TgZ(3,"form",9),t.YNc(4,Bt,7,5,"ng-container",10),t.qZA(),t.TgZ(5,"div",11),t.YNc(6,jt,7,6,"ng-container",3),t.YNc(7,Rt,2,0,"ng-template",null,12,t.W1O),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"div",13),t.TgZ(11,"div",14),t.YNc(12,Ht,2,0,"div",15),t.qZA(),t.TgZ(13,"div",16),t.TgZ(14,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw().onNoClick()}),t.TgZ(15,"mat-icon"),t._uU(16,"close"),t.qZA(),t._uU(17," Cancel "),t.qZA(),t.TgZ(18,"button",18),t.NdJ("click",function(){return t.CHM(n),t.oxw().onSave()}),t.TgZ(19,"mat-icon"),t._uU(20,"save"),t.qZA(),t._uU(21," Save "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=t.MAs(8),i=t.oxw();t.xp6(3),t.Q6J("formGroup",i.entryFormGroup),t.xp6(1),t.Q6J("ngForOf",i.entryFormGroupStruct),t.xp6(2),t.Q6J("ngIf",i.currentFocusControl)("ngIfElse",n),t.xp6(6),t.Q6J("ngIf",i.entryFormGroup.touched&&i.entryFormGroup.invalid),t.xp6(6),t.Q6J("disabled",i.entryFormGroup.invalid)}}function Vt(e,o){1&e&&(t.TgZ(0,"div",42),t._UZ(1,"app-shared-loading",43),t.qZA()),2&e&&(t.xp6(1),t.Q6J("message","institutions"))}const zt=["company"],Wt=["date"],Xt=["updateDate"];let tn=(()=>{class e{constructor(n,i,a){this.dialogRef=n,this.data=i,this.fb=a,this.entryFormGroupStruct=[],this.editMode=!1,this.compDest$=new V.xQ,this.entryFormGroup=this.fb.group(this.createFormGroup(i)),this.data&&void 0!==this.data.amount&&this.data.company&&(this.editMode=!0)}get amountControl(){return this.entryFormGroup.get("amount")}ngOnInit(){this.entryFormGroupStruct=[],this.updateFormGroupStruct("amount",!0),this.entryFormGroup.valueChanges.pipe((0,b.R)(this.compDest$),(0,wt.j)("amount")).subscribe(n=>{n&&this.amountControl.setValue((n+"").trim(),{emitEvent:!1})}),this.amountControl.valueChanges.pipe((0,b.R)(this.compDest$),(0,gt.h)(n=>n&&""!==(n+"").trim()),(0,D.U)(n=>(this.entryFormGroup.get("company")||(this.entryFormGroup.addControl("company",C.j2(void 0,!1,[y.kI.required]),{emitEvent:!1}),this.updateFormGroupStruct("company",!0)),this.entryFormGroup.get("updateDate")||(this.entryFormGroup.addControl("updateDate",C.j2(!1,!1),{emitEvent:!1}),this.updateFormGroupStruct("updateDate",!0)),this.entryFormGroup.get("updateDate"))),(0,U.w)(n=>this.data.companies.pipe((0,gt.h)(i=>i&&i.length>0),(0,D.U)(i=>{const a=i.findIndex(c=>!!this.data.company&&this.data.company.toUpperCase()===c.name.toUpperCase());return[this.entryFormGroup.get("company"),i[a]]}),(0,U.w)(i=>{var a;return i?(this.editMode&&(null===(a=this.entryFormGroup.get("company"))||void 0===a||a.setValue(i[1])),this.entryFormGroup.get("updateDate").valueChanges.pipe((0,b.R)(this.compDest$),(0,W.b)(r=>{if(r){if(!this.entryFormGroup.get("date")){const c=this.data.date?new Date(this.data.date):new Date;this.entryFormGroup.addControl("date",C.j2(c,!1,[y.kI.required])),this.updateFormGroupStruct("date",!0)}}else this.entryFormGroup.removeControl("date",{emitEvent:!1}),this.updateFormGroupStruct("date",!1)}))):z.E})))).subscribe(),this.editMode&&this.fillForEdit(this.data)}createFormGroup(n){return{amount:C.j2(void 0,!1,[pt.iN])}}fillForEdit(n){this.amountControl.setValue(n.amount)}updateFormGroupStruct(n,i){if(i){let a=E.TEXT_INPUT;zt.indexOf(n)>-1?a=E.SELECT_INPUT:Wt.indexOf(n)>-1?a=E.DATE_INPUT:Xt.indexOf(n)>-1&&(a=E.CHECK_INPUT),this.entryFormGroupStruct.push({controlName:n,inputType:a,value:this.data[n]})}else{const a=this.entryFormGroupStruct.findIndex(r=>r.controlName===n);this.entryFormGroupStruct.splice(a,1)}}onFocus(n){this.currentFocusControl=n}onNoClick(){this.dialogRef.close()}onSave(){let n=this.entryFormGroup.getRawValue();if(!1===n.updateDate||!n.date){let i=new Date;this.editMode&&this.data.date&&(i=new Date(this.data.date)),n=Object.assign(Object.assign({},n),{date:i})}this.dialogRef.close(n)}onKeyEventt(n){n.key===J.ENTER&&this.entryFormGroup.valid&&this.onSave()}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(w.so),t.Y36(w.WI),t.Y36(y.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["new-siling1k-entry-dialog"]],decls:15,vars:6,consts:[["ngClass.gt-sm","big",1,"w-100",3,"ngxKeyEvent"],["fxLayout","row","fxLayoutAlign","space-between center",1,"if","title-bar-bg","title","w-100"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","15px"],[4,"ngIf","ngIfElse"],["newEntry",""],["mat-icon-button","","color","warn",3,"click"],["isLoading",""],[1,"container-fluid","pt-3"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","space-between start",1,"w-100"],["fxFlex.gt-sm","50",3,"formGroup"],[4,"ngFor","ngForOf"],["fxFlex","50","fxHide","","fxShow.gt-sm","",1,"tooltip-parent"],["noTooltip",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"action-bar","mx-3"],[1,"error-msg"],["class","text-danger err-header",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","15px"],["mat-stroked-button","","color","warn",3,"click"],["mat-stroked-button","",3,"disabled","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appearance","standard",1,"w-100"],["type","text","matInput","",3,"formControlName","focus"],["matPrefix","",4,"ngIf"],[3,"id",4,"ngIf"],[4,"ngIf"],["matPrefix",""],[3,"id"],[1,"mt-1"],["color","primary",1,"",3,"formControlName"],[3,"formControlName","focus"],[3,"disabled"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","start end"],[3,"value"],["matInput","",3,"matDatepicker","formControlName","focus"],["matSuffix","",3,"for"],["picker",""],["fxLayout","row","fxLayoutAlign","start center",1,"font-weight-bold","subtitle","mfont","mb-2"],["fxLayout","row","fxLayoutAlign","start center",1,"roboto"],["fxLayout","column","fxLayoutAlign","center center"],[1,"text-danger","err-header"],[1,"my-3"],[3,"message"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("ngxKeyEvent",function(r){return i.onKeyEventt(r)}),t.TgZ(1,"section",1),t.TgZ(2,"div",2),t.TgZ(3,"div"),t.YNc(4,Nt,2,0,"ng-container",3),t.YNc(5,It,1,0,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"button",5),t.NdJ("click",function(){return i.onNoClick()}),t.TgZ(9,"mat-icon"),t._uU(10,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(11,Kt,22,6,"ng-container",3),t.ALo(12,"async"),t.YNc(13,Vt,2,1,"ng-template",null,6,t.W1O)),2&n){const a=t.MAs(6),r=t.MAs(14);t.xp6(4),t.Q6J("ngIf",i.editMode)("ngIfElse",a),t.xp6(7),t.Q6J("ngIf",!1===t.lcZ(12,4,i.data.companyLoading))("ngIfElse",r)}},directives:[$.oO,ut.pb,x.xw,x.Wh,x.SQ,d.O5,G.lW,q.Hw,y._Y,y.JL,x.yH,y.sg,d.sg,$.b8,d.RF,d.n9,Z.KE,Z.hX,mt.Nt,y.Fj,y.JJ,y.u,Z.qo,Z.bx,Z.TO,Ft.oG,X.gD,dt.ey,X.$L,tt.hl,tt.nW,Z.R9,tt.Mq,nt.N],pipes:[d.Ov,ft.q,ft.n,d.rS],styles:[".big[_ngcontent-%COMP%]{width:40rem}.tooltip-parent[_ngcontent-%COMP%]{width:23rem}.action-bar[_ngcontent-%COMP%]{margin-bottom:10px}.action-bar[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{min-width:10px;font-size:14px}"]}),e})(),_t=(()=>{class e{constructor(n){this.dialog=n,this.dialogRef=void 0}getDialog(n){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(tn,{data:Object.assign({},n),panelClass:"new-siling1k-entry",hasBackdrop:!0,autoFocus:!1,disableClose:!1,width:"calc(100% - 30rem)"}),this.dialogRef}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(w.uw))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var ht=s(8734),yt=s(5758),_=s(5122);const F=(0,u.ZF)("dashboard"),nn=(0,u.P1)(F,e=>e.entrySaveLoading),en=(0,u.P1)(F,e=>e.firstTimeLoading&&e.silingDataLoading),on=(0,u.P1)(F,e=>e.silingDataLoading),an=(0,u.P1)(F,e=>e.silingDataLastFetched),xt=(0,u.P1)(F,e=>{var o;return null!==(o=e.silingData)&&void 0!==o?o:{}}),vt=(0,u.P1)(F,e=>e.silingDataBeingFetchedNames),Y=(0,u.P1)(vt,xt,(e,o)=>{const n=Object.keys(o),i={};let a=100;return n.length>0&&(a=Math.floor(100/n.length)),n.forEach((r,c)=>{const p=JSON.parse(JSON.stringify(o[r])).sort((m,h)=>m.date>h.date?1:-1),l=[];p.forEach((m,h,k)=>{const A=p[h-1];let L=0,Q=0;A&&m&&(L=m.amount-A.amount,Q=0===A.amount?1:L/A.amount),l.push(Object.assign(Object.assign({},m),{profit:L,profitPercent:Q}))});const f=JSON.parse(JSON.stringify(l));i[r]=f.reverse()}),{data:i,keys:e,flexNumber:a}}),rn=(0,u.P1)(Y,e=>{const o=[],n=[];e.keys.forEach(r=>{e.data&&e.data[r]&&e.data[r].forEach(c=>{n.push(c.date)})}),n.sort((r,c)=>r>c?1:-1);const i=new Set(n),a=Array.from(i);return e.keys.forEach(r=>{const c=(0,C.fm)(r),g=e.data[r];let p=[];if(g){const m={};g.forEach(h=>{m[h.date]=h.amount}),a.forEach((h,k)=>{p.push(void 0!==m[h]?+m[h]:NaN)})}let l=[],f=0;a.forEach((m,h)=>{isNaN(p[h])?l.push(f):(f=p[h],l.push(p[h]))}),o.push({name:c,data:l})}),{series:o,chart:{type:"line",height:350,zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"},width:"100%"},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Siling Growth by Date",align:"left",style:{fontFamily:"Roboto"}},fill:{type:"gradient",gradient:{opacityFrom:.9,opacityTo:.9}},yaxis:{labels:{formatter:function(e){return e?"$"+(+e).toLocaleString(void 0):e+""}},title:{text:"$ Amount"}},xaxis:fn(a),tooltip:{shared:!0,y:{formatter:function(e,o){return e?"$"+(0,C.gW)(e):e+""}}},legend:{show:!0,position:"top",horizontalAlign:"center",fontFamily:"Roboto",fontSize:"15px"},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}}}}),sn=(0,u.P1)(Y,e=>{let o={},n=0,i=0;return e.keys.forEach((a,r)=>{var c,g;if(e.data[a]){const p=JSON.parse(JSON.stringify(e.data[a]));p.sort((m,h)=>m.date>h.date?1:-1);const l=p[null!==(g=(null===(c=e.data[a])||void 0===c?void 0:c.length)-1)&&void 0!==g?g:0];0===r&&l&&(i=l.date);let f=+(null==l?void 0:l.amount);f=isNaN(f)?0:f,o[a]=f,n+=f,i<(null==l?void 0:l.date)&&(i=l.date)}}),{sumAmount:o,lastUpdated:i,total:n}}),cn=(0,u.P1)(Y,e=>{const o=[];e&&e.keys.forEach(a=>{e.data&&e.data[a]&&e.data[a].forEach(r=>{o.push(r.date)})}),o.sort((a,r)=>a>r?1:-1);const n=new Set(o);return Array.from(n)});function fn(e){return{type:"datetime",categories:[...e]}}const Ct=(0,u.ZF)("dashboardUI"),xn=(0,u.P1)(Ct,e=>e.currentSelection),Tt=(0,u.P1)(Ct,e=>e.allTabSelections),vn=(0,u.P1)(Tt,xn,(e,o)=>e&&o?e.findIndex(i=>i.id===o.id):0),et=(0,u.PH)("[Siling/UI] Set dashboard view tab selection",(0,u.Ky)());var ot=s(2671);let B=(()=>{class e{constructor(n,i){this.store=n,this.rs=i,this.isEntrySaveLoading$=this.store.select(nn),this.isDashboardDataFirstTimeLoading$=this.store.select(en),this.isDataLoading$=this.store.select(on),this.dashboardData$=this.store.select(Y),this.chartData$=this.store.select(rn),this.summary$=this.store.select(sn),this.selectTabIndex$=this.store.select(vn),this.dashboardTabs$=this.store.select(Tt),this.silingData$=this.store.select(xt),this.dataLastFetched$=this.store.select(an),this.companiesShown$=this.store.select(vt),this.getAllDates$=this.store.select(cn)}saveSilingEntry(n){this.store.dispatch(_.su({payload:n}))}getSilingDataByInsName(n){n&&n.length>0&&this.store.dispatch(_.F3({names:n}))}getSilingShowList(){this.store.dispatch(_.qe())}fetchSilingCompanies(){return this.rs.getCollection("settings/kqpro/companies/all")}fetchShowHideList(){return this.rs.getDocument("settings/kqpro/showHideList")}setTab(n){this.store.dispatch(et({tabIndex:n}))}refreshData(){this.store.dispatch(_.Pd())}updateSilingData(n){this.store.dispatch(_.yj({toUpdate:n}))}getSilingShownIdsObs(){return(0,yt.D)({allCompanies:this.fetchSilingCompanies(),showHideList:this.fetchShowHideList()}).pipe((0,D.U)(n=>{const a=[];let r=[],c=[];return n.showHideList&&n.showHideList.hiding&&n.showHideList.hiding.length>-1&&(r=n.showHideList.hiding),n.showHideList&&n.showHideList.showing&&n.showHideList.showing.length>-1&&(c=n.showHideList.showing),n.allCompanies.forEach(p=>{r.findIndex(f=>f.name===p.name)<0&&a.push(p)}),a.sort((p,l)=>c.findIndex(h=>h.id===p.id)>c.findIndex(h=>h.id===l.id)?1:-1),a.map(p=>p.name.toLowerCase())}))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(u.yh),t.LFG(ot.v))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Tn=s(9112),j=s(4762),R=s(9254),H=s(837);class N{transform(o){let n=o;switch(o){case"name":n="Name";break;case"example":n="Example";break;case"company":n="Siling Institution";break;case"date":n="Entry Date";break;case"gain":n="Gain By";break;case"loss":n="Loss By";break;case"balance":n="Current Balance"}return n}}N.\u0275fac=function(o){return new(o||N)},N.\u0275pipe=t.Yjl({name:"tableColumnDisplay",type:N,pure:!0}),(0,j.gn)([(0,R.Z)()],N.prototype,"transform",null);var K=s(5917);class I{transform(o){let n=o;switch(o){case"company":n="Select a Siling Ins.";break;case"date":n="Select a entry date";break;case"gain":case"loss":case"balance":n="Enter $ amount"}return n}}I.\u0275fac=function(o){return new(o||I)},I.\u0275pipe=t.Yjl({name:"filterLabelDisplay",type:I,pure:!0}),(0,j.gn)([(0,R.Z)()],I.prototype,"transform",null);class O{constructor(o,n){this.cs=o,this.as=n}transform(o){let n=(0,K.of)([]);switch(o){case"company":n=this.as.getSilingCompanies$}return n}}O.\u0275fac=function(o){return new(o||O)(t.Y36(B,16),t.Y36(ht.l,16))},O.\u0275pipe=t.Yjl({name:"filterValueSelections",type:O,pure:!0}),(0,j.gn)([(0,R.Z)()],O.prototype,"transform",null);class P{transform(o){const n=o.length;if(n)return{summary:n+(1===n?" error":" errors"),errors:o}}}function Dn(e,o){1&e&&(t.TgZ(0,"div",18),t._uU(1," Please validate all filters before adding another. "),t.qZA())}function Zn(e,o){if(1&e&&(t.TgZ(0,"mat-option",28),t._uU(1),t.ALo(2,"tableColumnDisplay"),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",t.lcZ(2,2,n)," ")}}function An(e,o){if(1&e&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n.name," ")}}function bn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",33),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"filterLabelDisplay"),t.qZA(),t.TgZ(5,"mat-select",34),t.YNc(6,An,2,2,"mat-option",27),t.ALo(7,"async"),t.ALo(8,"filterValueSelections"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(3),t.Oqu(t.lcZ(4,3,n)),t.xp6(2),t.Q6J("formControlName","filterValue"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(7,5,t.lcZ(8,7,n)))}}function En(e,o){1&e&&t.GkF(0)}function Sn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",35),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"filterLabelDisplay"),t.qZA(),t.TgZ(5,"span",36),t._uU(6,"$ \xa0"),t.qZA(),t._UZ(7,"input",37),t.qZA(),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(3),t.hij(" ",t.lcZ(4,2,n)," "),t.xp6(4),t.Q6J("formControlName","filterValue")}}function Ln(e,o){if(1&e&&(t.ynx(0),t.ynx(1,29),t.TgZ(2,"div",30),t.YNc(3,bn,9,9,"ng-container",31),t.YNc(4,En,1,0,"ng-container",31),t.YNc(5,Sn,8,4,"ng-container",32),t.qZA(),t.BQk(),t.BQk()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngSwitch",n),t.xp6(2),t.Q6J("ngSwitchCase","company"),t.xp6(1),t.Q6J("ngSwitchCase","date")}}function wn(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",23),t.TgZ(2,"div",24),t._uU(3),t.qZA(),t.TgZ(4,"mat-form-field",25),t.TgZ(5,"mat-label"),t._uU(6,"Filter"),t.qZA(),t.TgZ(7,"mat-select",26),t.NdJ("selectionChange",function(){const r=t.CHM(n).index;return t.oxw(4).onFilterTypeChange(r)}),t.YNc(8,Zn,3,4,"mat-option",27),t.qZA(),t.qZA(),t.YNc(9,Ln,6,3,"ng-container",4),t.qZA(),t.BQk()}if(2&e){const n=o.index,i=t.oxw(4),a=t.MAs(13);t.xp6(1),t.Q6J("formGroupName",n),t.xp6(2),t.hij(" Filter ",n+1,": "),t.xp6(4),t.Q6J("formControlName","filterType"),t.xp6(1),t.Q6J("ngForOf",i.data.options),t.xp6(1),t.Q6J("ngIf",i.filterArray.at(n).get("filterType").value)("ngIfElse",a)}}function Fn(e,o){if(1&e&&(t.TgZ(0,"section",19),t.TgZ(1,"form",20),t.TgZ(2,"div",21),t.YNc(3,wn,10,6,"ng-container",22),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("formGroup",n.filterFg),t.xp6(1),t.Q6J("formArrayName","filters"),t.xp6(1),t.Q6J("ngForOf",n.filterArray.controls)}}function Nn(e,o){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.errorName," ")}}function In(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Nn,2,1,"li",22),t.qZA(),t.BQk()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" ",n.summary," in filters: "),t.xp6(2),t.Q6J("ngForOf",n.errors)}}function On(e,o){if(1&e&&(t.ynx(0),t.YNc(1,In,5,2,"ng-container",16),t.ALo(2,"formErrorDisplay"),t.BQk()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.allErrors))}}function Pn(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"section",8),t.TgZ(2,"div",9),t.TgZ(3,"button",10),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onAddNew()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA(),t._uU(6," Add new filter "),t.qZA(),t.YNc(7,Dn,2,0,"div",11),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"button",12),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onRemoveAll()}),t.TgZ(10,"mat-icon"),t._uU(11,"delete_sweep"),t.qZA(),t._uU(12," Remove all "),t.qZA(),t.qZA(),t.qZA(),t._UZ(13,"hr"),t.YNc(14,Fn,4,3,"section",13),t._UZ(15,"hr",3),t.TgZ(16,"section",14),t.TgZ(17,"div",15),t.YNc(18,On,3,3,"ng-container",16),t.qZA(),t.TgZ(19,"div"),t.TgZ(20,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onClose(!0)}),t.TgZ(21,"mat-icon"),t._uU(22,"save"),t.qZA(),t._uU(23," Apply "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=t.oxw(2);t.xp6(3),t.Q6J("disabled",n.filterFg.invalid),t.xp6(4),t.Q6J("ngIf",n.filterFg.touched&&n.filterFg.invalid),t.xp6(7),t.Q6J("ngIf",n.filterFg),t.xp6(4),t.Q6J("ngIf",n.filterFg.touched),t.xp6(2),t.Q6J("disabled",n.filterFg.invalid)}}function Qn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,Pn,24,5,"ng-container",4),t.ALo(3,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw(),i=t.MAs(11);t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,2,n.isLoading$))("ngIfElse",i)}}function Mn(e,o){1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-shared-loading",38),t.qZA()),2&e&&(t.xp6(1),t.Q6J("message","filter data"))}function Un(e,o){1&e&&(t.TgZ(0,"div",30),t._uU(1," \xa0 "),t.qZA())}P.\u0275fac=function(o){return new(o||P)},P.\u0275pipe=t.Yjl({name:"formErrorDisplay",type:P,pure:!0}),(0,j.gn)([(0,R.Z)()],P.prototype,"transform",null);let Jn=(()=>{class e{constructor(n,i,a){if(this.dialogRef=n,this.data=i,this.fb=a,this.allErrors=[],this.compDest$=new V.xQ,this.filterFg=this.fb.group({filters:this.fb.array([])}),!(this.data.filterData.length>0)){const r=this.createDefaultFilter();this.filterArray.push(r)}this.filterFg.valueChanges.pipe((0,b.R)(this.compDest$)).subscribe(r=>{this.allErrors=(0,C.dR)(this.filterFg)})}get filterArray(){return this.filterFg.get("filters")}ngOnInit(){var n,i;(null===(n=this.data)||void 0===n?void 0:n.companiesLoading)&&(null===(i=this.data)||void 0===i?void 0:i.silingDataLoading)&&(this.isLoading$=(0,Tn.aj)([this.data.companiesLoading,this.data.silingDataLoading]).pipe((0,D.U)(a=>a[0]||a[1])))}onFilterTypeChange(n){var i,a;if(n>-1){const r=null===(i=this.filterArray.at(n))||void 0===i?void 0:i.get("filterValue");if(r){switch(null==r||r.reset(void 0,{emitEvent:!1}),(null===(a=this.filterArray.at(n))||void 0===a?void 0:a.get("filterType")).value){case"gain":case"loss":case"balance":r.setValidators([y.kI.required,pt.FV]);break;case"company":r.setValidators([y.kI.required]);break;case"date":r.clearValidators()}r.updateValueAndValidity()}}}createDefaultFilter(n){return this.fb.group({filterType:(0,C.j2)(null==n?void 0:n.valueType,!1),filterValue:(0,C.j2)(null==n?void 0:n.currentValue,!1,[y.kI.required])})}onAddNew(){this.filterFg.valid&&this.filterArray.push(this.createDefaultFilter())}onRemoveAll(){this.filterArray.clear(),this.onClose(!0)}onClose(n){this.dialogRef.close(n?this.filterFg.value:void 0)}onKeyEvent(n){n.key===J.ESCAPE&&this.onClose(!1)}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(w.so),t.Y36(w.WI),t.Y36(y.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-filter-dialog"]],decls:14,vars:2,consts:[["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","10px",1,"w-100",3,"ngxKeyEvent"],["fxLayout","row","fxLayoutAlign","space-between center",1,"if","title-bar-bg","title","w-100"],["mat-icon-button","","color","warn",3,"click"],[1,"w-100"],[4,"ngIf","ngIfElse"],["loading",""],["selectFilter",""],[1,"container-fluid"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutAlign","start center"],["mat-button","","color","primary",3,"disabled","click"],["class","text-muted ml-2 tt",4,"ngIf"],["mat-button","","color","warn",3,"click"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100","action-bar"],[1,"errors","text-danger"],[4,"ngIf"],["mat-stroked-button","","color","primary",3,"disabled","click"],[1,"text-muted","ml-2","tt"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px"],[1,"w-100","form-parent",3,"formGroup"],[3,"formArrayName"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",3,"formGroupName"],["fxFlex","8","fxLayout","row","fxLayoutAlign","start end",1,"count"],["appearance","standard","fxFlex","30"],[3,"formControlName","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],["fxFlex","50"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["appearance","standard"],[3,"formControlName"],["appearance","standard",1,""],["matPrefix",""],["matInput","","type","text",3,"formControlName"],[3,"message"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("ngxKeyEvent",function(r){return i.onKeyEvent(r)}),t.TgZ(1,"section",1),t.TgZ(2,"div"),t._uU(3," Filter Manager "),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",2),t.NdJ("click",function(){return i.onClose(!1)}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"section",3),t.YNc(9,Qn,4,4,"ng-container",4),t.qZA(),t.qZA(),t.YNc(10,Mn,2,1,"ng-template",null,5,t.W1O),t.YNc(12,Un,2,0,"ng-template",null,6,t.W1O)),2&n){const a=t.MAs(11);t.xp6(9),t.Q6J("ngIf",i.isLoading$)("ngIfElse",a)}},directives:[x.xw,x.Wh,x.SQ,ut.pb,G.lW,q.Hw,d.O5,y._Y,y.JL,y.sg,y.CE,d.sg,y.x0,x.yH,Z.KE,Z.hX,X.gD,y.JJ,y.u,dt.ey,d.RF,d.n9,d.ED,Z.qo,mt.Nt,y.Fj,nt.N],pipes:[d.Ov,N,I,O,P],styles:['section.title[_ngcontent-%COMP%]{padding:15px;font-size:18px}form.form-parent[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-family:"Quicksand";font-weight:700;color:#2a2961}.action-bar[_ngcontent-%COMP%]   .errors[_ngcontent-%COMP%]{font-size:14px;min-width:5px}mat-form-field[_ngcontent-%COMP%]{width:100%}.tt[_ngcontent-%COMP%]{font-size:14px}.action-bar[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:-4px}']}),e})(),qn=(()=>{class e{constructor(n){this.dialog=n,this.dialogRef=void 0}getDialog(n){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(Jn,{data:n,panelClass:"filter-dialog-container",hasBackdrop:!0,autoFocus:!1,disableClose:!0,width:"calc(100% - 30rem)"}),this.dialogRef}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(w.uw))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=s(4836);function kn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t._uU(4),t.ALo(5,"dateDisplay"),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"span",7),t._uU(8),t.ALo(9,"localeNumberDisplay"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(3),t.Q6J("title","Last entry updated"),t.xp6(1),t.hij(" ",t.xi3(5,4,n.summaryData.lastUpdated,"MDYANDFROMNOW")," "),t.xp6(2),t.Q6J("title",n.summaryData.total),t.xp6(2),t.hij(" $ ",t.lcZ(9,7,n.summaryData.total)," ")}}function $n(e,o){if(1&e&&(t.ynx(0),t.YNc(1,kn,10,9,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.summaryData)}}function Gn(e,o){if(1&e&&(t.ynx(0),t.YNc(1,$n,2,1,"ng-container",2),t.ALo(2,"async"),t.BQk()),2&e){const n=t.oxw(),i=t.MAs(2);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,n.loading$))("ngIfElse",i)}}function Yn(e,o){1&e&&(t.TgZ(0,"div",8),t._uU(1," Calculating summary... "),t.qZA())}let Bn=(()=>{class e{constructor(){this.summaryData=void 0}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-summary"]],inputs:{summaryData:"summaryData",loading$:"loading$"},decls:3,vars:1,consts:[[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"roboto","summary"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",1,"text-muted"],[3,"title"],[1,"total",3,"title"],[1,"green"],["fxLayout","row","fxLayoutAlign","center center",1,"summary"]],template:function(n,i){1&n&&(t.YNc(0,Gn,3,4,"ng-container",0),t.YNc(1,Yn,2,0,"ng-template",null,1,t.W1O)),2&n&&t.Q6J("ngIf",i.loading$)},directives:[d.O5,x.xw,x.Wh,x.SQ],pipes:[d.Ov,H.o,S.i7],styles:[".total[_ngcontent-%COMP%]{font-weight:500;letter-spacing:1px}.green[_ngcontent-%COMP%]{color:#0c8d0c}.summary[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();var jn=s(4256);const Rn=["chart"];function Hn(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"apx-chart",1,2),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("series",n.apexSeries)("chart",n.apexChart)("dataLabels",n.apexDataLabels)("markers",n.apexMarkers)("title",n.apexTitle)("fill",n.apexFill)("yaxis",n.apexYAxis)("xaxis",n.apexXAxis)("tooltip",n.apexTooltip)("legend",n.apexLegend)("grid",n.apexGrid)}}let Kn=(()=>{class e{constructor(n){this.ngZone=n,this.chartData=void 0}ngOnChanges(){this.initChartData()}ngOnInit(){}initChartData(){var n,i,a,r,c,g,p,l,f,m,h,k,A,L,Q,st,ct;this.apexSeries?this.apexSeries&&(null===(i=this.chartData)||void 0===i?void 0:i.series)&&((0,C.cO)(this.apexSeries,null===(a=this.chartData)||void 0===a?void 0:a.series)||(this.apexSeries=null===(r=this.chartData)||void 0===r?void 0:r.series)):this.apexSeries=null===(n=this.chartData)||void 0===n?void 0:n.series,this.apexXAxis?this.apexXAxis&&(null===(g=this.chartData)||void 0===g?void 0:g.xaxis)&&((0,C.cO)(this.apexXAxis.categories,null===(p=this.chartData)||void 0===p?void 0:p.xaxis.categories)||(this.apexXAxis=null===(l=this.chartData)||void 0===l?void 0:l.xaxis)):this.apexXAxis=null===(c=this.chartData)||void 0===c?void 0:c.xaxis,this.apexChart||(this.apexChart=null===(f=this.chartData)||void 0===f?void 0:f.chart),this.apexDataLabels||(this.apexDataLabels=null===(m=this.chartData)||void 0===m?void 0:m.dataLabels),this.apexMarkers||(this.apexMarkers=null===(h=this.chartData)||void 0===h?void 0:h.markers),this.apexTitle||(this.apexTitle=null===(k=this.chartData)||void 0===k?void 0:k.title),this.apexFill||(this.apexFill=null===(A=this.chartData)||void 0===A?void 0:A.fill),this.apexYAxis||(this.apexYAxis=null===(L=this.chartData)||void 0===L?void 0:L.yaxis),this.apexTooltip||(this.apexTooltip=null===(Q=this.chartData)||void 0===Q?void 0:Q.tooltip),this.apexLegend||(this.apexLegend=null===(st=this.chartData)||void 0===st?void 0:st.legend),this.apexGrid||(this.apexGrid=null===(ct=this.chartData)||void 0===ct?void 0:ct.grid)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.R0b))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-shared-line-chart"]],viewQuery:function(n,i){if(1&n&&t.Gf(Rn,5),2&n){let a;t.iGM(a=t.CRH())&&(i.chart=a.first)}},inputs:{chartData:"chartData"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","dataLabels","markers","title","fill","yaxis","xaxis","tooltip","legend","grid"],["chart",""]],template:function(n,i){1&n&&t.YNc(0,Hn,3,11,"ng-container",0),2&n&&t.Q6J("ngIf",i.apexSeries&&i.apexXAxis&&i.apexChart&&i.apexDataLabels&&i.apexMarkers&&i.apexTooltip&&i.apexTitle&&i.apexFill&&i.apexYAxis&&i.apexLegend&&i.apexGrid)},directives:[d.O5,jn.x],styles:[""],changeDetection:0}),e})(),Vn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["loading-bar-css"]],decls:2,vars:0,consts:[[1,"progress"],["aria-valuenow","100",1,"progress-bar","progress-bar-animated","progress-bar-striped",2,"width","100%"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA())},styles:[".progress[_ngcontent-%COMP%]{height:7px}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#2261a1}.progress[_ngcontent-%COMP%]   div.progress-bar-animated[_ngcontent-%COMP%]{animation:.2s linear infinite progress-bar-stripes}"]}),e})();var Dt=s(1278),it=s(5939),at=s(3935);function zn(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",3),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().onMenuOptClick(r)}),t.TgZ(2,"mat-icon"),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=o.$implicit;t.xp6(3),t.Oqu(n.icon),t.xp6(2),t.hij(" ",n.display," ")}}let Wn=(()=>{class e{constructor(){this.menuOptions=[],this.menuSelect=new t.vpe}ngOnInit(){}ngOnChanges(n){}onMenuOptClick(n){this.menuSelect.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["shared-drop-menu"]],inputs:{menuOptions:"menuOptions"},outputs:{menuSelect:"menuSelect"},features:[t.TTD],decls:6,vars:2,consts:[["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(n,i){if(1&n&&(t.TgZ(0,"button",0),t.TgZ(1,"mat-icon"),t._uU(2,"more_vert"),t.qZA(),t.qZA(),t.TgZ(3,"mat-menu",null,1),t.YNc(5,zn,6,2,"ng-container",2),t.qZA()),2&n){const a=t.MAs(4);t.Q6J("matMenuTriggerFor",a),t.xp6(5),t.Q6J("ngForOf",i.menuOptions)}},directives:[G.lW,at.p6,q.Hw,at.VK,d.sg,at.OP],styles:[""]}),e})();const Xn=function(e){return{"border-btn-none":e,"list-group-item roboto":!0}};function te(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.ALo(2,"profitGainBgClass"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"dateDisplay"),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"shared-drop-menu",4),t.NdJ("menuSelect",function(a){return t.CHM(n),t.oxw().onMenuOptSelect(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",5),t._uU(11),t.ALo(12,"dateFromNow"),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"div",7),t._uU(15),t.ALo(16,"localeNumberDisplay"),t.qZA(),t.TgZ(17,"div",8),t.ALo(18,"numberGainClass"),t.TgZ(19,"div",9),t.TgZ(20,"mat-icon",10),t._uU(21),t.ALo(22,"profitPercentIconClass"),t.qZA(),t.qZA(),t.TgZ(23,"div"),t._uU(24),t.ALo(25,"profitPercent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",11),t._uU(27),t.ALo(28,"profit"),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(1),t.Tol(t.lcZ(2,14,n.entryDetail.profitPercent)),t.Q6J("ngClass",t.VKq(31,Xn,n.isLast)),t.xp6(5),t.hij(" ",n.entryDetail.date?t.xi3(7,16,n.entryDetail.date,"MDY"):"NO DATE"," "),t.xp6(3),t.Q6J("menuOptions",n.menuOptions),t.xp6(2),t.hij(" ",t.lcZ(12,19,n.entryDetail.date)," "),t.xp6(4),t.hij(" $",t.lcZ(16,21,n.entryDetail.amount)," "),t.xp6(2),t.Tol("gains-rate numbers med-number spacing-half "+t.lcZ(18,23,n.entryDetail.profitPercent)),t.Q6J("title",n.entryDetail.profitPercent),t.xp6(4),t.Oqu(t.lcZ(22,25,n.entryDetail.profitPercent)),t.xp6(3),t.hij(" ",t.lcZ(25,27,n.entryDetail.profitPercent)," "),t.xp6(2),t.Q6J("title",n.entryDetail.profit),t.xp6(1),t.hij(" ",t.lcZ(28,29,n.entryDetail.profit)," ")}}let ne=(()=>{class e{constructor(){this.entryDetail=void 0,this.isLast=!1,this.menuSelect=new t.vpe,this.menuOptions=[{display:"Edit",id:T.UPDATE,icon:"edit"},{display:"Delete",id:T.DELETE,icon:"delete"}]}ngOnChanges(){}ngOnInit(){}onMenuOptSelect(n){this.menuSelect.emit({option:n,entry:this.entryDetail})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-siling-column-entry"]],inputs:{entryDetail:"entryDetail",isLast:"isLast"},outputs:{menuSelect:"menuSelect"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","5px",3,"ngClass"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100","roboto","small-number","text-muted","date-info"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","5px",1,""],[3,"menuOptions","menuSelect"],[1,"from-now"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","space-between center","fxLayoutAlign","start center",1,"w-100","main"],[1,"dollar-amount","numbers","med-number"],["fxLayout","row","fxLayoutAlign","start center",3,"title"],["fxLayout","column","fxLayoutAlign","center center"],[1,"med-number"],["fxLayout","row","fxLayoutAlign","start center",1,"text-muted","numbers","small-number","w-100",3,"title"]],template:function(n,i){1&n&&t.YNc(0,te,29,33,"ng-container",0),2&n&&t.Q6J("ngIf",i.entryDetail)},directives:[d.O5,x.xw,x.Wh,x.SQ,d.mk,$.oO,Wn,q.Hw],pipes:[S.PD,H.o,H.G,S.i7,S.qw,S.ZJ,S.pY,S.u],styles:['.gains-rate[_ngcontent-%COMP%]{text-align:right}.dollar-amount[_ngcontent-%COMP%]{text-align:left;padding-left:0;letter-spacing:.5px}.date-info[_ngcontent-%COMP%]{height:21px}.date-info[_ngcontent-%COMP%]   .from-now[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.main[_ngcontent-%COMP%]{word-break:break-all}.med-number[_ngcontent-%COMP%]{font-size:20px}.small-number[_ngcontent-%COMP%]{font-size:14px}.spacing-half[_ngcontent-%COMP%]{letter-spacing:.5px}.numbers[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-weight:400}.positive[_ngcontent-%COMP%]{color:#00b33c}.negative[_ngcontent-%COMP%]{color:#b32400}.no-change[_ngcontent-%COMP%]{color:#888}.pos-bg[_ngcontent-%COMP%]{background-color:#e1f5e154}.neg-bg-1[_ngcontent-%COMP%]{background-color:#f7e5e536}.neg-bg-2[_ngcontent-%COMP%]{background-color:#f7e5e59e}.neg-bg-3[_ngcontent-%COMP%]{background-color:#f7e5e5d9}.no-change-bg[_ngcontent-%COMP%]{background-color:#cccccc0f}.border-btn-none[_ngcontent-%COMP%]{border-bottom:0px}.list-group-item[_ngcontent-%COMP%]{border-left:none;border-right:none}'],changeDetection:0}),e})();function ee(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-core-siling-column-entry",9),t.NdJ("menuSelect",function(a){return t.CHM(n),t.oxw(2).onMenuSelection(a)}),t.qZA(),t.BQk()}if(2&e){const n=o.$implicit,i=o.last;t.xp6(1),t.Q6J("entryDetail",n)("isLast",i)}}function oe(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"ul",7),t.YNc(2,ee,2,2,"ng-container",8),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.silingData)}}function ie(e,o){1&e&&(t.TgZ(0,"div",10),t._uU(1," No data returned. "),t.qZA())}const ae=function(e){return{"background-color":e}};let re=(()=>{class e{constructor(){this.silingCompanyId=void 0,this.silingData=[],this.menuSelect=new t.vpe}ngOnChanges(){}ngOnInit(){}onMenuSelection(n){this.menuSelect.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-siling-column"]],inputs:{silingCompanyId:"silingCompanyId",silingData:"silingData"},outputs:{menuSelect:"menuSelect"},features:[t.TTD],decls:11,vars:9,consts:[[1,"card","text-left","border-secondary"],[1,"img-center","fixed-img-height"],["alt","SiLing Co. Img","onerror","this.src = 'assets/banner/bank5.jpg'",1,"card-img-top","img-fixed-height",3,"src","ngStyle"],[1,"card-header","header"],[1,"panel-header","page-anchor"],[4,"ngIf","ngIfElse"],["noData",""],[1,"list-group"],[4,"ngFor","ngForOf"],[3,"entryDetail","isLast","menuSelect"],["fxLayout","row","fxLayoutAlign","center center",1,"px-3","py-3"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.YNc(8,oe,3,1,"ng-container",5),t.YNc(9,ie,2,0,"ng-template",null,6,t.W1O),t.qZA(),t.qZA()),2&n){const a=t.MAs(10);t.xp6(2),t.Q6J("src","assets/banner/"+i.silingCompanyId+".jpg",t.LSH)("ngStyle",t.VKq(7,ae,"fidelity"===i.silingCompanyId?"#67941e":"#fff")),t.xp6(3),t.hij(" ",t.lcZ(6,5,i.silingCompanyId?i.silingCompanyId:"Unknown Siling ID")," "),t.xp6(3),t.Q6J("ngIf",i.silingData&&i.silingData.length>0)("ngIfElse",a)}},directives:[d.PC,$.Zl,d.O5,d.sg,ne,x.xw,x.Wh],pipes:[d.rS],styles:['.img-fixed-height[_ngcontent-%COMP%]{max-height:80px;max-width:300px}.img-center[_ngcontent-%COMP%]{text-align:center}.fid-background-green[_ngcontent-%COMP%]{background-color:#67941e}.panel-header[_ngcontent-%COMP%]{font-family:"Roboto",sans-serif;font-size:20px}.card-header.header[_ngcontent-%COMP%]{color:#8c8c8c}.fixed-img-height[_ngcontent-%COMP%]{height:5rem}'],changeDetection:0}),e})();const se=["tabGroup"];function ce(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",10),t._uU(2),t.ALo(3,"dateDisplay"),t.qZA(),t.BQk()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" Fetched: ",t.xi3(3,1,n,"FULLDATE")," ")}}function le(e,o){1&e&&(t.ynx(0),t._UZ(1,"loading-bar-css"),t.BQk())}function ge(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",12),t.TgZ(2,"div",13),t.YNc(3,le,2,0,"ng-container",3),t.ALo(4,"async"),t.qZA(),t._UZ(5,"app-shared-line-chart",14),t.ALo(6,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,n.cs.isDataLoading$)),t.xp6(2),t.Q6J("chartData",t.lcZ(6,4,n.cs.chartData$))}}function pe(e,o){if(1&e&&(t.TgZ(0,"section",11),t.YNc(1,ge,7,6,"ng-container",6),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw(),i=t.MAs(31);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,n.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",i)}}function ue(e,o){if(1&e&&(t.TgZ(0,"mat-icon",23),t._uU(1),t.qZA(),t._uU(2)),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.tabIcon),t.xp6(1),t.hij(" ",n.display," ")}}function me(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",25),t.TgZ(2,"app-core-siling-column",26),t.NdJ("menuSelect",function(a){return t.CHM(n),t.oxw(7).onMenuSelected(a)}),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=o.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("fxFlex",i.flexNumber+"%"),t.xp6(1),t.Q6J("silingCompanyId",n)("silingData",i.data[n])}}function de(e,o){if(1&e&&(t.ynx(0),t.YNc(1,me,3,3,"ng-container",18),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",n.keys)}}function fe(e,o){if(1&e&&(t.ynx(0),t.YNc(1,de,2,1,"ng-container",6),t.BQk()),2&e){const n=o.ngIf;t.oxw(5);const i=t.MAs(33);t.xp6(1),t.Q6J("ngIf",n.keys&&n.keys.length>0)("ngIfElse",i)}}function _e(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"section",24),t.ynx(2),t.YNc(3,fe,2,2,"ng-container",3),t.ALo(4,"async"),t.BQk(),t.qZA(),t.BQk()),2&e){const n=t.oxw(4);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,1,n.cs.dashboardData$))}}function he(e,o){1&e&&(t.ynx(0),t._uU(1," Table "),t.BQk())}function ye(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-tab",19),t.YNc(2,ue,3,2,"ng-template",20),t.ynx(3,21),t.YNc(4,_e,5,3,"ng-container",22),t.YNc(5,he,2,0,"ng-container",22),t.BQk(),t.qZA(),t.BQk()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("label",n.display),t.xp6(2),t.Q6J("ngSwitch",n.id),t.xp6(1),t.Q6J("ngSwitchCase","expandedView"),t.xp6(1),t.Q6J("ngSwitchCase","compactView")}}function xe(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"mat-tab-group",16,17),t.NdJ("selectedTabChange",function(a){return t.CHM(n),t.oxw(2).onTabChange(a)}),t.ALo(2,"async"),t.YNc(3,ye,6,4,"ng-container",18),t.ALo(4,"async"),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("selectedIndex",t.lcZ(2,2,n.cs.selectTabIndex$)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(4,4,n.cs.dashboardTabs$))}}const ve=function(e){return{busy:e,message:"Loading..."}};function Ce(e,o){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,xe,5,6,"mat-tab-group",15),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngBusyWatch",t.VKq(1,ve,n.cs.isDataLoading$))}}function Te(e,o){1&e&&(t.TgZ(0,"div",27),t._UZ(1,"app-shared-loading"),t.qZA())}function De(e,o){1&e&&(t.TgZ(0,"div",27),t._UZ(1,"app-shared-loading",28),t.qZA()),2&e&&(t.xp6(1),t.Q6J("message","Graph"))}function Ze(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1," No data to show. "),t.qZA())}const Ae=["company","date","gain","loss","balance"];let be=(()=>{class e{constructor(n,i,a,r,c,g){this.neds=n,this.as=i,this.cs=a,this.router=r,this.route=c,this.fds=g,this.showGraph=Lt.N.showGraph,this.compDest$=new V.xQ}ngOnInit(){}ngAfterViewInit(){}onNewEntryClick(){this.as.fetchSilingCompanies();const n={amount:void 0,company:void 0,companies:this.as.getSilingCompanies$,companyLoading:this.as.getSilingCompanyLoading$,date:(new Date).getTime()};this.neds.getDialog(n).afterClosed().pipe((0,b.R)(this.compDest$)).subscribe(a=>{if(a&&a.amount&&a.company&&a.date){const c={amount:(0,C.G5)(a.amount),company:a.company.name.toLowerCase(),date:a.date.getTime(),id:void 0};this.cs.saveSilingEntry(c)}})}onTabChange(n){var i;const a=null!==(i=n.index)&&void 0!==i?i:0;this.router.navigate(["./"],{queryParams:{tabIndex:a}})}onRefresh(){this.cs.getSilingShowList()}onOpenFilters(){this.fds.getDialog({companiesLoading:this.as.getSilingCompanyLoading$,silingDataLoading:this.cs.isDataLoading$,options:Ae,filterData:[]}).afterClosed().pipe((0,b.R)(this.compDest$)).subscribe(a=>{console.log(a)})}onMenuSelected(n){var i,a,r,c,g;let l,f;n.option.id===T.UPDATE?(f=T.UPDATE,l=Object.assign(Object.assign({},{companies:this.as.getSilingCompanies$,companyLoading:this.as.getSilingCompanyLoading$}),{amount:null===(i=n.entry)||void 0===i?void 0:i.amount,company:null===(a=n.entry)||void 0===a?void 0:a.company,date:null!==(c=null===(r=n.entry)||void 0===r?void 0:r.date)&&void 0!==c?c:(new Date).getTime(),id:null===(g=n.entry)||void 0===g?void 0:g.id})):n.option.id===T.DELETE&&(f=T.DELETE),l&&f&&this.upsertSilingEntry(f,l)}upsertSilingEntry(n,i){let a;n===T.CREATE||n===T.UPDATE&&(a=this.neds.getDialog(i)),null==a||a.afterClosed().pipe((0,b.R)(this.compDest$)).subscribe(r=>{if(r&&r.amount&&r.company&&r.date){const g={amount:(0,C.G5)(r.amount),company:r.company.name.toLowerCase(),date:r.date.getTime(),id:i.id};n===T.CREATE?this.cs.saveSilingEntry(g):n===T.UPDATE&&this.cs.updateSilingData(g)}})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_t),t.Y36(ht.l),t.Y36(B),t.Y36(M.F0),t.Y36(M.gz),t.Y36(qn))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-home"]],viewQuery:function(n,i){if(1&n&&t.Gf(se,5),2&n){let a;t.iGM(a=t.CRH())&&(i.viewTabGroup=a.first)}},decls:34,vars:12,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"sticky-top","dashboard"],[1,""],["mat-button","","color","primary",3,"click"],[4,"ngIf"],[3,"summaryData","loading$"],["class","w-100","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],[4,"ngIf","ngIfElse"],["isLoading",""],["isChartLoading",""],["noDataShown",""],[1,"if"],["fxLayout","column","fxLayoutAlign","start center",1,"w-100"],[1,"chart-shell"],[1,"load-parent"],[3,"chartData"],["mat-align-tabs","center","animationDuration","0ms","class","pb-3 siling-tab-group",3,"selectedIndex","selectedTabChange",4,"ngBusyWatch"],["mat-align-tabs","center","animationDuration","0ms",1,"pb-3","siling-tab-group",3,"selectedIndex","selectedTabChange"],["tabGroup",""],[4,"ngFor","ngForOf"],[3,"label"],["mat-tab-label",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab-icon","mr-2"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","start start","fxLayoutAlign","start center","fxLayoutGap.gt-sm","10px","fxLayoutGap","5px",1,""],[1,"",3,"fxFlex"],[3,"silingCompanyId","silingData","menuSelect"],[1,"w-100"],[3,"message"]],template:function(n,i){if(1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return i.onNewEntryClick()}),t.TgZ(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t.TgZ(5,"span"),t._uU(6,"New entry"),t.qZA(),t.qZA(),t.TgZ(7,"button",2),t.NdJ("click",function(){return i.onRefresh()}),t.TgZ(8,"mat-icon"),t._uU(9,"refresh"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"Refresh"),t.qZA(),t.qZA(),t.TgZ(12,"button",2),t.NdJ("click",function(){return i.onOpenFilters()}),t.TgZ(13,"mat-icon"),t._uU(14,"filter_list"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"Filters"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div"),t.YNc(18,ce,4,4,"ng-container",3),t.ALo(19,"async"),t.qZA(),t.qZA(),t.TgZ(20,"section",1),t._UZ(21,"app-core-summary",4),t.ALo(22,"async"),t.qZA(),t._UZ(23,"hr"),t.YNc(24,pe,3,4,"section",5),t._UZ(25,"hr"),t.YNc(26,Ce,2,3,"div",6),t.ALo(27,"async"),t.YNc(28,Te,2,0,"ng-template",null,7,t.W1O),t.YNc(30,De,2,1,"ng-template",null,8,t.W1O),t.YNc(32,Ze,2,0,"ng-template",null,9,t.W1O)),2&n){const a=t.MAs(29);t.xp6(18),t.Q6J("ngIf",t.lcZ(19,6,i.cs.dataLastFetched$)),t.xp6(3),t.Q6J("summaryData",t.lcZ(22,8,i.cs.summary$))("loading$",i.cs.isDataLoading$),t.xp6(3),t.Q6J("ngIf",i.showGraph),t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(27,10,i.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",a)}},directives:[x.xw,x.Wh,G.lW,q.Hw,d.O5,Bn,Kn,Vn,Dt.i6,it.SP,d.sg,it.uX,it.uD,d.RF,d.n9,x.SQ,x.yH,re,nt.N],pipes:[d.Ov,H.o],styles:[".chart-shell[_ngcontent-%COMP%]{width:calc(100% - 10rem)}.chart-shell[_ngcontent-%COMP%]   .load-parent[_ngcontent-%COMP%]{height:9px;width:100%}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.sticky-top.dashboard[_ngcontent-%COMP%]{z-index:20;background-color:#fff;border-bottom:1px solid #eee}"]}),e})();var Ee=s(1439),Le=s(5257),we=s(9639),rt=s(755);const Fe=[{path:"",component:St,children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:be,data:{pageTitle:"Summary"}}],resolve:{resolverFired:(()=>{class e{constructor(n,i,a){this.cs=n,this.ss=i,this.ts=a,this.getCompaniesBeingDisplayedIds$=this.cs.getSilingShownIdsObs().pipe((0,W.b)(r=>{this.cs.getSilingDataByInsName(r)}))}resolve(n,i){return console.log("Running resolver..."),this.cs.silingData$.pipe((0,Le.q)(1),(0,D.U)(a=>{if(Object.keys(a).length>0)return console.log("Using existing data."),a;console.log("Fetching data.")}),(0,U.w)(a=>function(e,o=z.E,n=z.E){return(0,Ee.P)(()=>e()?o:n)}(()=>!!a,(0,K.of)(a),this.getCompaniesBeingDisplayedIds$)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(B),t.LFG(we.g),t.LFG(rt.M))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},runGuardsAndResolvers:"always"}];let Ne=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[M.Bz.forChild(Fe)],M.Bz]}),e})();var Ie=s(9773),Zt=s(5304),Oe=s(3511);let Pe=(()=>{class e{constructor(n){this.zs=n,this.zorroMsgList=[]}openLoadingToast(n,i){const r=this.zs.loading(n+" Please wait...",{nzDuration:i}).messageId;return i||this.zorroMsgList.push(r),i?null:r}removeMessagebyId(n){this.zs.remove(n);const i=this.zorroMsgList.findIndex(a=>a===n);i>-1&&this.zorroMsgList.splice(i,1)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(Oe.dD))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Qe=[(()=>{class e{constructor(n,i,a,r,c){this.actions$=n,this.ts=i,this.rs=a,this.cs=r,this.zs=c,this.saveSilingEntry$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(_.su),(0,Ie.zg)(g=>{const p=g.payload,l=this.rs.addEntryToCollection(p),f=Object.assign(Object.assign({},p),{id:l.id});return l.operationObs.then(m=>(this.ts.getSuccess("Entry added successfully."),_.Qm({payload:f,date:(new Date).getTime()}))).catch(m=>_.ZF({errMsg:m}))}))),this.getSilingToShowIds$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(_.qe),(0,U.w)(g=>{const p=this.zs.openLoadingToast("Fetching Siling data.");return this.cs.getSilingShownIdsObs().pipe((0,D.U)(l=>_.F3({names:l,toastId:p})),(0,Zt.K)(l=>(0,K.of)(_.Il({errMsg:l}))))}))),this.getSilingDataByNames$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(_.F3),(0,U.w)(g=>{const l={},f=g.toastId;return g.names.forEach(m=>{l[m]=this.rs.getDataByCollectionName(m)}),(0,yt.D)(l).pipe((0,D.U)(m=>(this.ts.getSnackbar("Fetched data successfully."),_.KH({payload:m,date:(new Date).getTime(),toastId:f}))),(0,Zt.K)(m=>(0,K.of)(_.ER({errMsg:m}))))}))),this.refreshData$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(_.Pd),(0,v.IC)(()=>this.cs.companiesShown$),(0,D.U)(g=>_.F3({names:g[1]})))),this.crudActionSuccess$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(_.KH),(0,W.b)(g=>{this.removeToastById(g.toastId)})),{dispatch:!1})}removeToastById(n){n&&this.zs.removeMessagebyId(n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(v.eX),t.LFG(rt.M),t.LFG(ot.v),t.LFG(B),t.LFG(Pe))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})()],Ue=(0,u.Lq)({entrySaveLoading:!1,entryApiErr:!1,entryToSave:void 0,entryApiErrMsg:void 0,silingDataBeingFetchedNames:[],silingDataErr:!1,silingDataLoading:!1,silingData:void 0,firstTimeLoading:!0,silingDataLastFetched:void 0},(0,u.on)(_.su,(e,{payload:o})=>Object.assign(Object.assign({},e),{entrySaveLoading:!0,entryToSave:o})),(0,u.on)(_.Qm,(e,{payload:o})=>Object.assign(Object.assign({},e),{entryApiErr:!1,entryApiErrMsg:void 0,entrySaveLoading:!1,entryToSave:o})),(0,u.on)(_.ZF,(e,{errMsg:o})=>Object.assign(Object.assign({},e),{entryApiErr:!0,entryApiErrMsg:o,entrySaveLoading:!1})),(0,u.on)(_.F3,(e,{names:o})=>Object.assign(Object.assign({},e),{silingDataBeingFetchedNames:o,silingDataLoading:!0})),(0,u.on)(_.KH,(e,{payload:o,date:n})=>Object.assign(Object.assign({},e),{silingDataLoading:!1,silingData:o,silingDataErrMsg:void 0,silingDataErr:!1,firstTimeLoading:!1,silingDataLastFetched:n})),(0,u.on)(_.ER,(e,{errMsg:o})=>Object.assign(Object.assign({},e),{silingDataLoading:!1,silingDataErrMsg:o,silingDataErr:!0,firstTimeLoading:!0}))),qe=(0,u.Lq)({allTabSelections:[{display:"Expanded View",id:"expandedView",index:0,tabIcon:"collections"},{display:"Compact View",id:"compactView",index:1,tabIcon:"table_chart"}],currentSelection:void 0},(0,u.on)(et,(e,{tabIndex:o})=>{let n;return e.allTabSelections&&(n=e.allTabSelections.find(i=>i.index+""===o)),Object.assign(Object.assign({},e),{currentSelection:n})}));var ke=s(9667),$e=s(5093);const Ge=[(()=>{class e{constructor(n,i,a,r){this.actions$=n,this.ts=i,this.rs=a,this.routerService=r,this.setTabSelection$=(0,v.GW)(()=>this.actions$.pipe((0,v.l4)(ke.CE),(0,v.IC)(()=>this.routerService.queryParams$),(0,D.U)(c=>{var g;const p=(null!==(g=c[1].tabIndex)&&void 0!==g?g:0)+"";return et({tabIndex:p})})),{dispatch:!0})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(v.eX),t.LFG(rt.M),t.LFG(ot.v),t.LFG($e.c))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})()];let Ye=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[_t],imports:[[Et.n,At.I,v.sQ.forFeature(Qe),v.sQ.forFeature(Ge),u.Aw.forFeature("dashboard",Ue),u.Aw.forFeature("dashboardUI",qe),Ne,bt.d,Dt.kh.forRoot({extraCssClass:"busy-css-class",message:"Loading Siling Data...",showSpinner:!0})]]}),e})()}}]);