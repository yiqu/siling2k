(self.webpackChunksiling2k=self.webpackChunksiling2k||[]).push([[611],{2497:(t,n,e)=>{"use strict";e.r(n),e.d(n,{CoreModule:()=>Fn});var i=e(8785),a=e(229),o=e(614),s=e(4933),r=e(5425),c=e(2852),l=e(5366);let g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-5","mt-3"]],template:function(t,n){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"router-outlet"),l.qZA())},directives:[c.lC],styles:[""]}),t})();var p=e(5959),u=e(8639),d=e(529),f=e(1041),h=e(2935),m=e(5416),x=e(3588),y=function(t){return t.TEXT_INPUT="TEXT_INPUT",t.SELECT_INPUT="SELECT_INPUT",t.DATE_INPUT="DATE_INPUT",t}({}),v=e(3936),Z=e(1293),A=e(5965),b=e(1116),L=e(4369),T=e(3070),w=e(9550),D=e(3841),C=e(7064),O=e(7307),N=e(9024),I=e(158);function _(t,n){1&t&&(l.ynx(0),l._uU(1," Editing Existing Entry "),l.BQk())}function q(t,n){1&t&&l._uU(0," New Siling1k Entry ")}function S(t,n){1&t&&(l.TgZ(0,"div",8),l._uU(1," Fix invalid inputs before saving. "),l.qZA())}function F(t,n){1&t&&(l.TgZ(0,"span",22),l._uU(1,"$\xa0"),l.qZA())}function Q(t,n){if(1&t&&(l.TgZ(0,"mat-hint",23),l._uU(1),l.ALo(2,"silingEntryTooltip"),l.qZA()),2&t){const t=l.oxw(2).$implicit;l.Q6J("id",null),l.xp6(1),l.hij(" ",l.xi3(2,2,t.controlName,!0)," ")}}function P(t,n){1&t&&(l.TgZ(0,"mat-error"),l._uU(1," Please enter a valid number! "),l.qZA())}function k(t,n){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"mat-form-field",17),l.TgZ(2,"mat-label"),l._uU(3),l.ALo(4,"silingEntryTooltip"),l.qZA(),l.TgZ(5,"input",18),l.NdJ("focus",function(){l.CHM(t);const n=l.oxw().$implicit;return l.oxw(2).onFocus(n.controlName)}),l.qZA(),l.YNc(6,F,2,0,"span",19),l.YNc(7,Q,3,5,"mat-hint",20),l.YNc(8,P,2,0,"mat-error",21),l.qZA(),l.BQk()}if(2&t){const t=l.oxw().$implicit,n=l.oxw(2);let e;l.xp6(3),l.Oqu(l.xi3(4,5,t.controlName,!0)),l.xp6(2),l.Q6J("formControlName",t.controlName),l.xp6(1),l.Q6J("ngIf","amount"===t.controlName),l.xp6(1),l.Q6J("ngIf",n.currentFocusControl===t.controlName),l.xp6(1),l.Q6J("ngIf",null==(e=n.entryFg.get(t.controlName))?null:e.hasError("optionalCommaSingleDecimalNumberOnly"))}}function U(t,n){if(1&t&&(l.TgZ(0,"mat-option",27),l.TgZ(1,"mat-icon"),l._uU(2,"account_balance"),l.qZA(),l._uU(3),l.ALo(4,"silingCompanyDisplay"),l.qZA()),2&t){const t=n.$implicit;l.Q6J("value",t),l.xp6(3),l.hij(" ",l.lcZ(4,2,t.name)," ")}}function E(t,n){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"mat-select",24),l.NdJ("focus",function(){l.CHM(t);const n=l.oxw(2).$implicit;return l.oxw(2).onFocus(n.controlName)}),l.TgZ(2,"mat-option"),l._uU(3,"None"),l.qZA(),l.YNc(4,U,5,4,"mat-option",25),l.TgZ(5,"mat-select-trigger"),l.TgZ(6,"div",26),l.TgZ(7,"mat-icon"),l._uU(8,"account_balance"),l.qZA(),l.TgZ(9,"div"),l._uU(10),l.ALo(11,"silingCompanyDisplay"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.BQk()}if(2&t){const t=n.ngIf,e=l.oxw(2).$implicit,i=l.oxw(2);let a;l.xp6(1),l.Q6J("formControlName",e.controlName),l.xp6(3),l.Q6J("ngForOf",t),l.xp6(6),l.hij(" ",l.lcZ(11,3,null==(a=i.entryFg.get("company"))||null==a.value?null:a.value.name)," ")}}function J(t,n){if(1&t&&(l.TgZ(0,"mat-hint",23),l._uU(1),l.ALo(2,"silingEntryTooltip"),l.qZA()),2&t){const t=l.oxw(2).$implicit;l.Q6J("id",null),l.xp6(1),l.hij(" ",l.xi3(2,2,t.controlName,!0)," ")}}function M(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"mat-form-field",17),l.TgZ(2,"mat-label"),l._uU(3),l.ALo(4,"silingEntryTooltip"),l.qZA(),l.YNc(5,E,12,5,"ng-container",21),l.ALo(6,"async"),l.YNc(7,J,3,5,"mat-hint",20),l.qZA(),l.BQk()),2&t){const t=l.oxw().$implicit,n=l.oxw(2);l.xp6(3),l.Oqu(l.xi3(4,3,t.controlName,!0)),l.xp6(2),l.Q6J("ngIf",l.lcZ(6,6,n.data.companies)),l.xp6(2),l.Q6J("ngIf",n.currentFocusControl===t.controlName)}}function $(t,n){if(1&t&&(l.TgZ(0,"mat-hint",23),l._uU(1),l.ALo(2,"silingEntryTooltip"),l.qZA()),2&t){const t=l.oxw(2).$implicit;l.Q6J("id",null),l.xp6(1),l.hij(" ",l.xi3(2,2,t.controlName,!0)," ")}}function Y(t,n){if(1&t){const t=l.EpF();l.ynx(0),l.TgZ(1,"mat-form-field",17),l.TgZ(2,"mat-label"),l._uU(3),l.ALo(4,"silingEntryTooltip"),l.qZA(),l.TgZ(5,"input",28),l.NdJ("focus",function(){l.CHM(t);const n=l.oxw().$implicit;return l.oxw(2).onFocus(n.controlName)}),l.qZA(),l._UZ(6,"mat-datepicker-toggle",29),l._UZ(7,"mat-datepicker",null,30),l.YNc(9,$,3,5,"mat-hint",20),l.qZA(),l.BQk()}if(2&t){const t=l.MAs(8),n=l.oxw().$implicit,e=l.oxw(2);l.xp6(3),l.Oqu(l.xi3(4,5,n.controlName,!0)),l.xp6(2),l.Q6J("matDatepicker",t)("formControlName",n.controlName),l.xp6(1),l.Q6J("for",t),l.xp6(3),l.Q6J("ngIf",e.currentFocusControl===n.controlName)}}function G(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"div"),l.ynx(2,15),l.YNc(3,k,9,8,"ng-container",16),l.YNc(4,M,8,8,"ng-container",16),l.YNc(5,Y,10,8,"ng-container",16),l.BQk(),l.qZA(),l.BQk()),2&t){const t=n.$implicit;l.xp6(2),l.Q6J("ngSwitch",t.inputType),l.xp6(1),l.Q6J("ngSwitchCase","TEXT_INPUT"),l.xp6(1),l.Q6J("ngSwitchCase","SELECT_INPUT"),l.xp6(1),l.Q6J("ngSwitchCase","DATE_INPUT")}}function j(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"div",31),l._uU(2),l.ALo(3,"titlecase"),l.qZA(),l.TgZ(4,"div",32),l._uU(5),l.ALo(6,"silingEntryTooltip"),l.qZA(),l.BQk()),2&t){const t=l.oxw(2);l.xp6(2),l.hij(" ",l.lcZ(3,2,t.currentFocusControl)," "),l.xp6(3),l.hij(" ",l.lcZ(6,4,t.currentFocusControl)," ")}}function B(t,n){1&t&&(l.TgZ(0,"div",33),l._uU(1," Enter the dollar amount for its institution. "),l.qZA())}function H(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"div",9),l.TgZ(2,"div",10),l.TgZ(3,"form",11),l.YNc(4,G,6,4,"ng-container",12),l.qZA(),l.TgZ(5,"div",13),l.YNc(6,j,7,6,"ng-container",1),l.YNc(7,B,2,0,"ng-template",null,14,l.W1O),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.MAs(8),n=l.oxw();l.xp6(3),l.Q6J("formGroup",n.entryFg),l.xp6(1),l.Q6J("ngForOf",n.entryFgStruct),l.xp6(2),l.Q6J("ngIf",n.currentFocusControl)("ngIfElse",t)}}function R(t,n){1&t&&(l.TgZ(0,"div"),l._uU(1," Loading... "),l.qZA())}const W=["company"],X=["date"],z=["companyLoading","companies"];let K=(()=>{class t{constructor(t,n,e){this.dialogRef=t,this.data=n,this.fb=e,this.entryFgStruct=[],this.compDest$=new p.xQ,this.entryFg=this.fb.group(this.createFormGroupObj(n)),this.entryFgStruct=this.createFgStructure(n)}get amountFc(){return this.entryFg.get("amount")}ngOnInit(){this.entryFg.valueChanges.pipe((0,m.R)(this.compDest$),(0,x.j)("amount")).subscribe(t=>{t&&this.amountFc.setValue((t+"").trim(),{emitEvent:!1})})}createFormGroupObj(t){return{company:u.j2(null==t?void 0:t.company,!1,[f.kI.required]),date:u.j2(new Date(null==t?void 0:t.date),!1,[f.kI.required]),amount:u.j2(null==t?void 0:t.amount,!1,[v.iN])}}createFgStructure(t){const n=[];let e=Object.keys(t);e.length<1&&(e=["company","date","amount"]);for(const i of e)if(z.indexOf(i)<0){let e=y.TEXT_INPUT;W.indexOf(i)>-1?e=y.SELECT_INPUT:X.indexOf(i)>-1&&(e=y.DATE_INPUT),n.push({controlName:i,inputType:e,value:t[i]})}return n}onFocus(t){this.currentFocusControl=t}onNoClick(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.entryFg.getRawValue())}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(h.so),l.Y36(h.WI),l.Y36(f.qu))},t.\u0275cmp=l.Xpm({type:t,selectors:[["new-siling1k-entry-dialog"]],decls:17,vars:8,consts:[["mat-dialog-title","","ngClass.gt-sm","big","fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between start",1,"mfont","my-2"],[4,"ngIf","ngIfElse"],["newEntry",""],["class","text-danger err-header",4,"ngIf"],["fxLayout","row","fxLayoutGap","1rem","fxLayoutAlign","end center"],["mat-flat-button","",3,"disabled","click"],["mat-flat-button","",3,"click"],["isLoading",""],[1,"text-danger","err-header"],["mat-dialog-content","",1,"content-parent"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","space-between start",1,"w-100"],["fxFlex.gt-sm","50",3,"formGroup"],[4,"ngFor","ngForOf"],["fxFlex","50","fxHide","","fxShow.gt-sm","",1,"tooltip-parent"],["noTooltip",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["appearance","standard",1,"w-100"],["type","text","matInput","",3,"formControlName","focus"],["matPrefix","",4,"ngIf"],[3,"id",4,"ngIf"],[4,"ngIf"],["matPrefix",""],[3,"id"],[3,"formControlName","focus"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","start end"],[3,"value"],["matInput","",3,"matDatepicker","formControlName","focus"],["matSuffix","",3,"for"],["picker",""],["fxLayout","row","fxLayoutAlign","start center",1,"font-weight-bold","subtitle","mfont","mb-2"],["fxLayout","row","fxLayoutAlign","start center",1,"roboto"],["fxLayout","column","fxLayoutAlign","center center"]],template:function(t,n){if(1&t&&(l.TgZ(0,"h1",0),l.TgZ(1,"div"),l.YNc(2,_,2,0,"ng-container",1),l.YNc(3,q,1,0,"ng-template",null,2,l.W1O),l.qZA(),l.YNc(5,S,2,0,"div",3),l.qZA(),l._UZ(6,"hr"),l.YNc(7,H,9,4,"ng-container",1),l.ALo(8,"async"),l._UZ(9,"hr"),l.TgZ(10,"div",4),l.TgZ(11,"button",5),l.NdJ("click",function(){return n.onSave()}),l._uU(12,"Save"),l.qZA(),l.TgZ(13,"button",6),l.NdJ("click",function(){return n.onNoClick()}),l._uU(14,"Cancel"),l.qZA(),l.qZA(),l.YNc(15,R,2,0,"ng-template",null,7,l.W1O)),2&t){const t=l.MAs(4),e=l.MAs(16);l.xp6(2),l.Q6J("ngIf",n.data.company)("ngIfElse",t),l.xp6(3),l.Q6J("ngIf",n.entryFg.touched&&n.entryFg.invalid),l.xp6(2),l.Q6J("ngIf",!1===l.lcZ(8,6,n.data.companyLoading))("ngIfElse",e),l.xp6(4),l.Q6J("disabled",n.entryFg.invalid)}},directives:[h.uh,Z.oO,A.xw,A.SQ,A.Wh,b.O5,L.lW,h.xY,f._Y,f.JL,A.yH,f.sg,b.sg,Z.b8,b.RF,b.n9,T.KE,T.hX,w.Nt,f.Fj,f.JJ,f.u,T.qo,T.bx,T.TO,D.gD,C.ey,D.$L,O.Hw,N.hl,N.nW,T.R9,N.Mq],pipes:[b.Ov,I.q,I.n,b.rS],styles:["h1[_ngcontent-%COMP%]{font-size:18px;font-weight:500}h1[_ngcontent-%COMP%]   .err-header[_ngcontent-%COMP%]{font-size:13px}.big[_ngcontent-%COMP%]{width:40rem}.tooltip-parent[_ngcontent-%COMP%]{width:23rem}"]}),t})(),V=(()=>{class t{constructor(t){this.dialog=t,this.dialogRef=void 0}getDialog(t){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(K,{data:Object.assign({},t),panelClass:"new-siling1k-entry",hasBackdrop:!0,autoFocus:!0,disableClose:!0}),this.dialogRef}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(h.uw))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();var tt=e(2523);const nt=(0,a.PH)("[Siling/API] Save entry start",(0,a.Ky)()),et=(0,a.PH)("[Siling/API] Save entry successful",(0,a.Ky)()),it=(0,a.PH)("[Siling/API] Save entry start failure",(0,a.Ky)()),at=(0,a.PH)("[Siling/API] Get siling data by ins. name start",(0,a.Ky)()),ot=(0,a.PH)("[Siling/API] Get siling data by ins. name successful",(0,a.Ky)()),st=(0,a.PH)("[Siling/API] Get siling data by ins. name failure",(0,a.Ky)()),rt=(0,a.PH)("[Siling/API] Refetch data"),ct=(0,a.ZF)("dashboard"),lt=(0,a.P1)(ct,t=>t.entrySaveLoading),gt=(0,a.P1)(ct,t=>t.firstTimeLoading&&t.silingDataLoading),pt=(0,a.P1)(ct,t=>t.silingDataLoading),ut=(0,a.P1)(ct,t=>t.silingDataLastFetched),dt=(0,a.P1)(ct,t=>{var n;return null!==(n=t.silingData)&&void 0!==n?n:{}}),ft=(0,a.P1)(ct,t=>t.silingDataBeingFetchedNames),ht=(0,a.P1)(ft,dt,(t,n)=>{const e=Object.keys(n),i={};let a=100;return e.length>0&&(a=Math.floor(100/e.length)),e.forEach((t,e)=>{const a=JSON.parse(JSON.stringify(n[t])).sort((t,n)=>t.date>n.date?1:-1),o=[];a.forEach((t,n,e)=>{const i=a[n-1];let s=0,r=0;i&&t&&(s=t.amount-i.amount,r=s/i.amount),o.push(Object.assign(Object.assign({},t),{profit:s,profitPercent:r}))});const s=JSON.parse(JSON.stringify(o));i[t]=s.reverse()}),{data:i,keys:t,flexNumber:a}}),mt=(0,a.P1)(ht,t=>{const n=[],e=[];t.keys.forEach(n=>{t.data&&t.data[n]&&t.data[n].forEach(t=>{e.push(t.date)})}),e.sort((t,n)=>t>n?1:-1);const i=new Set(e),a=Array.from(i);return t.keys.forEach(e=>{const i=(0,u.fm)(e),o={};t.data[e].forEach(t=>{o[t.date]=t.amount});const s=[];a.forEach((t,n)=>{s.push(void 0!==o[t]?+o[t]:NaN)});let r=[],c=0;a.forEach((t,n)=>{isNaN(s[n])?r.push(c):(c=s[n],r.push(s[n]))}),n.push({name:i,data:r})}),{series:n,chart:{type:"line",height:350,zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"},width:"100%"},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Siling Growth by Date",align:"left",style:{fontFamily:"Roboto"}},fill:{type:"gradient",gradient:{opacityFrom:.9,opacityTo:.9}},yaxis:{labels:{formatter:function(t){return t?"$"+(+t).toLocaleString(void 0):t+""}},title:{text:"$ Amount"}},xaxis:(o=a,{type:"datetime",categories:[...o]}),tooltip:{shared:!0,y:{formatter:function(t,n){return t?"$"+(0,u.gW)(t):t+""}}},legend:{show:!0,position:"top",horizontalAlign:"center",fontFamily:"Roboto",fontSize:"15px"},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}}};var o}),xt=(0,a.P1)(ht,t=>{let n={},e=0,i=0;return t.keys.forEach((a,o)=>{var s,r;if(t.data[a]){const c=JSON.parse(JSON.stringify(t.data[a]));c.sort((t,n)=>t.date>n.date?1:-1);const l=c[null!==(r=(null===(s=t.data[a])||void 0===s?void 0:s.length)-1)&&void 0!==r?r:0];0===o&&(i=l.date);let g=+(null==l?void 0:l.amount);g=isNaN(g)?0:g,n[a]=g,e+=g,i<(null==l?void 0:l.date)&&(i=l.date)}}),{sumAmount:n,lastUpdated:i,total:e}}),yt=(0,a.ZF)("dashboardUI"),vt=(0,a.P1)(yt,t=>t.currentSelection),Zt=(0,a.P1)(yt,t=>t.allTabSelections),At=(0,a.P1)(Zt,vt,(t,n)=>t&&n?t.findIndex(t=>t.id===n.id):0),bt=(0,a.PH)("[Siling/UI] Set dashboard view tab selection",(0,a.Ky)());var Lt=e(8811);let Tt=(()=>{class t{constructor(t,n){this.store=t,this.rs=n,this.isEntrySaveLoading$=this.store.select(lt),this.isDashboardDataFirstTimeLoading$=this.store.select(gt),this.isDataLoading$=this.store.select(pt),this.dashboardData$=this.store.select(ht),this.chartData$=this.store.select(mt),this.summary$=this.store.select(xt),this.selectTabIndex$=this.store.select(At),this.dashboardTabs$=this.store.select(Zt),this.silingData$=this.store.select(dt),this.dataLastFetched$=this.store.select(ut),this.companiesShown$=this.store.select(ft)}saveSilingEntry(t){this.store.dispatch(nt({payload:t}))}getSilingDataByInsName(t){t&&t.length>0&&this.store.dispatch(at({names:t}))}fetchSilingCompanies(){return this.rs.getCollection("settings/kqpro/companies/all")}fetchShowHideList(){return this.rs.getDocument("settings/kqpro/showHideList")}setTab(t){this.store.dispatch(bt({tabIndex:t}))}refreshData(){this.store.dispatch(rt())}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(a.yh),l.LFG(Lt.v))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var wt=e(4350),Dt=e(4312);function Ct(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"div",3),l.TgZ(2,"div",4),l.TgZ(3,"div",5),l._uU(4),l.ALo(5,"dateDisplay"),l.qZA(),l.qZA(),l.TgZ(6,"div",6),l.TgZ(7,"span",7),l._uU(8),l.ALo(9,"localeNumberDisplay"),l.qZA(),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw(3);l.xp6(3),l.Q6J("title","Last entry updated"),l.xp6(1),l.hij(" ",l.xi3(5,4,t.summaryData.lastUpdated,"MDYANDFROMNOW")," "),l.xp6(2),l.Q6J("title",t.summaryData.total),l.xp6(2),l.hij(" $ ",l.lcZ(9,7,t.summaryData.total)," ")}}function Ot(t,n){if(1&t&&(l.ynx(0),l.YNc(1,Ct,10,9,"ng-container",0),l.BQk()),2&t){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.summaryData)}}function Nt(t,n){if(1&t&&(l.ynx(0),l.YNc(1,Ot,2,1,"ng-container",2),l.ALo(2,"async"),l.BQk()),2&t){const t=l.oxw(),n=l.MAs(2);l.xp6(1),l.Q6J("ngIf",!1===l.lcZ(2,2,t.loading$))("ngIfElse",n)}}function It(t,n){1&t&&(l.TgZ(0,"div",8),l._uU(1," Calculating summary... "),l.qZA())}let _t=(()=>{class t{constructor(){this.summaryData=void 0}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core-summary"]],inputs:{summaryData:"summaryData",loading$:"loading$"},decls:3,vars:1,consts:[[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"roboto"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",1,"text-muted"],[3,"title"],[1,"total",3,"title"],[1,"green"],["fxLayout","row","fxLayoutAlign","center center"]],template:function(t,n){1&t&&(l.YNc(0,Nt,3,4,"ng-container",0),l.YNc(1,It,2,0,"ng-template",null,1,l.W1O)),2&t&&l.Q6J("ngIf",n.loading$)},directives:[b.O5,A.xw,A.Wh,A.SQ],pipes:[b.Ov,wt.o,Dt.i7],styles:[".total[_ngcontent-%COMP%]{font-weight:500;letter-spacing:1px}.green[_ngcontent-%COMP%]{color:#0c8d0c}"]}),t})();var qt=e(7173),St=e(6184);const Ft=["chart"];function Qt(t,n){if(1&t&&(l.ynx(0),l._UZ(1,"apx-chart",1,2),l.BQk()),2&t){const t=l.oxw();l.xp6(1),l.Q6J("series",t.apexSeries)("chart",t.apexChart)("dataLabels",t.apexDataLabels)("markers",t.apexMarkers)("title",t.apexTitle)("fill",t.apexFill)("yaxis",t.apexYAxis)("xaxis",t.apexXAxis)("tooltip",t.apexTooltip)("legend",t.apexLegend)("grid",t.apexGrid)}}let Pt=(()=>{class t{constructor(t){this.ngZone=t,this.chartData=void 0}ngOnChanges(){this.initChartData()}ngOnInit(){}initChartData(){var t,n,e,i,a,o,s,r,c,l,g,p,d,f,h,m,x;this.apexSeries?this.apexSeries&&(null===(n=this.chartData)||void 0===n?void 0:n.series)&&((0,u.cO)(this.apexSeries,null===(e=this.chartData)||void 0===e?void 0:e.series)||(this.apexSeries=null===(i=this.chartData)||void 0===i?void 0:i.series)):this.apexSeries=null===(t=this.chartData)||void 0===t?void 0:t.series,this.apexXAxis?this.apexXAxis&&(null===(o=this.chartData)||void 0===o?void 0:o.xaxis)&&((0,u.cO)(this.apexXAxis.categories,null===(s=this.chartData)||void 0===s?void 0:s.xaxis.categories)||(this.apexXAxis=null===(r=this.chartData)||void 0===r?void 0:r.xaxis)):this.apexXAxis=null===(a=this.chartData)||void 0===a?void 0:a.xaxis,this.apexChart||(this.apexChart=null===(c=this.chartData)||void 0===c?void 0:c.chart),this.apexDataLabels||(this.apexDataLabels=null===(l=this.chartData)||void 0===l?void 0:l.dataLabels),this.apexMarkers||(this.apexMarkers=null===(g=this.chartData)||void 0===g?void 0:g.markers),this.apexTitle||(this.apexTitle=null===(p=this.chartData)||void 0===p?void 0:p.title),this.apexFill||(this.apexFill=null===(d=this.chartData)||void 0===d?void 0:d.fill),this.apexYAxis||(this.apexYAxis=null===(f=this.chartData)||void 0===f?void 0:f.yaxis),this.apexTooltip||(this.apexTooltip=null===(h=this.chartData)||void 0===h?void 0:h.tooltip),this.apexLegend||(this.apexLegend=null===(m=this.chartData)||void 0===m?void 0:m.legend),this.apexGrid||(this.apexGrid=null===(x=this.chartData)||void 0===x?void 0:x.grid)}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-shared-line-chart"]],viewQuery:function(t,n){if(1&t&&l.Gf(Ft,5),2&t){let t;l.iGM(t=l.CRH())&&(n.chart=t.first)}},inputs:{chartData:"chartData"},features:[l.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","dataLabels","markers","title","fill","yaxis","xaxis","tooltip","legend","grid"],["chart",""]],template:function(t,n){1&t&&l.YNc(0,Qt,3,11,"ng-container",0),2&t&&l.Q6J("ngIf",n.apexSeries&&n.apexXAxis&&n.apexChart&&n.apexDataLabels&&n.apexMarkers&&n.apexTooltip&&n.apexTitle&&n.apexFill&&n.apexYAxis&&n.apexLegend&&n.apexGrid)},directives:[b.O5,St.x],styles:[""],changeDetection:0}),t})();var kt=e(2312);let Ut=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["shared-loading-bar"]],decls:2,vars:0,consts:[["mode","indeterminate"]],template:function(t,n){1&t&&(l.TgZ(0,"div"),l._UZ(1,"mat-progress-bar",0),l.qZA())},directives:[kt.pW],styles:[""]}),t})();var Et=e(4333);let Jt=(()=>{class t{constructor(){this.text=void 0}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-shared-popover"]],inputs:{text:"text"},decls:4,vars:6,consts:[["popoverPlacement","top-right",1,"popover-tooltip",3,"popover","popoverOnHover","popoverCloseOnClickOutside","popoverCloseOnMouseOutside","popoverDisabled","popoverAnimation"],[1,"parent"]],template:function(t,n){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"mat-icon"),l._uU(3,"help_outline"),l.qZA(),l.qZA(),l.qZA()),2&t&&l.Q6J("popover",n.text+"")("popoverOnHover",!1)("popoverCloseOnClickOutside",!0)("popoverCloseOnMouseOutside",!1)("popoverDisabled",!1)("popoverAnimation",!0)},directives:[Et.k5,O.Hw],styles:[".popover-tooltip[_ngcontent-%COMP%]{display:flex;cursor:pointer}.popover-tooltip[_ngcontent-%COMP%]:focus   mat-icon.mat-icon[_ngcontent-%COMP%], .popover-tooltip[_ngcontent-%COMP%]:hover   mat-icon.mat-icon[_ngcontent-%COMP%]{color:#000}mat-icon.mat-icon[_ngcontent-%COMP%]{color:#33333357;font-size:17px}.parent[_ngcontent-%COMP%]{height:19px}"]}),t})();const Mt=function(t){return{"border-btn-none":t,"list-group-item roboto":!0}};function $t(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"div",1),l.ALo(2,"profitGainBgClass"),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"div"),l._uU(6),l.ALo(7,"dateDisplay"),l.qZA(),l.TgZ(8,"div"),l._UZ(9,"app-shared-popover",4),l.qZA(),l.qZA(),l.TgZ(10,"div"),l._uU(11),l.ALo(12,"dateFromNow"),l.qZA(),l.qZA(),l.TgZ(13,"div",5),l.TgZ(14,"div",6),l._uU(15),l.ALo(16,"localeNumberDisplay"),l.qZA(),l.TgZ(17,"div",7),l.ALo(18,"numberGainClass"),l.TgZ(19,"div",8),l.TgZ(20,"mat-icon",9),l._uU(21),l.ALo(22,"profitPercentIconClass"),l.qZA(),l.qZA(),l.TgZ(23,"div"),l._uU(24),l.ALo(25,"profitPercent"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(26,"div",10),l._uU(27),l.ALo(28,"profit"),l.qZA(),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(1),l.Tol(l.lcZ(2,14,t.entryDetail.profitPercent)),l.Q6J("ngClass",l.VKq(31,Mt,t.isLast)),l.xp6(5),l.hij(" ",t.entryDetail.date?l.xi3(7,16,t.entryDetail.date,"MDY"):"NO DATE"," "),l.xp6(3),l.Q6J("text",t.entryDetail.date),l.xp6(2),l.hij(" ",l.lcZ(12,19,t.entryDetail.date)," "),l.xp6(4),l.hij(" $",l.lcZ(16,21,t.entryDetail.amount)," "),l.xp6(2),l.Tol("gains-rate numbers med-number spacing-half "+l.lcZ(18,23,t.entryDetail.profitPercent)),l.Q6J("title",t.entryDetail.profitPercent),l.xp6(4),l.Oqu(l.lcZ(22,25,t.entryDetail.profitPercent)),l.xp6(3),l.hij(" ",l.lcZ(25,27,t.entryDetail.profitPercent)," "),l.xp6(2),l.Q6J("title",t.entryDetail.profit),l.xp6(1),l.hij(" ",l.lcZ(28,29,t.entryDetail.profit)," ")}}let Yt=(()=>{class t{constructor(){this.entryDetail=void 0,this.isLast=!1}ngOnChanges(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core-siling-column-entry"]],inputs:{entryDetail:"entryDetail",isLast:"isLast"},features:[l.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","5px",3,"ngClass"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100","roboto","small-number","text-muted"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","5px",1,""],[3,"text"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","space-between center","fxLayoutAlign","start center",1,"w-100"],[1,"dollar-amount","numbers","med-number"],["fxLayout","row","fxLayoutAlign","start center",3,"title"],["fxLayout","column","fxLayoutAlign","center center"],[1,"med-number"],["fxLayout","row","fxLayoutAlign","start center",1,"text-muted","numbers","small-number","w-100",3,"title"]],template:function(t,n){1&t&&l.YNc(0,$t,29,33,"ng-container",0),2&t&&l.Q6J("ngIf",n.entryDetail)},directives:[b.O5,A.xw,A.Wh,A.SQ,b.mk,Z.oO,Jt,O.Hw],pipes:[Dt.PD,wt.o,wt.G,Dt.i7,Dt.qw,Dt.ZJ,Dt.pY,Dt.u],styles:[".gains-rate[_ngcontent-%COMP%]{text-align:right}.dollar-amount[_ngcontent-%COMP%]{text-align:left;padding-left:0;letter-spacing:.5px}.med-number[_ngcontent-%COMP%]{font-size:20px}.small-number[_ngcontent-%COMP%]{font-size:14px}.spacing-half[_ngcontent-%COMP%]{letter-spacing:.5px}.numbers[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:300}.positive[_ngcontent-%COMP%]{color:#00b33c}.negative[_ngcontent-%COMP%]{color:#b32400}.no-change[_ngcontent-%COMP%]{color:#888}.pos-bg[_ngcontent-%COMP%]{background-color:#e1f5e154}.neg-bg-1[_ngcontent-%COMP%]{background-color:#f7e5e536}.neg-bg-2[_ngcontent-%COMP%]{background-color:#f7e5e59e}.neg-bg-3[_ngcontent-%COMP%]{background-color:#f7e5e5d9}.no-change-bg[_ngcontent-%COMP%]{background-color:#cccccc0f}.border-btn-none[_ngcontent-%COMP%]{border-bottom:0}"],changeDetection:0}),t})();function Gt(t,n){if(1&t&&(l.ynx(0),l._UZ(1,"app-core-siling-column-entry",9),l.BQk()),2&t){const t=n.$implicit,e=n.last;l.xp6(1),l.Q6J("entryDetail",t)("isLast",e)}}function jt(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"ul",7),l.YNc(2,Gt,2,2,"ng-container",8),l.qZA(),l.BQk()),2&t){const t=l.oxw();l.xp6(2),l.Q6J("ngForOf",t.silingData)}}function Bt(t,n){1&t&&(l.TgZ(0,"div",10),l._uU(1," No data returned. "),l.qZA())}const Ht=function(t){return{"background-color":t}};let Rt=(()=>{class t{constructor(){this.silingCompanyId=void 0,this.silingData=[]}ngOnChanges(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core-siling-column"]],inputs:{silingCompanyId:"silingCompanyId",silingData:"silingData"},features:[l.TTD],decls:11,vars:9,consts:[[1,"card","text-left","border-secondary"],[1,"img-center","fixed-img-height"],["alt","SiLing Co. Img","onerror","this.src = 'assets/banner/bank5.jpg'",1,"card-img-top","img-fixed-height",3,"src","ngStyle"],[1,"card-header","header"],[1,"panel-header","page-anchor"],[4,"ngIf","ngIfElse"],["noData",""],[1,"list-group"],[4,"ngFor","ngForOf"],[3,"entryDetail","isLast"],["fxLayout","row","fxLayoutAlign","center center",1,"px-3","py-3"]],template:function(t,n){if(1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"div",3),l.TgZ(4,"span",4),l._uU(5),l.ALo(6,"titlecase"),l.qZA(),l.qZA(),l.TgZ(7,"div"),l.YNc(8,jt,3,1,"ng-container",5),l.YNc(9,Bt,2,0,"ng-template",null,6,l.W1O),l.qZA(),l.qZA()),2&t){const t=l.MAs(10);l.xp6(2),l.Q6J("src","assets/banner/"+n.silingCompanyId+".jpg",l.LSH)("ngStyle",l.VKq(7,Ht,"fidelity"===n.silingCompanyId?"#67941e":"#fff")),l.xp6(3),l.hij(" ",l.lcZ(6,5,n.silingCompanyId?n.silingCompanyId:"Unknown Siling ID")," "),l.xp6(3),l.Q6J("ngIf",n.silingData&&n.silingData.length>0)("ngIfElse",t)}},directives:[b.PC,Z.Zl,b.O5,b.sg,Yt,A.xw,A.Wh],pipes:[b.rS],styles:[".img-fixed-height[_ngcontent-%COMP%]{max-height:80px;max-width:300px}.img-center[_ngcontent-%COMP%]{text-align:center}.fid-background-green[_ngcontent-%COMP%]{background-color:#67941e}.panel-header[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:20px}.card-header.header[_ngcontent-%COMP%]{color:#8c8c8c}.fixed-img-height[_ngcontent-%COMP%]{height:5rem}"],changeDetection:0}),t})();var Wt=e(3817);const Xt=["tabGroup"];function zt(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"div",12),l._uU(2),l.ALo(3,"dateDisplay"),l.qZA(),l.BQk()),2&t){const t=n.ngIf;l.xp6(2),l.hij(" Last fetched: ",l.xi3(3,1,t,"FULLDATE")," ")}}function Kt(t,n){1&t&&(l.ynx(0),l._UZ(1,"shared-loading-bar"),l.BQk())}function Vt(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"div",15),l.TgZ(2,"div",16),l.YNc(3,Kt,2,0,"ng-container",3),l.ALo(4,"async"),l.qZA(),l._UZ(5,"app-shared-line-chart",17),l.ALo(6,"async"),l.qZA(),l.BQk()),2&t){const t=l.oxw(2);l.xp6(3),l.Q6J("ngIf",l.lcZ(4,2,t.cs.isDataLoading$)),l.xp6(2),l.Q6J("chartData",l.lcZ(6,4,t.cs.chartData$))}}function tn(t,n){if(1&t&&(l.TgZ(0,"section",13),l.YNc(1,Vt,7,6,"ng-container",14),l.ALo(2,"async"),l.qZA()),2&t){const t=l.oxw(),n=l.MAs(30);l.xp6(1),l.Q6J("ngIf",!1===l.lcZ(2,2,t.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",n)}}function nn(t,n){if(1&t&&(l.TgZ(0,"mat-icon",22),l._uU(1),l.qZA(),l._uU(2)),2&t){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.tabIcon),l.xp6(1),l.hij(" ",t.display," ")}}function en(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"div",24),l._UZ(2,"app-core-siling-column",25),l.qZA(),l.BQk()),2&t){const t=n.$implicit,e=l.oxw(2).ngIf;l.xp6(1),l.Q6J("fxFlex",e.flexNumber+"%"),l.xp6(1),l.Q6J("silingCompanyId",t)("silingData",e.data[t])}}function an(t,n){if(1&t&&(l.ynx(0),l.YNc(1,en,3,3,"ng-container",8),l.BQk()),2&t){const t=l.oxw().ngIf;l.xp6(1),l.Q6J("ngForOf",t.keys)}}function on(t,n){if(1&t&&(l.ynx(0),l.YNc(1,an,2,1,"ng-container",14),l.BQk()),2&t){const t=n.ngIf;l.oxw(4);const e=l.MAs(32);l.xp6(1),l.Q6J("ngIf",t.keys&&t.keys.length>0)("ngIfElse",e)}}function sn(t,n){if(1&t&&(l.ynx(0),l.YNc(1,on,2,2,"ng-container",3),l.ALo(2,"async"),l.BQk()),2&t){const t=l.oxw(3);l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,t.cs.dashboardData$))}}function rn(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"section",23),l.YNc(2,sn,3,3,"ng-container",14),l.ALo(3,"async"),l.qZA(),l.BQk()),2&t){const t=l.oxw(2),n=l.MAs(28);l.xp6(2),l.Q6J("ngIf",!1===l.lcZ(3,2,t.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",n)}}function cn(t,n){1&t&&(l.ynx(0),l._uU(1," Table "),l.BQk())}function ln(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"mat-tab",18),l.YNc(2,nn,3,2,"ng-template",19),l.ynx(3,20),l.YNc(4,rn,4,4,"ng-container",21),l.YNc(5,cn,2,0,"ng-container",21),l.BQk(),l.qZA(),l.BQk()),2&t){const t=n.$implicit;l.xp6(1),l.Q6J("label",t.display),l.xp6(2),l.Q6J("ngSwitch",t.id),l.xp6(1),l.Q6J("ngSwitchCase","expandedView"),l.xp6(1),l.Q6J("ngSwitchCase","compactView")}}function gn(t,n){1&t&&(l.TgZ(0,"div",26),l._UZ(1,"app-shared-loading"),l.qZA())}function pn(t,n){1&t&&(l.TgZ(0,"div",26),l._UZ(1,"app-shared-loading",27),l.qZA()),2&t&&(l.xp6(1),l.Q6J("message","Graph"))}function un(t,n){1&t&&(l.TgZ(0,"div"),l._uU(1," No data to show. "),l.qZA())}let dn=(()=>{class t{constructor(t,n,e,i,a){this.neds=t,this.as=n,this.cs=e,this.router=i,this.route=a,this.showGraph=d.N.showGraph,this.compDest$=new p.xQ}ngOnInit(){}ngAfterViewInit(){}onNewEntryClick(){this.as.fetchSilingCompanies();const t={amount:void 0,company:void 0,companies:this.as.getSilingCompanies$,companyLoading:this.as.getSilingCompanyLoading$,date:(new Date).getTime()};this.neds.getDialog(t).afterClosed().subscribe(t=>{if(t&&t.amount&&t.company&&t.date){const n={amount:(0,u.G5)(t.amount),company:t.company.name.toLowerCase(),date:t.date.getTime(),id:void 0};this.cs.saveSilingEntry(n)}})}onTabChange(t){var n;const e=null!==(n=t.index)&&void 0!==n?n:0;this.router.navigate(["./"],{queryParams:{tabIndex:e}})}onRefresh(){this.cs.refreshData()}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return t.\u0275fac=function(n){return new(n||t)(l.Y36(V),l.Y36(tt.l),l.Y36(Tt),l.Y36(c.F0),l.Y36(c.gz))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-core-home"]],viewQuery:function(t,n){if(1&t&&l.Gf(Xt,5),2&t){let t;l.iGM(t=l.CRH())&&(n.viewTabGroup=t.first)}},decls:33,vars:14,consts:[["fxLayout","row","fxLayoutAlign","space-between center"],[1,""],["mat-button","","color","primary",3,"click"],[4,"ngIf"],[3,"summaryData","loading$"],["class","w-100","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],["mat-align-tabs","center","animationDuration","0ms",1,"pb-3","siling-tab-group",3,"selectedIndex","selectedTabChange"],["tabGroup",""],[4,"ngFor","ngForOf"],["isLoading",""],["isChartLoading",""],["noDataShown",""],[1,"if"],["fxLayout","column","fxLayoutAlign","start center",1,"w-100"],[4,"ngIf","ngIfElse"],[1,"chart-shell"],[1,"load-parent"],[3,"chartData"],[3,"label"],["mat-tab-label",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab-icon","mr-2"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","center start","fxLayoutAlign","start center","fxLayoutGap.gt-sm","10px","fxLayoutGap","5px",1,""],[1,"",3,"fxFlex"],[3,"silingCompanyId","silingData"],[1,"w-100"],[3,"message"]],template:function(t,n){1&t&&(l.TgZ(0,"section",0),l.TgZ(1,"div",1),l.TgZ(2,"button",2),l.NdJ("click",function(){return n.onNewEntryClick()}),l.TgZ(3,"mat-icon"),l._uU(4,"add"),l.qZA(),l.TgZ(5,"span"),l._uU(6," New "),l.qZA(),l.qZA(),l.TgZ(7,"button",2),l.NdJ("click",function(){return n.onRefresh()}),l.TgZ(8,"mat-icon"),l._uU(9,"refresh"),l.qZA(),l.TgZ(10,"span"),l._uU(11,"Refresh"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"div"),l.YNc(13,zt,4,4,"ng-container",3),l.ALo(14,"async"),l.qZA(),l.qZA(),l._UZ(15,"hr"),l.TgZ(16,"section",1),l._UZ(17,"app-core-summary",4),l.ALo(18,"async"),l.qZA(),l._UZ(19,"hr"),l.YNc(20,tn,3,4,"section",5),l._UZ(21,"hr"),l.TgZ(22,"mat-tab-group",6,7),l.NdJ("selectedTabChange",function(t){return n.onTabChange(t)}),l.ALo(24,"async"),l.YNc(25,ln,6,4,"ng-container",8),l.ALo(26,"async"),l.qZA(),l.YNc(27,gn,2,0,"ng-template",null,9,l.W1O),l.YNc(29,pn,2,1,"ng-template",null,10,l.W1O),l.YNc(31,un,2,0,"ng-template",null,11,l.W1O)),2&t&&(l.xp6(13),l.Q6J("ngIf",l.lcZ(14,6,n.cs.dataLastFetched$)),l.xp6(4),l.Q6J("summaryData",l.lcZ(18,8,n.cs.summary$))("loading$",n.cs.isDataLoading$),l.xp6(3),l.Q6J("ngIf",n.showGraph),l.xp6(2),l.Q6J("selectedIndex",l.lcZ(24,10,n.cs.selectTabIndex$)),l.xp6(3),l.Q6J("ngForOf",l.lcZ(26,12,n.cs.dashboardTabs$)))},directives:[A.xw,A.Wh,L.lW,O.Hw,b.O5,_t,qt.SP,b.sg,Pt,Ut,qt.uX,qt.uD,b.RF,b.n9,A.SQ,A.yH,Rt,Wt.N],pipes:[b.Ov,wt.o],styles:[".chart-shell[_ngcontent-%COMP%]{width:calc(100% - 10rem)}.chart-shell[_ngcontent-%COMP%]   .load-parent[_ngcontent-%COMP%]{height:5px}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}"]}),t})();var fn=e(3148),hn=e(1450),mn=e(653),xn=e(878),yn=e(611),vn=e(4019),Zn=e(9996),An=e(4689),bn=e(9223),Ln=e(1447);const Tn=[{path:"",component:g,children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:dn,data:{pageTitle:"Summary"}}],resolve:{resolverFired:(()=>{class t{constructor(t,n,e){this.cs=t,this.ss=n,this.ts=e,this.getCompaniesBeingDisplayed$=(0,fn.D)({allCompanies:this.cs.fetchSilingCompanies(),showHideList:this.cs.fetchShowHideList()}).pipe((0,yn.q)(1),(0,vn.b)(t=>{const n=[];let e=[],i=[];t.showHideList&&t.showHideList.hiding&&t.showHideList.hiding.length>-1&&(e=t.showHideList.hiding),t.showHideList&&t.showHideList.showing&&t.showHideList.showing.length>-1&&(i=t.showHideList.showing),t.allCompanies.forEach(t=>{e.findIndex(n=>n.name===t.name)<0&&n.push(t)}),n.sort((t,n)=>i.findIndex(n=>n.id===t.id)>i.findIndex(t=>t.id===n.id)?1:-1);const a=n.map(t=>t.name.toLowerCase());this.cs.getSilingDataByInsName(a)}))}resolve(t,n){return console.log("Running resolver..."),this.cs.silingData$.pipe((0,yn.q)(1),(0,Zn.U)(t=>{if(Object.keys(t).length>0)return console.log("Using existing data."),t}),(0,An.w)(t=>function(t,n=mn.E,e=mn.E){return(0,hn.P)(()=>t()?n:e)}(()=>!!t,(0,xn.of)(t),this.getCompaniesBeingDisplayed$)))}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(Tt),l.LFG(bn.g),l.LFG(Ln.M))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},runGuardsAndResolvers:"always"}];let wn=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[c.Bz.forChild(Tn)],c.Bz]}),t})();var Dn=e(3982),Cn=e(7727);const On=[(()=>{class t{constructor(t,n,e,a){this.actions$=t,this.ts=n,this.rs=e,this.cs=a,this.saveSilingEntry$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(nt),(0,Dn.zg)(t=>{const n=t.payload,e=this.rs.addEntryToCollection(n),i=Object.assign(Object.assign({},n),{id:e.id});return e.operationObs.then(t=>(this.ts.getSuccess("Entry added successfully."),et({payload:i,date:(new Date).getTime()}))).catch(t=>it({errMsg:t}))}))),this.getSilingDataByNames$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(at),(0,An.w)(t=>{const n={};return t.names.forEach(t=>{n[t]=this.rs.getDataByCollectionName(t)}),(0,fn.D)(n).pipe((0,Zn.U)(t=>(this.ts.getSnackbar("Fetched data successfully."),ot({payload:t,date:(new Date).getTime()}))),(0,Cn.K)(t=>(0,xn.of)(st({errMsg:t}))))}))),this.refreshData$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(rt),(0,i.IC)(()=>this.cs.companiesShown$),(0,Zn.U)(t=>at({names:t[1]}))))}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(i.eX),l.LFG(Ln.M),l.LFG(Lt.v),l.LFG(Tt))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})()],Nn=(0,a.Lq)({entrySaveLoading:!1,entryApiErr:!1,entryToSave:void 0,entryApiErrMsg:void 0,silingDataBeingFetchedNames:[],silingDataErr:!1,silingDataLoading:!1,silingData:void 0,firstTimeLoading:!0,silingDataLastFetched:void 0},(0,a.on)(nt,(t,{payload:n})=>Object.assign(Object.assign({},t),{entrySaveLoading:!0,entryToSave:n})),(0,a.on)(et,(t,{payload:n})=>Object.assign(Object.assign({},t),{entryApiErr:!1,entryApiErrMsg:void 0,entrySaveLoading:!1,entryToSave:n})),(0,a.on)(it,(t,{errMsg:n})=>Object.assign(Object.assign({},t),{entryApiErr:!0,entryApiErrMsg:n,entrySaveLoading:!1})),(0,a.on)(at,(t,{names:n})=>Object.assign(Object.assign({},t),{silingDataBeingFetchedNames:n,silingDataLoading:!0})),(0,a.on)(ot,(t,{payload:n,date:e})=>Object.assign(Object.assign({},t),{silingDataLoading:!1,silingData:n,silingDataErrMsg:void 0,silingDataErr:!1,firstTimeLoading:!1,silingDataLastFetched:e})),(0,a.on)(st,(t,{errMsg:n})=>Object.assign(Object.assign({},t),{silingDataLoading:!1,silingDataErrMsg:n,silingDataErr:!0,firstTimeLoading:!0}))),In=(0,a.Lq)({allTabSelections:[{display:"Expanded View",id:"expandedView",index:0,tabIcon:"collections"},{display:"Compact View",id:"compactView",index:1,tabIcon:"table_chart"}],currentSelection:void 0},(0,a.on)(bt,(t,{tabIndex:n})=>{let e;return t.allTabSelections&&(e=t.allTabSelections.find(t=>t.index+""===n)),Object.assign(Object.assign({},t),{currentSelection:e})}));var _n=e(3884),qn=e(2718);const Sn=[(()=>{class t{constructor(t,n,e,a){this.actions$=t,this.ts=n,this.rs=e,this.routerService=a,this.setTabSelection$=(0,i.GW)(()=>this.actions$.pipe((0,i.l4)(_n.CE),(0,i.IC)(()=>this.routerService.queryParams$),(0,Zn.U)(t=>{var n;const e=(null!==(n=t[1].tabIndex)&&void 0!==n?n:0)+"";return bt({tabIndex:e})})),{dispatch:!0})}}return t.\u0275fac=function(n){return new(n||t)(l.LFG(i.eX),l.LFG(Ln.M),l.LFG(Lt.v),l.LFG(qn.c))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})()];let Fn=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[V],imports:[[r.n,o.I,i.sQ.forFeature(On),i.sQ.forFeature(Sn),a.Aw.forFeature("dashboard",Nn),a.Aw.forFeature("dashboardUI",In),wn,s.d]]}),t})()}}]);