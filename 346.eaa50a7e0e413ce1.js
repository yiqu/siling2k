"use strict";(self.webpackChunksiling2k=self.webpackChunksiling2k||[]).push([[346],{346:(eo,rt,s)=>{s.r(rt),s.d(rt,{CoreModule:()=>no});var x=s(2682),c=s(5094),Et=s(61),Lt=s(7462),wt=s(4466),P=s(9291),t=s(5e3);let Ft=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core"]],decls:2,vars:0,consts:[[1,"container-fluid","mb-5"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},directives:[P.lC],styles:[""]}),e})();var H=s(7579),Z=s(2722),v=s(105),Nt=s(2340),d=s(3075),E=s(8966),st=s(515),It=s(4813),C=s(4004),Q=s(3900),ct=s(8505),D=(()=>{return(e=D||(D={})).TEXT_INPUT="TEXT_INPUT",e.SELECT_INPUT="SELECT_INPUT",e.DATE_INPUT="DATE_INPUT",e.CHECK_INPUT="CHECK_INPUT",D;var e})(),U=(()=>{return(e=U||(U={})).ENTER="Enter",e.ESCAPE="Escape",U;var e})(),lt=s(8402),M=s(3322),gt=s(4439),h=s(7093),m=s(9808),K=s(7423),J=s(5245),T=s(3489),pt=s(7531),Ot=s(7446),V=s(4107),ut=s(508),W=s(6856),X=s(3617),mt=s(1130);function Pt(e,o){1&e&&(t.ynx(0),t._uU(1," Editing Existing Entry "),t.BQk())}function Qt(e,o){1&e&&t._uU(0," New Siling1k Entry ")}function Ut(e,o){1&e&&(t.TgZ(0,"span",26),t._uU(1,"$\xa0"),t.qZA())}function Jt(e,o){if(1&e&&(t.TgZ(0,"mat-hint",27),t._uU(1),t.ALo(2,"silingEntryTooltip"),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.Q6J("id",null),t.xp6(1),t.hij(" ",t.xi3(2,2,n.controlName,!0)," ")}}function qt(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid number! "),t.qZA())}function Gt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.TgZ(5,"input",22),t.NdJ("focus",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(2).onFocus(a.controlName)}),t.qZA(),t.YNc(6,Ut,2,0,"span",23),t.YNc(7,Jt,3,5,"mat-hint",24),t.YNc(8,qt,2,0,"mat-error",25),t.qZA(),t.BQk()}if(2&e){const n=t.oxw().$implicit,i=t.oxw(2);let a;t.xp6(3),t.Oqu(t.xi3(4,5,n.controlName,!0)),t.xp6(2),t.Q6J("formControlName",n.controlName),t.xp6(1),t.Q6J("ngIf","amount"===n.controlName),t.xp6(1),t.Q6J("ngIf",i.currentFocusControl===n.controlName),t.xp6(1),t.Q6J("ngIf",null==(a=i.entryFormGroup.get(n.controlName))?null:a.hasError("optionalCommaSingleDecimalNumberOnly"))}}function Mt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",28),t.TgZ(2,"mat-checkbox",29),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("formControlName",n.controlName),t.xp6(1),t.hij(" ",t.lcZ(4,2,n.controlName)," ")}}function kt(e,o){if(1&e&&(t.TgZ(0,"mat-option",33),t.TgZ(1,"mat-icon"),t._uU(2,"account_balance"),t.qZA(),t._uU(3),t.ALo(4,"silingCompanyDisplay"),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(3),t.hij(" ",t.lcZ(4,2,n.name)," ")}}function Yt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-select",30),t.NdJ("focus",function(){t.CHM(n);const a=t.oxw(2).$implicit;return t.oxw(2).onFocus(a.controlName)}),t.TgZ(2,"mat-option"),t._uU(3,"None"),t.qZA(),t.YNc(4,kt,5,4,"mat-option",31),t.TgZ(5,"mat-select-trigger"),t.TgZ(6,"div",32),t.TgZ(7,"mat-icon"),t._uU(8,"account_balance"),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.ALo(11,"silingCompanyDisplay"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=o.ngIf,i=t.oxw(2).$implicit,a=t.oxw(2);let r;t.xp6(1),t.Q6J("formControlName",i.controlName),t.xp6(3),t.Q6J("ngForOf",n),t.xp6(6),t.hij(" ",t.lcZ(11,3,null==(r=a.entryFormGroup.get("company"))||null==r.value?null:r.value.name)," ")}}function $t(e,o){if(1&e&&(t.TgZ(0,"mat-hint",27),t._uU(1),t.ALo(2,"silingEntryTooltip"),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.Q6J("id",null),t.xp6(1),t.hij(" ",t.xi3(2,2,n.controlName,!0)," ")}}function Bt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.YNc(5,Yt,12,5,"ng-container",25),t.ALo(6,"async"),t.YNc(7,$t,3,5,"mat-hint",24),t.qZA(),t.BQk()),2&e){const n=t.oxw().$implicit,i=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,3,n.controlName,!0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,6,i.data.companies)),t.xp6(2),t.Q6J("ngIf",i.currentFocusControl===n.controlName)}}function Rt(e,o){if(1&e&&(t.TgZ(0,"mat-hint",27),t._uU(1),t.ALo(2,"silingEntryTooltip"),t.qZA()),2&e){const n=t.oxw(2).$implicit;t.Q6J("id",null),t.xp6(1),t.hij(" ",t.xi3(2,2,n.controlName,!0)," ")}}function jt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field",21),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"silingEntryTooltip"),t.qZA(),t.TgZ(5,"input",34),t.NdJ("focus",function(){t.CHM(n);const a=t.oxw().$implicit;return t.oxw(2).onFocus(a.controlName)}),t.qZA(),t._UZ(6,"mat-datepicker-toggle",35),t._UZ(7,"mat-datepicker",null,36),t.YNc(9,Rt,3,5,"mat-hint",24),t.qZA(),t.BQk()}if(2&e){const n=t.MAs(8),i=t.oxw().$implicit,a=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,5,i.controlName,!0)),t.xp6(2),t.Q6J("matDatepicker",n)("formControlName",i.controlName),t.xp6(1),t.Q6J("for",n),t.xp6(3),t.Q6J("ngIf",a.currentFocusControl===i.controlName)}}function Ht(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div"),t.ynx(2,19),t.YNc(3,Gt,9,8,"ng-container",20),t.YNc(4,Mt,5,4,"ng-container",20),t.YNc(5,Bt,8,8,"ng-container",20),t.YNc(6,jt,10,8,"ng-container",20),t.BQk(),t.qZA(),t.BQk()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("ngSwitch",n.inputType),t.xp6(1),t.Q6J("ngSwitchCase","TEXT_INPUT"),t.xp6(1),t.Q6J("ngSwitchCase","CHECK_INPUT"),t.xp6(1),t.Q6J("ngSwitchCase","SELECT_INPUT"),t.xp6(1),t.Q6J("ngSwitchCase","DATE_INPUT")}}function Kt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",37),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div",38),t._uU(5),t.ALo(6,"silingEntryTooltip"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,n.currentFocusControl)," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,n.currentFocusControl)," ")}}function Vt(e,o){1&e&&(t.TgZ(0,"div",39),t._uU(1," Enter the dollar amount for its institution. "),t.qZA())}function Wt(e,o){1&e&&(t.TgZ(0,"div",40),t._uU(1," Fix invalid inputs before saving. "),t.qZA())}function Xt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t.TgZ(3,"form",9),t.YNc(4,Ht,7,5,"ng-container",10),t.qZA(),t.TgZ(5,"div",11),t.YNc(6,Kt,7,6,"ng-container",3),t.YNc(7,Vt,2,0,"ng-template",null,12,t.W1O),t.qZA(),t.qZA(),t.qZA(),t._UZ(9,"hr"),t.TgZ(10,"div",13),t.TgZ(11,"div",14),t.YNc(12,Wt,2,0,"div",15),t.qZA(),t.TgZ(13,"div",16),t.TgZ(14,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw().onNoClick()}),t.TgZ(15,"mat-icon"),t._uU(16,"close"),t.qZA(),t._uU(17," Cancel "),t.qZA(),t.TgZ(18,"button",18),t.NdJ("click",function(){return t.CHM(n),t.oxw().onSave()}),t.TgZ(19,"mat-icon"),t._uU(20,"save"),t.qZA(),t._uU(21," Save "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=t.MAs(8),i=t.oxw();t.xp6(3),t.Q6J("formGroup",i.entryFormGroup),t.xp6(1),t.Q6J("ngForOf",i.entryFormGroupStruct),t.xp6(2),t.Q6J("ngIf",i.currentFocusControl)("ngIfElse",n),t.xp6(6),t.Q6J("ngIf",i.entryFormGroup.touched&&i.entryFormGroup.invalid),t.xp6(6),t.Q6J("disabled",i.entryFormGroup.invalid)}}function zt(e,o){1&e&&(t.TgZ(0,"div",41),t._UZ(1,"app-shared-loading",42),t.qZA()),2&e&&(t.xp6(1),t.Q6J("message","institutions"))}const tn=["company"],nn=["date"],en=["updateDate"];let on=(()=>{class e{constructor(n,i,a){this.dialogRef=n,this.data=i,this.fb=a,this.entryFormGroupStruct=[],this.compDest$=new H.x,this.entryFormGroup=this.fb.group(this.createFormGroup(i))}get amountControl(){return this.entryFormGroup.get("amount")}ngOnInit(){this.entryFormGroupStruct=[],this.updateFormGroupStruct("amount",!0),this.entryFormGroup.valueChanges.pipe((0,Z.R)(this.compDest$),(0,It.j)("amount")).subscribe(n=>{n&&this.amountControl.setValue((n+"").trim(),{emitEvent:!1})}),this.amountControl.valueChanges.pipe((0,Z.R)(this.compDest$),(0,C.U)(n=>!(!n||""===(n+"").trim())&&(this.entryFormGroup.get("company")||(this.entryFormGroup.addControl("company",v.j2(void 0,!1,[d.kI.required]),{emitEvent:!1}),this.updateFormGroupStruct("company",!0)),this.entryFormGroup.get("company"))),(0,Q.w)(n=>n?n.valueChanges.pipe((0,Z.R)(this.compDest$),(0,C.U)(i=>!!i&&(this.entryFormGroup.get("updateDate")||(this.entryFormGroup.addControl("updateDate",v.j2(!1,!1),{emitEvent:!1}),this.updateFormGroupStruct("updateDate",!0)),this.entryFormGroup.get("updateDate"))),(0,Q.w)(i=>i?i.valueChanges.pipe((0,Z.R)(this.compDest$),(0,ct.b)(a=>{a?this.entryFormGroup.get("date")||(this.entryFormGroup.addControl("date",v.j2(void 0,!1,[d.kI.required])),this.updateFormGroupStruct("date",!0)):(this.entryFormGroup.removeControl("date",{emitEvent:!1}),this.updateFormGroupStruct("date",!1))})):st.E)):st.E)).subscribe()}createFormGroup(n){return{amount:v.j2(n.amount,!1,[lt.iN])}}updateFormGroupStruct(n,i){if(i){let a=D.TEXT_INPUT;tn.indexOf(n)>-1?a=D.SELECT_INPUT:nn.indexOf(n)>-1?a=D.DATE_INPUT:en.indexOf(n)>-1&&(a=D.CHECK_INPUT),this.entryFormGroupStruct.push({controlName:n,inputType:a,value:this.data[n]})}else{const a=this.entryFormGroupStruct.findIndex(r=>r.controlName===n);this.entryFormGroupStruct.splice(a,1)}}onFocus(n){this.currentFocusControl=n}onNoClick(){this.dialogRef.close()}onSave(){let n=this.entryFormGroup.getRawValue();(!1===n.updateDate||!n.date)&&(n=Object.assign(Object.assign({},n),{date:new Date})),this.dialogRef.close(n)}onKeyEventt(n){n.key===U.ENTER&&this.entryFormGroup.valid&&this.onSave()}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(E.so),t.Y36(E.WI),t.Y36(d.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["new-siling1k-entry-dialog"]],decls:15,vars:6,consts:[["ngClass.gt-sm","big",1,"w-100",3,"ngxKeyEvent"],["fxLayout","row","fxLayoutAlign","space-between center",1,"if","title-bar-bg","title","w-100"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","15px"],[4,"ngIf","ngIfElse"],["newEntry",""],["mat-icon-button","","color","warn",3,"click"],["isLoading",""],[1,"container","pt-3"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","space-between start",1,"w-100"],["fxFlex.gt-sm","50",3,"formGroup"],[4,"ngFor","ngForOf"],["fxFlex","50","fxHide","","fxShow.gt-sm","",1,"tooltip-parent"],["noTooltip",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"action-bar","mx-3"],[1,"error-msg"],["class","text-danger err-header",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","15px"],["mat-stroked-button","","color","warn",3,"click"],["mat-stroked-button","",3,"disabled","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["appearance","standard",1,"w-100"],["type","text","matInput","",3,"formControlName","focus"],["matPrefix","",4,"ngIf"],[3,"id",4,"ngIf"],[4,"ngIf"],["matPrefix",""],[3,"id"],[1,"mt-1"],["color","primary",1,"",3,"formControlName"],[3,"formControlName","focus"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutGap","5px","fxLayoutAlign","start end"],[3,"value"],["matInput","",3,"matDatepicker","formControlName","focus"],["matSuffix","",3,"for"],["picker",""],["fxLayout","row","fxLayoutAlign","start center",1,"font-weight-bold","subtitle","mfont","mb-2"],["fxLayout","row","fxLayoutAlign","start center",1,"roboto"],["fxLayout","column","fxLayoutAlign","center center"],[1,"text-danger","err-header"],[1,"my-3"],[3,"message"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("ngxKeyEvent",function(r){return i.onKeyEventt(r)}),t.TgZ(1,"section",1),t.TgZ(2,"div",2),t.TgZ(3,"div"),t.YNc(4,Pt,2,0,"ng-container",3),t.YNc(5,Qt,1,0,"ng-template",null,4,t.W1O),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.TgZ(8,"button",5),t.NdJ("click",function(){return i.onNoClick()}),t.TgZ(9,"mat-icon"),t._uU(10,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(11,Xt,22,6,"ng-container",3),t.ALo(12,"async"),t.YNc(13,zt,2,1,"ng-template",null,6,t.W1O)),2&n){const a=t.MAs(6),r=t.MAs(14);t.xp6(4),t.Q6J("ngIf",i.data.company)("ngIfElse",a),t.xp6(7),t.Q6J("ngIf",!1===t.lcZ(12,4,i.data.companyLoading))("ngIfElse",r)}},directives:[M.oO,gt.pb,h.xw,h.Wh,h.SQ,m.O5,K.lW,J.Hw,d._Y,d.JL,h.yH,d.sg,m.sg,M.b8,m.RF,m.n9,T.KE,T.hX,pt.Nt,d.Fj,d.JJ,d.u,T.qo,T.bx,T.TO,Ot.oG,V.gD,ut.ey,V.$L,W.hl,W.nW,T.R9,W.Mq,X.N],pipes:[m.Ov,mt.q,mt.n,m.rS],styles:[".big[_ngcontent-%COMP%]{width:40rem}.tooltip-parent[_ngcontent-%COMP%]{width:23rem}.action-bar[_ngcontent-%COMP%]{margin-bottom:10px}.action-bar[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{min-width:10px}"]}),e})(),ft=(()=>{class e{constructor(n){this.dialog=n,this.dialogRef=void 0}getDialog(n){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(on,{data:Object.assign({},n),panelClass:"new-siling1k-entry",hasBackdrop:!0,autoFocus:!1,disableClose:!1,width:"calc(100% - 30rem)"}),this.dialogRef}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(E.uw))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var dt=s(8734),_t=s(4128);const z=(0,c.PH)("[Siling/API] Save entry start",(0,c.Ky)()),ht=(0,c.PH)("[Siling/API] Save entry successful",(0,c.Ky)()),yt=(0,c.PH)("[Siling/API] Save entry start failure",(0,c.Ky)()),q=(0,c.PH)("[Siling/API] Get siling data by ins. name start",(0,c.Ky)()),xt=(0,c.PH)("[Siling/API] Get siling data by ins. name successful",(0,c.Ky)()),vt=(0,c.PH)("[Siling/API] Get siling data by ins. name failure",(0,c.Ky)()),Ct=(0,c.PH)("[Siling/API] Refetch data"),Tt=(0,c.PH)("[Siling/API] Get siling all co. and companies to show info start"),dn=((0,c.PH)("[Siling/API] Get siling all co. and companies to show info successful",(0,c.Ky)()),(0,c.PH)("[Siling/API] Get siling all co. and companies to show info failure",(0,c.Ky)())),L=(0,c.ZF)("dashboard"),_n=(0,c.P1)(L,e=>e.entrySaveLoading),hn=(0,c.P1)(L,e=>e.firstTimeLoading&&e.silingDataLoading),yn=(0,c.P1)(L,e=>e.silingDataLoading),xn=(0,c.P1)(L,e=>e.silingDataLastFetched),At=(0,c.P1)(L,e=>{var o;return null!==(o=e.silingData)&&void 0!==o?o:{}}),Zt=(0,c.P1)(L,e=>e.silingDataBeingFetchedNames),k=(0,c.P1)(Zt,At,(e,o)=>{const n=Object.keys(o),i={};let a=100;return n.length>0&&(a=Math.floor(100/n.length)),n.forEach((r,l)=>{const p=JSON.parse(JSON.stringify(o[r])).sort((y,f)=>y.date>f.date?1:-1),g=[];p.forEach((y,f,G)=>{const A=p[f-1];let b=0,O=0;A&&y&&(b=y.amount-A.amount,O=0===A.amount?1:b/A.amount),g.push(Object.assign(Object.assign({},y),{profit:b,profitPercent:O}))});const _=JSON.parse(JSON.stringify(g));i[r]=_.reverse()}),{data:i,keys:e,flexNumber:a}}),vn=(0,c.P1)(k,e=>{const o=[],n=[];e.keys.forEach(r=>{e.data&&e.data[r]&&e.data[r].forEach(l=>{n.push(l.date)})}),n.sort((r,l)=>r>l?1:-1);const i=new Set(n),a=Array.from(i);return e.keys.forEach(r=>{const l=(0,v.fm)(r),u=e.data[r];let p=[];if(u){const y={};u.forEach(f=>{y[f.date]=f.amount}),a.forEach((f,G)=>{p.push(void 0!==y[f]?+y[f]:NaN)})}let g=[],_=0;a.forEach((y,f)=>{isNaN(p[f])?g.push(_):(_=p[f],g.push(p[f]))}),o.push({name:l,data:g})}),{series:o,chart:{type:"line",height:350,zoom:{type:"x",enabled:!0,autoScaleYaxis:!0},toolbar:{autoSelected:"zoom"},width:"100%"},dataLabels:{enabled:!1},markers:{size:0},title:{text:"Siling Growth by Date",align:"left",style:{fontFamily:"Roboto"}},fill:{type:"gradient",gradient:{opacityFrom:.9,opacityTo:.9}},yaxis:{labels:{formatter:function(e){return e?"$"+(+e).toLocaleString(void 0):e+""}},title:{text:"$ Amount"}},xaxis:Ln(a),tooltip:{shared:!0,y:{formatter:function(e,o){return e?"$"+(0,v.gW)(e):e+""}}},legend:{show:!0,position:"top",horizontalAlign:"center",fontFamily:"Roboto",fontSize:"15px"},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}}}}),Cn=(0,c.P1)(k,e=>{let o={},n=0,i=0;return e.keys.forEach((a,r)=>{var l,u;if(e.data[a]){const p=JSON.parse(JSON.stringify(e.data[a]));p.sort((y,f)=>y.date>f.date?1:-1);const g=p[null!==(u=(null===(l=e.data[a])||void 0===l?void 0:l.length)-1)&&void 0!==u?u:0];0===r&&g&&(i=g.date);let _=+(null==g?void 0:g.amount);_=isNaN(_)?0:_,o[a]=_,n+=_,i<(null==g?void 0:g.date)&&(i=g.date)}}),{sumAmount:o,lastUpdated:i,total:n}}),Tn=(0,c.P1)(k,e=>{const o=[];e&&e.keys.forEach(a=>{e.data&&e.data[a]&&e.data[a].forEach(r=>{o.push(r.date)})}),o.sort((a,r)=>a>r?1:-1);const n=new Set(o);return Array.from(n)});function Ln(e){return{type:"datetime",categories:[...e]}}const Dt=(0,c.ZF)("dashboardUI"),In=(0,c.P1)(Dt,e=>e.currentSelection),St=(0,c.P1)(Dt,e=>e.allTabSelections),On=(0,c.P1)(St,In,(e,o)=>e&&o?e.findIndex(i=>i.id===o.id):0),tt=(0,c.PH)("[Siling/UI] Set dashboard view tab selection",(0,c.Ky)());var nt=s(2671);let Y=(()=>{class e{constructor(n,i){this.store=n,this.rs=i,this.isEntrySaveLoading$=this.store.select(_n),this.isDashboardDataFirstTimeLoading$=this.store.select(hn),this.isDataLoading$=this.store.select(yn),this.dashboardData$=this.store.select(k),this.chartData$=this.store.select(vn),this.summary$=this.store.select(Cn),this.selectTabIndex$=this.store.select(On),this.dashboardTabs$=this.store.select(St),this.silingData$=this.store.select(At),this.dataLastFetched$=this.store.select(xn),this.companiesShown$=this.store.select(Zt),this.getAllDates$=this.store.select(Tn)}saveSilingEntry(n){this.store.dispatch(z({payload:n}))}getSilingDataByInsName(n){n&&n.length>0&&this.store.dispatch(q({names:n}))}getSilingShowList(){this.store.dispatch(Tt())}fetchSilingCompanies(){return this.rs.getCollection("settings/kqpro/companies/all")}fetchShowHideList(){return this.rs.getDocument("settings/kqpro/showHideList")}setTab(n){this.store.dispatch(tt({tabIndex:n}))}refreshData(){this.store.dispatch(Ct())}getSilingShownIdsObs(){return(0,_t.D)({allCompanies:this.fetchSilingCompanies(),showHideList:this.fetchShowHideList()}).pipe((0,C.U)(n=>{const a=[];let r=[],l=[];return n.showHideList&&n.showHideList.hiding&&n.showHideList.hiding.length>-1&&(r=n.showHideList.hiding),n.showHideList&&n.showHideList.showing&&n.showHideList.showing.length>-1&&(l=n.showHideList.showing),n.allCompanies.forEach(p=>{r.findIndex(_=>_.name===p.name)<0&&a.push(p)}),a.sort((p,g)=>l.findIndex(f=>f.id===p.id)>l.findIndex(f=>f.id===g.id)?1:-1),a.map(p=>p.name.toLowerCase())}))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(c.yh),t.LFG(nt.v))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Qn=s(9841),$=s(655),B=s(8603),R=s(837);class w{transform(o){let n=o;switch(o){case"name":n="Name";break;case"example":n="Example";break;case"company":n="Siling Institution";break;case"date":n="Entry Date";break;case"gain":n="Gain By";break;case"loss":n="Loss By";break;case"balance":n="Current Balance"}return n}}w.\u0275fac=function(o){return new(o||w)},w.\u0275pipe=t.Yjl({name:"tableColumnDisplay",type:w,pure:!0}),(0,$.gn)([(0,B.Z)()],w.prototype,"transform",null);var j=s(9646);class F{transform(o){let n=o;switch(o){case"company":n="Select a Siling Ins.";break;case"date":n="Select a entry date";break;case"gain":case"loss":case"balance":n="Enter $ amount"}return n}}F.\u0275fac=function(o){return new(o||F)},F.\u0275pipe=t.Yjl({name:"filterLabelDisplay",type:F,pure:!0}),(0,$.gn)([(0,B.Z)()],F.prototype,"transform",null);class N{constructor(o,n){this.cs=o,this.as=n}transform(o){let n=(0,j.of)([]);return"company"===o&&(n=this.as.getSilingCompanies$),n}}N.\u0275fac=function(o){return new(o||N)(t.Y36(Y,16),t.Y36(dt.l,16))},N.\u0275pipe=t.Yjl({name:"filterValueSelections",type:N,pure:!0}),(0,$.gn)([(0,B.Z)()],N.prototype,"transform",null);class I{transform(o){const n=o.length;if(n)return{summary:n+(1===n?" error":" errors"),errors:o}}}function Un(e,o){1&e&&(t.TgZ(0,"div",18),t._uU(1," Please validate all filters before adding another. "),t.qZA())}function Jn(e,o){if(1&e&&(t.TgZ(0,"mat-option",28),t._uU(1),t.ALo(2,"tableColumnDisplay"),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",t.lcZ(2,2,n)," ")}}function qn(e,o){if(1&e&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n.name," ")}}function Gn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",33),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"filterLabelDisplay"),t.qZA(),t.TgZ(5,"mat-select",34),t.YNc(6,qn,2,2,"mat-option",27),t.ALo(7,"async"),t.ALo(8,"filterValueSelections"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(3),t.Oqu(t.lcZ(4,3,n)),t.xp6(2),t.Q6J("formControlName","filterValue"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(7,5,t.lcZ(8,7,n)))}}function Mn(e,o){1&e&&t.GkF(0)}function kn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-form-field",35),t.TgZ(2,"mat-label"),t._uU(3),t.ALo(4,"filterLabelDisplay"),t.qZA(),t.TgZ(5,"span",36),t._uU(6,"$ \xa0"),t.qZA(),t._UZ(7,"input",37),t.qZA(),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(3),t.hij(" ",t.lcZ(4,2,n)," "),t.xp6(4),t.Q6J("formControlName","filterValue")}}function Yn(e,o){if(1&e&&(t.ynx(0),t.ynx(1,29),t.TgZ(2,"div",30),t.YNc(3,Gn,9,9,"ng-container",31),t.YNc(4,Mn,1,0,"ng-container",31),t.YNc(5,kn,8,4,"ng-container",32),t.qZA(),t.BQk(),t.BQk()),2&e){const n=o.ngIf;t.xp6(1),t.Q6J("ngSwitch",n),t.xp6(2),t.Q6J("ngSwitchCase","company"),t.xp6(1),t.Q6J("ngSwitchCase","date")}}function $n(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",23),t.TgZ(2,"div",24),t._uU(3),t.qZA(),t.TgZ(4,"mat-form-field",25),t.TgZ(5,"mat-label"),t._uU(6,"Filter"),t.qZA(),t.TgZ(7,"mat-select",26),t.NdJ("selectionChange",function(){const r=t.CHM(n).index;return t.oxw(4).onFilterTypeChange(r)}),t.YNc(8,Jn,3,4,"mat-option",27),t.qZA(),t.qZA(),t.YNc(9,Yn,6,3,"ng-container",4),t.qZA(),t.BQk()}if(2&e){const n=o.index,i=t.oxw(4),a=t.MAs(13);t.xp6(1),t.Q6J("formGroupName",n),t.xp6(2),t.hij(" Filter ",n+1,": "),t.xp6(4),t.Q6J("formControlName","filterType"),t.xp6(1),t.Q6J("ngForOf",i.data.options),t.xp6(1),t.Q6J("ngIf",i.filterArray.at(n).get("filterType").value)("ngIfElse",a)}}function Bn(e,o){if(1&e&&(t.TgZ(0,"section",19),t.TgZ(1,"form",20),t.TgZ(2,"div",21),t.YNc(3,$n,10,6,"ng-container",22),t.qZA(),t.qZA(),t.qZA()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("formGroup",n.filterFg),t.xp6(1),t.Q6J("formArrayName","filters"),t.xp6(1),t.Q6J("ngForOf",n.filterArray.controls)}}function Rn(e,o){if(1&e&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.errorName," ")}}function jn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.TgZ(3,"ul"),t.YNc(4,Rn,2,1,"li",22),t.qZA(),t.BQk()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" ",n.summary," in filters: "),t.xp6(2),t.Q6J("ngForOf",n.errors)}}function Hn(e,o){if(1&e&&(t.ynx(0),t.YNc(1,jn,5,2,"ng-container",16),t.ALo(2,"formErrorDisplay"),t.BQk()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.allErrors))}}function Kn(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"section",8),t.TgZ(2,"div",9),t.TgZ(3,"button",10),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onAddNew()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA(),t._uU(6," Add new filter "),t.qZA(),t.YNc(7,Un,2,0,"div",11),t.qZA(),t.TgZ(8,"div"),t.TgZ(9,"button",12),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onRemoveAll()}),t.TgZ(10,"mat-icon"),t._uU(11,"delete_sweep"),t.qZA(),t._uU(12," Remove all "),t.qZA(),t.qZA(),t.qZA(),t._UZ(13,"hr"),t.YNc(14,Bn,4,3,"section",13),t._UZ(15,"hr",3),t.TgZ(16,"section",14),t.TgZ(17,"div",15),t.YNc(18,Hn,3,3,"ng-container",16),t.qZA(),t.TgZ(19,"div"),t.TgZ(20,"button",17),t.NdJ("click",function(){return t.CHM(n),t.oxw(2).onClose(!0)}),t.TgZ(21,"mat-icon"),t._uU(22,"save"),t.qZA(),t._uU(23," Apply "),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&e){const n=t.oxw(2);t.xp6(3),t.Q6J("disabled",n.filterFg.invalid),t.xp6(4),t.Q6J("ngIf",n.filterFg.touched&&n.filterFg.invalid),t.xp6(7),t.Q6J("ngIf",n.filterFg),t.xp6(4),t.Q6J("ngIf",n.filterFg.touched),t.xp6(2),t.Q6J("disabled",n.filterFg.invalid)}}function Vn(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,Kn,24,5,"ng-container",4),t.ALo(3,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw(),i=t.MAs(11);t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,2,n.isLoading$))("ngIfElse",i)}}function Wn(e,o){1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-shared-loading",38),t.qZA()),2&e&&(t.xp6(1),t.Q6J("message","filter data"))}function Xn(e,o){1&e&&(t.TgZ(0,"div",30),t._uU(1," \xa0 "),t.qZA())}I.\u0275fac=function(o){return new(o||I)},I.\u0275pipe=t.Yjl({name:"formErrorDisplay",type:I,pure:!0}),(0,$.gn)([(0,B.Z)()],I.prototype,"transform",null);let zn=(()=>{class e{constructor(n,i,a){if(this.dialogRef=n,this.data=i,this.fb=a,this.allErrors=[],this.compDest$=new H.x,this.filterFg=this.fb.group({filters:this.fb.array([])}),!(this.data.filterData.length>0)){const r=this.createDefaultFilter();this.filterArray.push(r)}this.filterFg.valueChanges.pipe((0,Z.R)(this.compDest$)).subscribe(r=>{this.allErrors=(0,v.dR)(this.filterFg)})}get filterArray(){return this.filterFg.get("filters")}ngOnInit(){var n,i;(null===(n=this.data)||void 0===n?void 0:n.companiesLoading)&&(null===(i=this.data)||void 0===i?void 0:i.silingDataLoading)&&(this.isLoading$=(0,Qn.a)([this.data.companiesLoading,this.data.silingDataLoading]).pipe((0,C.U)(a=>a[0]||a[1])))}onFilterTypeChange(n){var i,a;if(n>-1){const r=null===(i=this.filterArray.at(n))||void 0===i?void 0:i.get("filterValue");if(r){switch(null==r||r.reset(void 0,{emitEvent:!1}),(null===(a=this.filterArray.at(n))||void 0===a?void 0:a.get("filterType")).value){case"gain":case"loss":case"balance":r.setValidators([d.kI.required,lt.FV]);break;case"company":r.setValidators([d.kI.required]);break;case"date":r.clearValidators()}r.updateValueAndValidity()}}}createDefaultFilter(n){return this.fb.group({filterType:(0,v.j2)(null==n?void 0:n.valueType,!1),filterValue:(0,v.j2)(null==n?void 0:n.currentValue,!1,[d.kI.required])})}onAddNew(){this.filterFg.valid&&this.filterArray.push(this.createDefaultFilter())}onRemoveAll(){this.filterArray.clear(),this.onClose(!0)}onClose(n){this.dialogRef.close(n?this.filterFg.value:void 0)}onKeyEvent(n){n.key===U.ESCAPE&&this.onClose(!1)}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(E.so),t.Y36(E.WI),t.Y36(d.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-filter-dialog"]],decls:14,vars:2,consts:[["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","10px",1,"w-100",3,"ngxKeyEvent"],["fxLayout","row","fxLayoutAlign","space-between center",1,"if","title-bar-bg","title","w-100"],["mat-icon-button","","color","warn",3,"click"],[1,"w-100"],[4,"ngIf","ngIfElse"],["loading",""],["selectFilter",""],[1,"container"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutAlign","start center"],["mat-button","","color","primary",3,"disabled","click"],["class","text-muted ml-2 tt",4,"ngIf"],["mat-button","","color","warn",3,"click"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100","action-bar"],[1,"errors","text-danger"],[4,"ngIf"],["mat-stroked-button","","color","primary",3,"disabled","click"],[1,"text-muted","ml-2","tt"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","10px"],[1,"w-100","form-parent",3,"formGroup"],[3,"formArrayName"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",3,"formGroupName"],["fxFlex","8","fxLayout","row","fxLayoutAlign","start end",1,"count"],["appearance","standard","fxFlex","30"],[3,"formControlName","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],["fxFlex","50"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["appearance","standard"],[3,"formControlName"],["appearance","standard",1,""],["matPrefix",""],["matInput","","type","text",3,"formControlName"],[3,"message"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.NdJ("ngxKeyEvent",function(r){return i.onKeyEvent(r)}),t.TgZ(1,"section",1),t.TgZ(2,"div"),t._uU(3," Filter Manager "),t.qZA(),t.TgZ(4,"div"),t.TgZ(5,"button",2),t.NdJ("click",function(){return i.onClose(!1)}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"section",3),t.YNc(9,Vn,4,4,"ng-container",4),t.qZA(),t.qZA(),t.YNc(10,Wn,2,1,"ng-template",null,5,t.W1O),t.YNc(12,Xn,2,0,"ng-template",null,6,t.W1O)),2&n){const a=t.MAs(11);t.xp6(9),t.Q6J("ngIf",i.isLoading$)("ngIfElse",a)}},directives:[h.xw,h.Wh,h.SQ,gt.pb,K.lW,J.Hw,m.O5,d._Y,d.JL,d.sg,d.CE,m.sg,d.x0,h.yH,T.KE,T.hX,V.gD,d.JJ,d.u,ut.ey,m.RF,m.n9,m.ED,T.qo,pt.Nt,d.Fj,X.N],pipes:[m.Ov,w,F,N,I],styles:["section.title[_ngcontent-%COMP%]{padding:15px;font-size:18px}form.form-parent[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-family:Quicksand;font-weight:700;color:#2a2961}.action-bar[_ngcontent-%COMP%]   .errors[_ngcontent-%COMP%]{font-size:14px;min-width:5px}mat-form-field[_ngcontent-%COMP%]{width:100%}.tt[_ngcontent-%COMP%]{font-size:14px}.action-bar[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-top:-4px}"]}),e})(),te=(()=>{class e{constructor(n){this.dialog=n,this.dialogRef=void 0}getDialog(n){return this.dialogRef=void 0,this.dialogRef=this.dialog.open(zn,{data:n,panelClass:"filter-dialog-container",hasBackdrop:!0,autoFocus:!1,disableClose:!0,width:"calc(100% - 30rem)"}),this.dialogRef}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(E.uw))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var S=s(4836);function ne(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",3),t.TgZ(2,"div",4),t.TgZ(3,"div",5),t._uU(4),t.ALo(5,"dateDisplay"),t.qZA(),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"span",7),t._uU(8),t.ALo(9,"localeNumberDisplay"),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(3),t.Q6J("title","Last entry updated"),t.xp6(1),t.hij(" ",t.xi3(5,4,n.summaryData.lastUpdated,"MDYANDFROMNOW")," "),t.xp6(2),t.Q6J("title",n.summaryData.total),t.xp6(2),t.hij(" $ ",t.lcZ(9,7,n.summaryData.total)," ")}}function ee(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ne,10,9,"ng-container",0),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.summaryData)}}function oe(e,o){if(1&e&&(t.ynx(0),t.YNc(1,ee,2,1,"ng-container",2),t.ALo(2,"async"),t.BQk()),2&e){const n=t.oxw(),i=t.MAs(2);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,n.loading$))("ngIfElse",i)}}function ie(e,o){1&e&&(t.TgZ(0,"div",8),t._uU(1," Calculating summary... "),t.qZA())}let ae=(()=>{class e{constructor(){this.summaryData=void 0}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-summary"]],inputs:{summaryData:"summaryData",loading$:"loading$"},decls:3,vars:1,consts:[[4,"ngIf"],["loading",""],[4,"ngIf","ngIfElse"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","10px",1,"roboto","summary"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","5px",1,"text-muted"],[3,"title"],[1,"total",3,"title"],[1,"green"],["fxLayout","row","fxLayoutAlign","center center",1,"summary"]],template:function(n,i){1&n&&(t.YNc(0,oe,3,4,"ng-container",0),t.YNc(1,ie,2,0,"ng-template",null,1,t.W1O)),2&n&&t.Q6J("ngIf",i.loading$)},directives:[m.O5,h.xw,h.Wh,h.SQ],pipes:[m.Ov,R.o,S.i7],styles:[".total[_ngcontent-%COMP%]{font-weight:500;letter-spacing:1px}.green[_ngcontent-%COMP%]{color:#0c8d0c}.summary[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();var et=s(3251),re=s(1244);const se=["chart"];function ce(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"apx-chart",1,2),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("series",n.apexSeries)("chart",n.apexChart)("dataLabels",n.apexDataLabels)("markers",n.apexMarkers)("title",n.apexTitle)("fill",n.apexFill)("yaxis",n.apexYAxis)("xaxis",n.apexXAxis)("tooltip",n.apexTooltip)("legend",n.apexLegend)("grid",n.apexGrid)}}let le=(()=>{class e{constructor(n){this.ngZone=n,this.chartData=void 0}ngOnChanges(){this.initChartData()}ngOnInit(){}initChartData(){var n,i,a,r,l,u,p,g,_,y,f,G,A,b,O,it,at;this.apexSeries?this.apexSeries&&(null===(i=this.chartData)||void 0===i?void 0:i.series)&&((0,v.cO)(this.apexSeries,null===(a=this.chartData)||void 0===a?void 0:a.series)||(this.apexSeries=null===(r=this.chartData)||void 0===r?void 0:r.series)):this.apexSeries=null===(n=this.chartData)||void 0===n?void 0:n.series,this.apexXAxis?this.apexXAxis&&(null===(u=this.chartData)||void 0===u?void 0:u.xaxis)&&((0,v.cO)(this.apexXAxis.categories,null===(p=this.chartData)||void 0===p?void 0:p.xaxis.categories)||(this.apexXAxis=null===(g=this.chartData)||void 0===g?void 0:g.xaxis)):this.apexXAxis=null===(l=this.chartData)||void 0===l?void 0:l.xaxis,this.apexChart||(this.apexChart=null===(_=this.chartData)||void 0===_?void 0:_.chart),this.apexDataLabels||(this.apexDataLabels=null===(y=this.chartData)||void 0===y?void 0:y.dataLabels),this.apexMarkers||(this.apexMarkers=null===(f=this.chartData)||void 0===f?void 0:f.markers),this.apexTitle||(this.apexTitle=null===(G=this.chartData)||void 0===G?void 0:G.title),this.apexFill||(this.apexFill=null===(A=this.chartData)||void 0===A?void 0:A.fill),this.apexYAxis||(this.apexYAxis=null===(b=this.chartData)||void 0===b?void 0:b.yaxis),this.apexTooltip||(this.apexTooltip=null===(O=this.chartData)||void 0===O?void 0:O.tooltip),this.apexLegend||(this.apexLegend=null===(it=this.chartData)||void 0===it?void 0:it.legend),this.apexGrid||(this.apexGrid=null===(at=this.chartData)||void 0===at?void 0:at.grid)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.R0b))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-shared-line-chart"]],viewQuery:function(n,i){if(1&n&&t.Gf(se,5),2&n){let a;t.iGM(a=t.CRH())&&(i.chart=a.first)}},inputs:{chartData:"chartData"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[3,"series","chart","dataLabels","markers","title","fill","yaxis","xaxis","tooltip","legend","grid"],["chart",""]],template:function(n,i){1&n&&t.YNc(0,ce,3,11,"ng-container",0),2&n&&t.Q6J("ngIf",i.apexSeries&&i.apexXAxis&&i.apexChart&&i.apexDataLabels&&i.apexMarkers&&i.apexTooltip&&i.apexTitle&&i.apexFill&&i.apexYAxis&&i.apexLegend&&i.apexGrid)},directives:[m.O5,re.x],styles:[""],changeDetection:0}),e})();var ge=s(5899);let pe=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["shared-loading-bar"]],decls:2,vars:0,consts:[["mode","indeterminate"]],template:function(n,i){1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-progress-bar",0),t.qZA())},directives:[ge.pW],styles:[""]}),e})();var ue=s(2514);let me=(()=>{class e{constructor(){this.text=void 0}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-shared-popover"]],inputs:{text:"text"},decls:4,vars:6,consts:[["popoverPlacement","top-right",1,"popover-tooltip",3,"popover","popoverOnHover","popoverCloseOnClickOutside","popoverCloseOnMouseOutside","popoverDisabled","popoverAnimation"],[1,"parent"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-icon"),t._uU(3,"help_outline"),t.qZA(),t.qZA(),t.qZA()),2&n&&t.Q6J("popover",i.text+"")("popoverOnHover",!1)("popoverCloseOnClickOutside",!0)("popoverCloseOnMouseOutside",!1)("popoverDisabled",!1)("popoverAnimation",!0)},directives:[ue.k5,J.Hw],styles:[".popover-tooltip[_ngcontent-%COMP%]{display:flex;cursor:pointer}.popover-tooltip[_ngcontent-%COMP%]:hover   mat-icon.mat-icon[_ngcontent-%COMP%], .popover-tooltip[_ngcontent-%COMP%]:focus   mat-icon.mat-icon[_ngcontent-%COMP%]{color:#000}mat-icon.mat-icon[_ngcontent-%COMP%]{color:#33333357;font-size:17px}.parent[_ngcontent-%COMP%]{height:19px}"]}),e})();const fe=function(e){return{"border-btn-none":e,"list-group-item roboto":!0}};function de(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",1),t.ALo(2,"profitGainBgClass"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"div"),t._uU(6),t.ALo(7,"dateDisplay"),t.qZA(),t.TgZ(8,"div"),t._UZ(9,"app-shared-popover",4),t.qZA(),t.qZA(),t.TgZ(10,"div",5),t._uU(11),t.ALo(12,"dateFromNow"),t.qZA(),t.qZA(),t.TgZ(13,"div",6),t.TgZ(14,"div",7),t._uU(15),t.ALo(16,"localeNumberDisplay"),t.qZA(),t.TgZ(17,"div",8),t.ALo(18,"numberGainClass"),t.TgZ(19,"div",9),t.TgZ(20,"mat-icon",10),t._uU(21),t.ALo(22,"profitPercentIconClass"),t.qZA(),t.qZA(),t.TgZ(23,"div"),t._uU(24),t.ALo(25,"profitPercent"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(26,"div",11),t._uU(27),t.ALo(28,"profit"),t.qZA(),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.Tol(t.lcZ(2,14,n.entryDetail.profitPercent)),t.Q6J("ngClass",t.VKq(31,fe,n.isLast)),t.xp6(5),t.hij(" ",n.entryDetail.date?t.xi3(7,16,n.entryDetail.date,"MDY"):"NO DATE"," "),t.xp6(3),t.Q6J("text",n.entryDetail.date),t.xp6(2),t.hij(" ",t.lcZ(12,19,n.entryDetail.date)," "),t.xp6(4),t.hij(" $",t.lcZ(16,21,n.entryDetail.amount)," "),t.xp6(2),t.Tol("gains-rate numbers med-number spacing-half "+t.lcZ(18,23,n.entryDetail.profitPercent)),t.Q6J("title",n.entryDetail.profitPercent),t.xp6(4),t.Oqu(t.lcZ(22,25,n.entryDetail.profitPercent)),t.xp6(3),t.hij(" ",t.lcZ(25,27,n.entryDetail.profitPercent)," "),t.xp6(2),t.Q6J("title",n.entryDetail.profit),t.xp6(1),t.hij(" ",t.lcZ(28,29,n.entryDetail.profit)," ")}}let _e=(()=>{class e{constructor(){this.entryDetail=void 0,this.isLast=!1}ngOnChanges(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-siling-column-entry"]],inputs:{entryDetail:"entryDetail",isLast:"isLast"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","5px",3,"ngClass"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100","roboto","small-number","text-muted","date-info"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","5px",1,""],[3,"text"],[1,"from-now"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","space-between center","fxLayoutAlign","start center",1,"w-100"],[1,"dollar-amount","numbers","med-number"],["fxLayout","row","fxLayoutAlign","start center",3,"title"],["fxLayout","column","fxLayoutAlign","center center"],[1,"med-number"],["fxLayout","row","fxLayoutAlign","start center",1,"text-muted","numbers","small-number","w-100",3,"title"]],template:function(n,i){1&n&&t.YNc(0,de,29,33,"ng-container",0),2&n&&t.Q6J("ngIf",i.entryDetail)},directives:[m.O5,h.xw,h.Wh,h.SQ,m.mk,M.oO,me,J.Hw],pipes:[S.PD,R.o,R.G,S.i7,S.qw,S.ZJ,S.pY,S.u],styles:[".gains-rate[_ngcontent-%COMP%]{text-align:right}.dollar-amount[_ngcontent-%COMP%]{text-align:left;padding-left:0;letter-spacing:.5px}.date-info[_ngcontent-%COMP%]{height:21px}.date-info[_ngcontent-%COMP%]   .from-now[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.med-number[_ngcontent-%COMP%]{font-size:20px}.small-number[_ngcontent-%COMP%]{font-size:14px}.spacing-half[_ngcontent-%COMP%]{letter-spacing:.5px}.numbers[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:400}.positive[_ngcontent-%COMP%]{color:#00b33c}.negative[_ngcontent-%COMP%]{color:#b32400}.no-change[_ngcontent-%COMP%]{color:#888}.pos-bg[_ngcontent-%COMP%]{background-color:#e1f5e154}.neg-bg-1[_ngcontent-%COMP%]{background-color:#f7e5e536}.neg-bg-2[_ngcontent-%COMP%]{background-color:#f7e5e59e}.neg-bg-3[_ngcontent-%COMP%]{background-color:#f7e5e5d9}.no-change-bg[_ngcontent-%COMP%]{background-color:#cccccc0f}.border-btn-none[_ngcontent-%COMP%]{border-bottom:0px}"],changeDetection:0}),e})();function he(e,o){if(1&e&&(t.ynx(0),t._UZ(1,"app-core-siling-column-entry",9),t.BQk()),2&e){const n=o.$implicit,i=o.last;t.xp6(1),t.Q6J("entryDetail",n)("isLast",i)}}function ye(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"ul",7),t.YNc(2,he,2,2,"ng-container",8),t.qZA(),t.BQk()),2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.silingData)}}function xe(e,o){1&e&&(t.TgZ(0,"div",10),t._uU(1," No data returned. "),t.qZA())}const ve=function(e){return{"background-color":e}};let Ce=(()=>{class e{constructor(){this.silingCompanyId=void 0,this.silingData=[]}ngOnChanges(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-siling-column"]],inputs:{silingCompanyId:"silingCompanyId",silingData:"silingData"},features:[t.TTD],decls:11,vars:9,consts:[[1,"card","text-left","border-secondary"],[1,"img-center","fixed-img-height"],["alt","SiLing Co. Img","onerror","this.src = 'assets/banner/bank5.jpg'",1,"card-img-top","img-fixed-height",3,"src","ngStyle"],[1,"card-header","header"],[1,"panel-header","page-anchor"],[4,"ngIf","ngIfElse"],["noData",""],[1,"list-group"],[4,"ngFor","ngForOf"],[3,"entryDetail","isLast"],["fxLayout","row","fxLayoutAlign","center center",1,"px-3","py-3"]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"span",4),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.qZA(),t.TgZ(7,"div"),t.YNc(8,ye,3,1,"ng-container",5),t.YNc(9,xe,2,0,"ng-template",null,6,t.W1O),t.qZA(),t.qZA()),2&n){const a=t.MAs(10);t.xp6(2),t.Q6J("src","assets/banner/"+i.silingCompanyId+".jpg",t.LSH)("ngStyle",t.VKq(7,ve,"fidelity"===i.silingCompanyId?"#67941e":"#fff")),t.xp6(3),t.hij(" ",t.lcZ(6,5,i.silingCompanyId?i.silingCompanyId:"Unknown Siling ID")," "),t.xp6(3),t.Q6J("ngIf",i.silingData&&i.silingData.length>0)("ngIfElse",a)}},directives:[m.PC,M.Zl,m.O5,m.sg,_e,h.xw,h.Wh],pipes:[m.rS],styles:[".img-fixed-height[_ngcontent-%COMP%]{max-height:80px;max-width:300px}.img-center[_ngcontent-%COMP%]{text-align:center}.fid-background-green[_ngcontent-%COMP%]{background-color:#67941e}.panel-header[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:20px}.card-header.header[_ngcontent-%COMP%]{color:#8c8c8c}.fixed-img-height[_ngcontent-%COMP%]{height:5rem}"],changeDetection:0}),e})();const Te=["tabGroup"];function Ae(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",13),t._uU(2),t.ALo(3,"dateDisplay"),t.qZA(),t.BQk()),2&e){const n=o.ngIf;t.xp6(2),t.hij(" Last fetched: ",t.xi3(3,1,n,"FULLDATE")," ")}}function Ze(e,o){1&e&&(t.ynx(0),t._UZ(1,"shared-loading-bar"),t.BQk())}function De(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",16),t.TgZ(2,"div",17),t.YNc(3,Ze,2,0,"ng-container",3),t.ALo(4,"async"),t.qZA(),t._UZ(5,"app-shared-line-chart",18),t.ALo(6,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2);t.xp6(3),t.Q6J("ngIf",t.lcZ(4,2,n.cs.isDataLoading$)),t.xp6(2),t.Q6J("chartData",t.lcZ(6,4,n.cs.chartData$))}}function Se(e,o){if(1&e&&(t.TgZ(0,"section",14),t.YNc(1,De,7,6,"ng-container",15),t.ALo(2,"async"),t.qZA()),2&e){const n=t.oxw(),i=t.MAs(34);t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,2,n.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",i)}}function be(e,o){if(1&e&&(t.TgZ(0,"mat-icon",23),t._uU(1),t.qZA(),t._uU(2)),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.tabIcon),t.xp6(1),t.hij(" ",n.display," ")}}function Ee(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"app-core-siling-column",26),t.qZA(),t.BQk()),2&e){const n=o.$implicit,i=t.oxw(2).ngIf;t.xp6(1),t.Q6J("fxFlex",i.flexNumber+"%"),t.xp6(1),t.Q6J("silingCompanyId",n)("silingData",i.data[n])}}function Le(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Ee,3,3,"ng-container",9),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",n.keys)}}function we(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Le,2,1,"ng-container",15),t.BQk()),2&e){const n=o.ngIf;t.oxw(4);const i=t.MAs(36);t.xp6(1),t.Q6J("ngIf",n.keys&&n.keys.length>0)("ngIfElse",i)}}function Fe(e,o){if(1&e&&(t.ynx(0),t.YNc(1,we,2,2,"ng-container",3),t.ALo(2,"async"),t.BQk()),2&e){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,n.cs.dashboardData$))}}function Ne(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"section",24),t.YNc(2,Fe,3,3,"ng-container",15),t.ALo(3,"async"),t.qZA(),t.BQk()),2&e){const n=t.oxw(2),i=t.MAs(32);t.xp6(2),t.Q6J("ngIf",!1===t.lcZ(3,2,n.cs.isDashboardDataFirstTimeLoading$))("ngIfElse",i)}}function Ie(e,o){1&e&&(t.ynx(0),t._uU(1," Table "),t.BQk())}function Oe(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"mat-tab",19),t.YNc(2,be,3,2,"ng-template",20),t.ynx(3,21),t.YNc(4,Ne,4,4,"ng-container",22),t.YNc(5,Ie,2,0,"ng-container",22),t.BQk(),t.qZA(),t.BQk()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("label",n.display),t.xp6(2),t.Q6J("ngSwitch",n.id),t.xp6(1),t.Q6J("ngSwitchCase","expandedView"),t.xp6(1),t.Q6J("ngSwitchCase","compactView")}}function Pe(e,o){1&e&&(t.TgZ(0,"div",27),t._UZ(1,"app-shared-loading"),t.qZA())}function Qe(e,o){1&e&&(t.TgZ(0,"div",27),t._UZ(1,"app-shared-loading",28),t.qZA()),2&e&&(t.xp6(1),t.Q6J("message","Graph"))}function Ue(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1," No data to show. "),t.qZA())}const Je=["company","date","gain","loss","balance"];let qe=(()=>{class e{constructor(n,i,a,r,l,u){this.neds=n,this.as=i,this.cs=a,this.router=r,this.route=l,this.fds=u,this.showGraph=Nt.N.showGraph,this.compDest$=new H.x}ngOnInit(){}ngAfterViewInit(){}onNewEntryClick(){this.as.fetchSilingCompanies();const n={amount:void 0,company:void 0,companies:this.as.getSilingCompanies$,companyLoading:this.as.getSilingCompanyLoading$,date:(new Date).getTime()};this.neds.getDialog(n).afterClosed().pipe((0,Z.R)(this.compDest$)).subscribe(a=>{if(a&&a.amount&&a.company&&a.date){const l={amount:(0,v.G5)(a.amount),company:a.company.name.toLowerCase(),date:a.date.getTime(),id:void 0};this.cs.saveSilingEntry(l)}})}onTabChange(n){var i;const a=null!==(i=n.index)&&void 0!==i?i:0;this.router.navigate(["./"],{queryParams:{tabIndex:a}})}onRefresh(){this.cs.getSilingShowList()}onOpenFilters(){this.fds.getDialog({companiesLoading:this.as.getSilingCompanyLoading$,silingDataLoading:this.cs.isDataLoading$,options:Je,filterData:[]}).afterClosed().pipe((0,Z.R)(this.compDest$)).subscribe(a=>{console.log(a)})}ngOnDestroy(){this.compDest$.next(),this.compDest$.complete()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(ft),t.Y36(dt.l),t.Y36(Y),t.Y36(P.F0),t.Y36(P.gz),t.Y36(te))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-core-home"]],viewQuery:function(n,i){if(1&n&&t.Gf(Te,5),2&n){let a;t.iGM(a=t.CRH())&&(i.viewTabGroup=a.first)}},decls:37,vars:14,consts:[["fxLayout","row","fxLayoutAlign","space-between center",1,"sticky-top","dashboard"],[1,""],["mat-button","","color","primary",3,"click"],[4,"ngIf"],[1,"summary-parent"],[3,"summaryData","loading$"],["class","w-100","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],["mat-align-tabs","center","animationDuration","0ms",1,"pb-3","siling-tab-group",3,"selectedIndex","selectedTabChange"],["tabGroup",""],[4,"ngFor","ngForOf"],["isLoading",""],["isChartLoading",""],["noDataShown",""],[1,"if"],["fxLayout","column","fxLayoutAlign","start center",1,"w-100"],[4,"ngIf","ngIfElse"],[1,"chart-shell"],[1,"load-parent"],[3,"chartData"],[3,"label"],["mat-tab-label",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"tab-icon","mr-2"],["fxLayout.gt-sm","row","fxLayout","column","fxLayoutAlign.gt-sm","center start","fxLayoutAlign","start center","fxLayoutGap.gt-sm","10px","fxLayoutGap","5px",1,""],[1,"",3,"fxFlex"],[3,"silingCompanyId","silingData"],[1,"w-100"],[3,"message"]],template:function(n,i){1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return i.onNewEntryClick()}),t.TgZ(3,"mat-icon"),t._uU(4,"add"),t.qZA(),t.TgZ(5,"span"),t._uU(6,"New entry"),t.qZA(),t.qZA(),t.TgZ(7,"button",2),t.NdJ("click",function(){return i.onRefresh()}),t.TgZ(8,"mat-icon"),t._uU(9,"refresh"),t.qZA(),t.TgZ(10,"span"),t._uU(11,"Refresh"),t.qZA(),t.qZA(),t.TgZ(12,"button",2),t.NdJ("click",function(){return i.onOpenFilters()}),t.TgZ(13,"mat-icon"),t._uU(14,"filter_list"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"Filters"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div"),t.YNc(18,Ae,4,4,"ng-container",3),t.ALo(19,"async"),t.qZA(),t.qZA(),t.TgZ(20,"section",4),t._UZ(21,"app-core-summary",5),t.ALo(22,"async"),t.qZA(),t._UZ(23,"hr"),t.YNc(24,Se,3,4,"section",6),t._UZ(25,"hr"),t.TgZ(26,"mat-tab-group",7,8),t.NdJ("selectedTabChange",function(r){return i.onTabChange(r)}),t.ALo(28,"async"),t.YNc(29,Oe,6,4,"ng-container",9),t.ALo(30,"async"),t.qZA(),t.YNc(31,Pe,2,0,"ng-template",null,10,t.W1O),t.YNc(33,Qe,2,1,"ng-template",null,11,t.W1O),t.YNc(35,Ue,2,0,"ng-template",null,12,t.W1O)),2&n&&(t.xp6(18),t.Q6J("ngIf",t.lcZ(19,6,i.cs.dataLastFetched$)),t.xp6(3),t.Q6J("summaryData",t.lcZ(22,8,i.cs.summary$))("loading$",i.cs.isDataLoading$),t.xp6(3),t.Q6J("ngIf",i.showGraph),t.xp6(2),t.Q6J("selectedIndex",t.lcZ(28,10,i.cs.selectTabIndex$)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(30,12,i.cs.dashboardTabs$)))},directives:[h.xw,h.Wh,K.lW,J.Hw,m.O5,ae,et.SP,m.sg,le,pe,et.uX,et.uD,m.RF,m.n9,h.SQ,h.yH,Ce,X.N],pipes:[m.Ov,R.o],styles:[".chart-shell[_ngcontent-%COMP%]{width:calc(100% - 10rem)}.chart-shell[_ngcontent-%COMP%]   .load-parent[_ngcontent-%COMP%]{height:5px}button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px}.sticky-top.dashboard[_ngcontent-%COMP%]{z-index:20;background-color:#fff;border-bottom:1px solid #eee}"]}),e})();var Ge=s(9770),ke=s(5698),Ye=s(9639),ot=s(755);const $e=[{path:"",component:Ft,children:[{path:"",redirectTo:"summary",pathMatch:"full"},{path:"summary",component:qe,data:{pageTitle:"Summary"}}],resolve:{resolverFired:(()=>{class e{constructor(n,i,a){this.cs=n,this.ss=i,this.ts=a,this.getCompaniesBeingDisplayedIds$=this.cs.getSilingShownIdsObs().pipe((0,ct.b)(r=>{this.cs.getSilingDataByInsName(r)}))}resolve(n,i){return console.log("Running resolver..."),this.cs.silingData$.pipe((0,ke.q)(1),(0,C.U)(a=>{if(Object.keys(a).length>0)return console.log("Using existing data."),a;console.log("Fetching data.")}),(0,Q.w)(a=>function(e,o,n){return(0,Ge.P)(()=>a?o:n)}(0,(0,j.of)(a),this.getCompaniesBeingDisplayedIds$)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(Y),t.LFG(Ye.g),t.LFG(ot.M))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},runGuardsAndResolvers:"always"}];let Be=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[P.Bz.forChild($e)],P.Bz]}),e})();var Re=s(5577),bt=s(262);const je=[(()=>{class e{constructor(n,i,a,r){this.actions$=n,this.ts=i,this.rs=a,this.cs=r,this.saveSilingEntry$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(z),(0,Re.z)(l=>{const u=l.payload,p=this.rs.addEntryToCollection(u),g=Object.assign(Object.assign({},u),{id:p.id});return p.operationObs.then(_=>(this.ts.getSuccess("Entry added successfully."),ht({payload:g,date:(new Date).getTime()}))).catch(_=>yt({errMsg:_}))}))),this.getSilingToShowIds$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Tt),(0,Q.w)(l=>this.cs.getSilingShownIdsObs().pipe((0,C.U)(u=>q({names:u})),(0,bt.K)(u=>(0,j.of)(dn({errMsg:u}))))))),this.getSilingDataByNames$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(q),(0,Q.w)(l=>{const p={};return l.names.forEach(g=>{p[g]=this.rs.getDataByCollectionName(g)}),(0,_t.D)(p).pipe((0,C.U)(g=>(this.ts.getSnackbar("Fetched data successfully."),xt({payload:g,date:(new Date).getTime()}))),(0,bt.K)(g=>(0,j.of)(vt({errMsg:g}))))}))),this.refreshData$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Ct),(0,x.IC)(()=>this.cs.companiesShown$),(0,C.U)(l=>q({names:l[1]}))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(x.eX),t.LFG(ot.M),t.LFG(nt.v),t.LFG(Y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})()],Ke=(0,c.Lq)({entrySaveLoading:!1,entryApiErr:!1,entryToSave:void 0,entryApiErrMsg:void 0,silingDataBeingFetchedNames:[],silingDataErr:!1,silingDataLoading:!1,silingData:void 0,firstTimeLoading:!0,silingDataLastFetched:void 0},(0,c.on)(z,(e,{payload:o})=>Object.assign(Object.assign({},e),{entrySaveLoading:!0,entryToSave:o})),(0,c.on)(ht,(e,{payload:o})=>Object.assign(Object.assign({},e),{entryApiErr:!1,entryApiErrMsg:void 0,entrySaveLoading:!1,entryToSave:o})),(0,c.on)(yt,(e,{errMsg:o})=>Object.assign(Object.assign({},e),{entryApiErr:!0,entryApiErrMsg:o,entrySaveLoading:!1})),(0,c.on)(q,(e,{names:o})=>Object.assign(Object.assign({},e),{silingDataBeingFetchedNames:o,silingDataLoading:!0})),(0,c.on)(xt,(e,{payload:o,date:n})=>Object.assign(Object.assign({},e),{silingDataLoading:!1,silingData:o,silingDataErrMsg:void 0,silingDataErr:!1,firstTimeLoading:!1,silingDataLastFetched:n})),(0,c.on)(vt,(e,{errMsg:o})=>Object.assign(Object.assign({},e),{silingDataLoading:!1,silingDataErrMsg:o,silingDataErr:!0,firstTimeLoading:!0}))),We=(0,c.Lq)({allTabSelections:[{display:"Expanded View",id:"expandedView",index:0,tabIcon:"collections"},{display:"Compact View",id:"compactView",index:1,tabIcon:"table_chart"}],currentSelection:void 0},(0,c.on)(tt,(e,{tabIndex:o})=>{let n;return e.allTabSelections&&(n=e.allTabSelections.find(i=>i.index+""===o)),Object.assign(Object.assign({},e),{currentSelection:n})}));var Xe=s(2182),ze=s(5093);const to=[(()=>{class e{constructor(n,i,a,r){this.actions$=n,this.ts=i,this.rs=a,this.routerService=r,this.setTabSelection$=(0,x.GW)(()=>this.actions$.pipe((0,x.l4)(Xe.CE),(0,x.IC)(()=>this.routerService.queryParams$),(0,C.U)(l=>{var u;const p=(null!==(u=l[1].tabIndex)&&void 0!==u?u:0)+"";return tt({tabIndex:p})})),{dispatch:!0})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(x.eX),t.LFG(ot.M),t.LFG(nt.v),t.LFG(ze.c))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})()];let no=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[ft],imports:[[wt.n,Et.I,x.sQ.forFeature(je),x.sQ.forFeature(to),c.Aw.forFeature("dashboard",Ke),c.Aw.forFeature("dashboardUI",We),Be,Lt.d]]}),e})()}}]);